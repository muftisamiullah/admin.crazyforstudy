(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var c="https://cfs-admin-panel.herokuapp.com/api/v1/"},105:function(e,t,a){},111:function(e,t,a){},13:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var c=a(4),n=a(1),s=a(247),i=a(94),r=a(142),o=a(0),l=function(e){var t=e.children,a=Object(n.useState)(!1),l=Object(c.a)(a,2),d=l[0],u=l[1];return Object(n.useEffect)((function(){u(!0)}),[d]),Object(o.jsx)(s.a,{children:Object(o.jsx)(i.a,{xs:12,className:"",children:Object(o.jsx)(r.a,{variant:"info",onClose:function(){return u(!1)},dismissible:!0,children:t})})})}},140:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return g}));var c=a(25),n=a(2),s=a.n(n),i=a(6),r=a(3),o=a(4),l=a(1),d=(a(19),a(24)),u=a(8),j=a(43),b=a(73),m=a(27),p=a(26),v=a(58),h=a(5),O=a(13),x=a(21),f=a(23),N=a(0);function g(){var t=this,a=Object(d.g)(),n=Object(d.i)(),g=Object(l.useContext)(h.a).state,_=Object(l.useContext)(x.a),k=_.state,y=_.dispatch,w=Object(l.useContext)(f.a),C=w.state,S=w.dispatch,T=Object(v.a)(),E=T.randomPassword,A=T.generateRandomPassword,q=Object(l.useState)(""),B=Object(o.a)(q,2),D=B[0],R=B[1],L=Object(l.useState)(!1),I=Object(o.a)(L,2),F=I[0],P=I[1];function U(){return(U=Object(r.a)(s.a.mark((function e(t){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c=null,D.module_method="delete",D.module_password=E,D.module_plain_password=E,!n.id){e.next=11;break}return e.next=8,m.c("master-delete/update/".concat(n.id),D);case 8:c=e.sent,e.next=14;break;case 11:return e.next=13,m.d("master-delete/create",D);case 13:c=e.sent;case 14:P(!0),y({type:"SET_SUCCESS",payload:c.message}),S({type:"GET_REMOVE_ALL_DATA",payload:c.data.data}),a.push("/master-module/password/".concat(n.module_name,"/").concat(n.module_id));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return z.apply(this,arguments)}function z(){return(z=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n=a.replace(/[^a-zA-Z0-9-, ]/g,""),R(Object(i.a)(Object(i.a)({},D),{},Object(c.a)({},t.target.name,n)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=Object(p.a)({method:"get",url:"master-delete/view/".concat(n.module_name)}).response,G=Object(l.useState)(""),V=Object(o.a)(G,2),K=V[0],H=V[1];Object(l.useEffect)((function(){if(null!==Q){var e=Q.data;S({type:"GET_REMOVE_ALL_DATA",payload:e}),H(e)}}),[Q,F]),Object(l.useEffect)((function(){var e=setTimeout((function(){return y({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return y({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[k.error,k.success]),Object(l.useEffect)((function(){R(Object(i.a)(Object(i.a)({},D),{},{module_name:n.module_name,module_id:n.module_id,module_method:""}))}),[n]);var J=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/delete-data/master-module/delete/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/master-module/password/".concat(n.module_name,"/").concat(n.module_id,"/").concat(t.module_method,"/").concat(t.id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=Object(l.useState)(!0),X=Object(o.a)(W,2),Z=X[0],$=X[1],ee=Object(l.useState)(!1),te=Object(o.a)(ee,2),ae=te[0],ce=te[1],ne=Object(l.useState)(!1),se=Object(o.a)(ne,2),ie=se[0],re=se[1],oe=Object(l.useState)(""),le=Object(o.a)(oe,2),de=le[0],ue=le[1],je=function(){"wrongpassword"==de?(re(!0),ce(!1)):(alert("you have entered a wrong password"),re(!1),ce(!0),ue(""))};return Object(N.jsx)(N.Fragment,{children:g.isLoggedIn&&k&&C.RemoveAllDatas&&Object(N.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(N.jsx)("div",{className:"main-area-all",children:Object(N.jsxs)("div",{className:"dashboard_main-container",children:[Object(N.jsx)("div",{className:"dash-main-head",children:Object(N.jsx)("h2",{children:"Create New Module"})}),Object(N.jsx)("div",{className:"dash-cont-start",children:Object(N.jsxs)("div",{className:"org-main-area",children:[Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-md-4",children:Object(N.jsx)(u.b,{to:"/master-module",className:"btn btn-sm dark",children:Object(N.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(N.jsx)("div",{className:"col-md-8 pl-0",children:Object(N.jsx)("h5",{children:Object(N.jsx)("em",{children:Object(N.jsx)("b",{children:"All Methods Password"})})})})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-md-4 no-gutter mt-2",children:[k.error&&Object(N.jsx)(O.a,{children:k.error}),k.success&&Object(N.jsx)(O.a,{children:k.success}),Object(N.jsxs)(j.a,{autoComplete:"off",className:"col-md-12 p-0",children:[Object(N.jsxs)(j.a.Group,{method:"POST",children:[Object(N.jsx)(j.a.Label,{children:"Module Name"}),Object(N.jsx)(j.a.Control,{name:"module_name",autoComplete:"off",defaultValue:n.module_name,onChange:M,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Module Name"})]}),Object(N.jsxs)(j.a.Group,{method:"POST",children:[Object(N.jsx)(j.a.Label,{children:Object(N.jsxs)("p",{className:"pl-0 mb-0",style:{cursor:"pointer",fontWeight:"bold"},onClick:A,children:[Object(N.jsx)("span",{className:"fa fa-lock mr-2 text-success"}),"Generate Random password"]})}),Object(N.jsx)(j.a.Control,{name:"module_password",autoComplete:"off",defaultValue:e.module_password?A:E,onChange:M,readOnly:!0,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Module Password"})]}),Object(N.jsxs)(j.a.Group,{className:"mt-3",children:[Object(N.jsx)(b.a,{onClick:function(e){return U.apply(this,arguments)},className:"btn dark btn-md",children:n.id?"Update Password":"Save Password"}),n.id&&Object(N.jsx)(b.a,{onClick:function(){a.push("/master-module/password/".concat(n.module_name,"/").concat(n.module_id))},className:"btn dark btn-md ml-2",children:"Cancel"})]})]})]}),Object(N.jsx)("div",{className:"col-md-4 pl-0 subject-main-container",children:K&&K.map((function(e){return Object(N.jsxs)("div",{className:"col-md-12 module-card",id:"card-".concat(e._id),children:[Object(N.jsxs)("div",{className:"subject-card-body mt-2",children:[Object(N.jsxs)("div",{className:"admin-name",children:[Object(N.jsx)("div",{className:"name-label",children:"Module Name:"}),Object(N.jsx)("div",{className:"name-main",children:e.module_name})]}),Object(N.jsxs)("div",{className:"admin-name",children:[Object(N.jsx)("div",{className:"name-label",children:"Module Method:"}),Object(N.jsx)("div",{className:"name-main",children:e.module_method})]}),Object(N.jsxs)("div",{className:"admin-name",children:[Object(N.jsx)("div",{className:"name-label",children:"Module Password:"}),Z&&Object(N.jsxs)("div",{className:"name-main",children:[Object(N.jsx)("span",{children:"*************"}),Object(N.jsx)("span",{className:"fa fa-eye ml-2",style:{cursor:"pointer"},onClick:function(e){ce(!0),$(!1),ue("")}})]}),ie&&Object(N.jsxs)("div",{className:"name-main",children:[Object(N.jsx)("span",{children:e.module_plain_password}),Object(N.jsx)("div",{className:"update-icons col-md-3 pr-2",children:Object(N.jsx)("span",{className:" fa fatimes ml-2",style:{cursor:"pointer"},onClick:function(e){ce(!1),re(!1),$(!0)}})})]}),ae&&Object(N.jsxs)("div",{className:"name-main",children:[Object(N.jsx)("input",{type:"password",name:"password",autoComplete:"off",value:de,onChange:function(e){return ue(e.target.value)},className:"col-md-9 form-control",style:{height:"25px"}}),Object(N.jsxs)("div",{className:"update-icons col-md-3 pr-2",children:[Object(N.jsx)("span",{className:"ml-2 fa fa-eye-slash",style:{cursor:"pointer"},onClick:je}),Object(N.jsx)("span",{className:"ml-2 fa fa-times",style:{cursor:"pointer"},onClick:function(e){ce(!1),$(!0)}})]})]})]}),Object(N.jsxs)("div",{className:"admin-name",children:[Object(N.jsx)("div",{className:"name-label",children:"Status:"}),Object(N.jsx)("div",{className:"name-main",children:1==e.status?"Active":"Inactive"})]})]}),Object(N.jsx)("hr",{className:"mt-2 mb-2"}),Object(N.jsxs)("div",{className:"subject-card-heading",children:[Object(N.jsx)("div",{}),Object(N.jsxs)("div",{children:[Object(N.jsx)(b.a,{className:"delBtn",onClick:Y.bind(t,{id:e._id,module_method:e.module_method}),children:Object(N.jsx)("span",{className:"fa fa-edit text-muted mr-2"})}),Object(N.jsx)(b.a,{className:"delBtn",onClick:J.bind(t,e._id),children:Object(N.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})]},e._id)}))})]})]})})]})})})})}}).call(this,a(245)(e))},148:function(e,t,a){},149:function(e,t,a){},19:function(e,t,a){},21:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var c=a(4),n=a(6),s=a(1),i=a(0),r=Object(s.createContext)(),o=function(e,t){switch(t.type){case"SET_ERROR":return Object(n.a)(Object(n.a)({},e),{},{error:t.payload});case"SET_SUCCESS":return Object(n.a)(Object(n.a)({},e),{},{success:t.payload});default:return e}};t.b=function(e){var t=e.children,a=Object(s.useReducer)(o,{error:null}),n=Object(c.a)(a,2),l=n[0],d=n[1];return Object(i.jsx)(r.Provider,{value:{state:l,dispatch:d},children:t})}},211:function(e,t,a){},226:function(e,t){},228:function(e,t){},23:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var c=a(4),n=a(6),s=a(1),i=a(0),r=Object(s.createContext)(),o=function(e,t){switch(t.type){case"GET_ALL_ADMIN":return Object(n.a)(Object(n.a)({},e),{},{Admins:t.payload});case"GET_ALL_ROLE":return Object(n.a)(Object(n.a)({},e),{},{Roles:t.payload});case"GET_ALL_MODLISTS":return Object(n.a)(Object(n.a)({},e),{},{ModLists:t.payload});case"GET_REMOVE_ALL_DATA":return Object(n.a)(Object(n.a)({},e),{},{RemoveAllDatas:t.payload});case"GET_MODLIST":return Object(n.a)(Object(n.a)({},e),{},{ModList:t.payload});case"SET_USER":return Object(n.a)(Object(n.a)({},e),{},{user:t.payload});case"GET_ROLE":return Object(n.a)(Object(n.a)({},e),{},{role:t.paylaod});case"GET_ALL_PERMISSION_GROUPS":return Object(n.a)(Object(n.a)({},e),{},{permissionGroups:t.payload});case"SET_SELECTED_METHOD":return Object(n.a)(Object(n.a)({},e),{},{selected_methods:t.payload});case"SET_SA_ROUTES":return Object(n.a)(Object(n.a)({},e),{},{superAdminRoutes:t.payload});case"SET_A_ROUTES":return Object(n.a)(Object(n.a)({},e),{},{adminRoutes:t.payload});case"GET_ALL_ROLE_PERMISSION":return Object(n.a)(Object(n.a)({},e),{},{RolePermissions:t.payload});case"GET_ROLE_PERMISSIONS":return Object(n.a)(Object(n.a)({},e),{},{AllRolePermissions:t.payload});case"GET_ALL_BOOKS":return Object(n.a)(Object(n.a)({},e),{},{AllBooks:t.payload});case"Book_CurrentPage":return Object(n.a)(Object(n.a)({},e),{},{CurrentPage:t.payload});default:return e}},l=localStorage.getItem("pageno");t.b=function(e){var t=e.children,a=Object(s.useReducer)(o,{Admins:[],Roles:[],RolePermissions:[],AllRolePermissions:[],ModLists:[],RemoveAllDatas:[],permissionGroups:[],role:{id:"",name:"",description:"",role:""},ModList:{id:"",module_name:"",description:""},methods:[{name:"create",value:"Create Module",checked:!1},{name:"update",value:"Update Module",checked:!1},{name:"delete",value:"Delete Module",checked:!1},{name:"view",value:"View Module",checked:!1},{name:"view-all",value:"View All Module",checked:!1},{name:"delete-all",value:"Delete All Module",checked:!1},{name:"upload",value:"Uplaod Module",checked:!1}],selected_methods:[],superAdminRoutes:[],adminRoutes:[],AllBooks:[],CurrentPage:void 0===l?1:l}),n=Object(c.a)(a,2),d=n[0],u=n[1];return Object(i.jsx)(r.Provider,{value:{state:d,dispatch:u},children:t})}},246:function(e,t,a){"use strict";a.r(t);var c={};a.r(c),a.d(c,"checkExists",(function(){return _})),a.d(c,"getFilteredData",(function(){return k})),a.d(c,"MakeSlug",(function(){return v})),a.d(c,"SameSlug",(function(){return h})),a.d(c,"GetString",(function(){return O})),a.d(c,"GetName",(function(){return x})),a.d(c,"getAllValue",(function(){return f})),a.d(c,"ObjectToCsv",(function(){return N})),a.d(c,"downloadData",(function(){return g}));var n=a(1),s=a.n(n),i=a(37),r=a.n(i),o=(a(148),a(8)),l=a(24),d=(a(149),a(249)),u=a(5),j=a(2),b=a.n(j),m=a(135),p=a(3),v=function(e){var t,a,c;return null===e||void 0===e||null===(t=e.trim())||void 0===t||null===(a=t.toLowerCase())||void 0===a||null===(c=a.replace(/[^\w ]+/g,""))||void 0===c?void 0:c.replace(/ +/g,"-")},h=function(e){var t,a;return null===e||void 0===e||null===(t=e.trim())||void 0===t||null===(a=t.replace(/[^\w ]+/g,""))||void 0===a?void 0:a.replace(/ +/g,"-")},O=function(e,t){return e?e.substr(0,t):""},x=function(e){return e?e.replaceAll("-"," "):""},f=function(e){var t=e.split("-");return{id:t[0],value:v(t[1]),value2:v(t[2])}},N=function(){var e=Object(p.a)(b.a.mark((function e(t){var a,c,n,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],c=Object.keys(t[0]),a.push(c.join(",")),n=Object(m.a)(t);try{for(i=function(){var e=s.value,t=c.map((function(t){var a=(""+e[t]).replace(/"/g,'\\"');return'"'.concat(a,'"')}));a.push(t.join(","))},n.s();!(s=n.n()).done;)i()}catch(r){n.e(r)}finally{n.f()}return e.abrupt("return",a.join("\n"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(b.a.mark((function e(t,a){var c,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=new Blob([t],{type:"text/csv"}),n=window.URL.createObjectURL(c),(s=document.createElement("a")).setAttribute("hidden",""),s.setAttribute("href",n),s.setAttribute("download","".concat(a,".csv")),document.body.appendChild(s),s.click(),document.body.removeChild(s);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function _(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0;if("undefined"!==typeof t)return null===(e=Array.from(t))||void 0===e?void 0:e.some((function(e){return e[a]==c}))}function k(e,t,a,c){if("undefined"!==typeof e){var n,s=null===Array||void 0===Array||null===(n=Array.from(e))||void 0===n?void 0:n.filter((function(e){return e[t]==a}));if(void 0!==s[0])return s&&s[0][c]}}var y=a(252),w=a(7),C=a.n(w),S=a(10);function T(e,t){Object(l.i)();var a=Object(n.useContext)(u.a).state,c="";return c=S.a,Object(y.a)("roledmoules-".concat(e,"-").concat(t),Object(p.a)(b.a.mark((function n(){var s;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e||!t){n.next=5;break}return n.next=3,C.a.get("".concat(c,"role-module/view/").concat(e,"/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 3:return s=n.sent,n.abrupt("return",s.data.data);case 5:case"end":return n.stop()}}),n)}))))}var E=a(0);function A(){var e=Object(l.g)(),t=(Object(l.i)(),Object(n.useContext)(u.a)),a=t.state,c=t.dispatch;var s=T(a.role,a.email).data;return Object(E.jsx)(E.Fragment,{children:a.isLoggedIn&&Object(E.jsxs)("div",{className:"login_menu col-lg-2 col-md-2 col-12",bg:"dark",variant:"dark",expand:"lg",children:[Object(E.jsx)("div",{className:"webLogo col-md-2 pt-2 pb-2",children:Object(E.jsx)("img",{src:"/logo_2.png",className:"img-responsive",style:{width:"180px"},alt:"User"})}),Object(E.jsxs)("div",{className:"user_area",children:[Object(E.jsx)("div",{className:"user_icon",children:Object(E.jsx)("img",{src:"/user.png",alt:"User"})}),Object(E.jsxs)("div",{className:"user_details",children:[Object(E.jsx)("span",{className:"user_name",children:a.fullname}),Object(E.jsx)("span",{className:"user_name"})]}),Object(E.jsxs)("div",{className:"user_options flex pl-2 pr-2 pb-3",children:[Object(E.jsx)("button",{className:"btn btn-sm pt-0 pb-0 dark bg-success br-15",as:o.b,alt:"Logout",children:"1"==a.role?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-lock"})," Master Admin"]}):Object(E.jsx)(E.Fragment,{children:"2"==a.role?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-lock"})," Admin"]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-lock"})," Other Admin"]})})}),Object(E.jsxs)("button",{className:"btn btn-sm pt-0 pb-0 bg-danger br-15",as:o.b,onClick:function(){c({type:"LOGOUT"}),e.push("/")},alt:"Logout",children:[Object(E.jsx)("span",{className:"fa fa-power-off mr-2"}),"Logout"]})]})]}),Object(E.jsx)("div",{className:"navbar_menus",children:Object(E.jsxs)("ul",{children:[Object(E.jsx)("li",{children:Object(E.jsx)(d.a,{className:"ml-auto",children:Object(E.jsxs)(o.c,{to:"/dashboard",children:[" ",Object(E.jsx)("span",{className:"fa fa-dashboard"})," Dashboard"]})})}),"1"==(null===a||void 0===a?void 0:a.role)&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("li",{children:Object(E.jsx)(d.a,{className:"ml-auto",children:Object(E.jsxs)(o.c,{to:"/app-modules",children:[" ",Object(E.jsx)("span",{className:"fa fa-gears"})," App Modules"]})})}),Object(E.jsx)("li",{children:Object(E.jsx)(d.a,{className:"ml-auto",children:Object(E.jsxs)(o.c,{to:"/role-modules",children:[" ",Object(E.jsx)("span",{className:"fa fa-gears"})," Role Modules"]})})})]}),null===s||void 0===s?void 0:s.map((function(e){return Object(E.jsx)("li",{children:Object(E.jsx)(d.a,{className:"ml-auto",children:Object(E.jsxs)(o.c,{to:"/".concat(v(null===e||void 0===e?void 0:e.module_name)),children:[Object(E.jsx)("span",{className:"fa ".concat(null===e||void 0===e?void 0:e.module_icon," mr-2 mt-1")}),null===e||void 0===e?void 0:e.module_name]})})},null===e||void 0===e?void 0:e._id)}))]})})]})})}a(174);var q=a(6),B=a(71),D=function(e){var t=e.component,a=Object(B.a)(e,["component"]),c=Object(n.useContext)(u.a).state;return Object(E.jsx)(l.b,Object(q.a)(Object(q.a)({},a),{},{render:function(e){return c.isLoggedIn?Object(E.jsx)(t,Object(q.a)({},e)):Object(E.jsx)(l.a,{to:{pathname:"/login"}})}}))},R=function(e){var t=e.component,a=Object(B.a)(e,["component"]),c=Object(n.useContext)(u.a).state;return Object(E.jsx)(l.b,Object(q.a)(Object(q.a)({},a),{},{render:function(e){return 1==c.role?Object(E.jsx)(t,Object(q.a)({},e)):Object(E.jsx)(l.a,{to:{pathname:"/403"}})}}))},L=a(4),I=(a(105),a(16));a(19);var F=a(73);var P=a(13);function U(){return Object(E.jsx)("div",{className:"animation"})}function M(){var e=Object(n.useContext)(u.a).state,t="";return t=S.a,Object(y.a)("Subjects",Object(p.a)(b.a.mark((function a(){var c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.get("".concat(t,"subject/all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return c=a.sent,a.abrupt("return",c.data.data);case 4:case"end":return a.stop()}}),a)}))))}var z=function(e){var t=e.sub,a=Object(n.useContext)(u.a).state,c=Object(l.g)(),s=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.push("delete-data/subject/delete/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"subject-card",id:"card-".concat(t._id),children:[Object(E.jsxs)("div",{className:"subject-card-body",children:[Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Subject Id:"}),Object(E.jsx)("div",{className:"name-main",children:t._id})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Subject Name:"}),Object(E.jsx)("div",{className:"name-main",children:t.subject})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Created On:"}),Object(E.jsx)("div",{className:"name-main date",children:t.created_at.split("T")[0]})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Status:"}),Object(E.jsx)("div",{className:"name-main",children:1==t.status?"Active":"Inactive"})]})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsxs)("div",{className:"subject-card-heading",children:[Object(E.jsx)("div",{}),Object(E.jsxs)("div",{children:[Object(E.jsx)(F.a,{className:"delBtn",onClick:function(e){return c.push("sub-subject/".concat(v(t.subject),"/").concat(t._id))},children:Object(E.jsx)("span",{className:"fa fa-eye text-success mr-2"})}),Object(E.jsx)(F.a,{className:"delBtn",onClick:function(e){return c.push("/subject-update/".concat(t._id))},children:Object(E.jsx)("span",{className:"fa fa-edit text-success mr-2"})}),1==a.role&&Object(E.jsx)(F.a,{className:"delBtn",onClick:s.bind(this,t._id),children:Object(E.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})]},t._id)};var Q=a(43),G=a(27),V=a(26),K=a(21),H=Object(n.createContext)(),J=function(e,t){switch(t.type){case"GET_ALL_SUBJECT":return Object(q.a)(Object(q.a)({},e),{},{Subjects:t.payload});case"GET_ALL_SUB_SUBJECT":return Object(q.a)(Object(q.a)({},e),{},{SubSubjects:t.payload});case"SET_SUBJECT":return Object(q.a)(Object(q.a)({},e),{},{singleSubject:t.payload});default:return e}};var Y=function(e){var t=e.children,a=Object(n.useReducer)(J,{Subjects:[],SubSubjects:[],singleSubject:null}),c=Object(L.a)(a,2),s=c[0],i=c[1];return Object(E.jsx)(H.Provider,{value:{state:s,dispatch:i},children:t})};function W(){var e=Object(l.g)(),t=Object(l.i)(),a=Object(n.useContext)(u.a).state,c=Object(n.useContext)(K.a),s=c.state,i=c.dispatch,r=Object(n.useContext)(H),d=r.state,j=r.dispatch,m=Object(n.useState)(""),v=Object(L.a)(m,2),h=v[0],O=v[1];function x(){return(x=Object(p.a)(b.a.mark((function a(c){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),n=null,""!=h){a.next=6;break}i({type:"SET_ERROR",payload:"Please Enter Subject Name"}),a.next=17;break;case 6:if(!t.id){a.next=12;break}return a.next=9,G.c("subject/update/".concat(t.id),h);case 9:n=a.sent,a.next=15;break;case 12:return a.next=14,G.d("subject/create",h);case 14:n=a.sent;case 15:i({type:"SET_SUCCESS",payload:n.message}),e.push("/subject");case 17:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function f(){return(f=Object(p.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,c=a.replace(/[^a-zA-Z0-9, ]/g,""),O(Object(q.a)(Object(q.a)({},h),{},{subject:c}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=Object(V.a)({method:"get",url:"subject/view/".concat(t.id)}).response,g=Object(n.useState)(""),_=Object(L.a)(g,2),k=_[0],y=_[1];return Object(n.useEffect)((function(){if(null!==N){var e=N.data;j({type:"SET_SUBJECT",payload:e}),d&&y(e.subject)}}),[t.id,N]),Object(n.useEffect)((function(){var e=setTimeout((function(){return i({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return i({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[s.error,s.success]),Object(E.jsx)(E.Fragment,{children:a.isLoggedIn&&s&&d&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Create New Subject"})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"org-main-area",children:[Object(E.jsx)("div",{className:"col-md-3 pl-0",children:Object(E.jsx)(o.b,{to:"/subject",className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})})}),Object(E.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[s.error&&Object(E.jsx)(P.a,{children:s.error}),s.success&&Object(E.jsx)(P.a,{children:s.success}),Object(E.jsxs)(Q.a,{method:"POST",className:"col-md-6 p-0",children:[Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Subject Name"}),Object(E.jsx)(Q.a.Control,{name:"subject",autoComplete:"off",defaultValue:k,onChange:function(e){return f.apply(this,arguments)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Subject Name"})]}),Object(E.jsx)(Q.a.Group,{children:Object(E.jsx)(F.a,{onClick:function(e){return x.apply(this,arguments)},className:"btn dark btn-sm",children:t.id?"Update Subject":"Save Subject"})})]})]})]})})]})})})})}var X=function(e){var t=e.sub,a=Object(l.g)(),c=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("delete-data/sub-subject/delete/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"lg-card",id:"card-".concat(t._id),children:[Object(E.jsxs)("div",{className:"subject-card-body",children:[Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Subject:"}),Object(E.jsx)("div",{className:"name-main date",children:t.subject})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Sub Subject Id:"}),Object(E.jsx)("div",{className:"name-main date",children:t._id})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Sub Subject:"}),Object(E.jsx)("div",{className:"name-main date",children:t.sub_subject})]})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsxs)("div",{className:"subject-card-heading",children:[Object(E.jsx)("div",{}),Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{className:"delBtn",onClick:function(e){return a.push("/books/".concat(v(t.subject),"/").concat(v(t.sub_subject),"/").concat(t._id))},children:Object(E.jsx)("span",{className:"fa fa-eye text-success mr-2"})}),Object(E.jsx)("button",{className:"delBtn",onClick:function(e){return a.push("/sub-subject/update/".concat(t._id))},children:Object(E.jsx)("span",{className:"fa fa-edit text-success mr-2"})}),Object(E.jsx)(F.a,{className:"delBtn",onClick:c.bind(this,t._id),children:Object(E.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})]},t._id)};var Z=a(25);function $(){var e=Object(l.g)(),t=Object(l.i)(),a=Object(n.useContext)(u.a).state,c=Object(n.useContext)(K.a),s=c.state,i=c.dispatch,r=Object(n.useContext)(H),d=r.state,j=r.dispatch,m=Object(n.useState)(""),v=Object(L.a)(m,2),h=v[0],O=v[1];function x(){return(x=Object(p.a)(b.a.mark((function a(c){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),n=null,""!=h){a.next=6;break}i({type:"SET_ERROR",payload:"Please Enter Subject Name"}),a.next=19;break;case 6:if(h.subject=t.subject_name,h.subject_id=t.subject_id,!t.id){a.next=14;break}return a.next=11,G.c("subject/update/".concat(t.id),h);case 11:n=a.sent,a.next=17;break;case 14:return a.next=16,G.d("sub-subject/create",h);case 16:n=a.sent;case 17:i({type:"SET_SUCCESS",payload:n.message}),e.push("/sub-subject/".concat(t.subject_name,"/").concat(t.subject_id));case 19:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function f(e){return N.apply(this,arguments)}function N(){return(N=Object(p.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,c=a.replace(/[^a-zA-Z0-9, ]/g,""),O(Object(q.a)(Object(q.a)({},h),{},Object(Z.a)({},t.target.name,c)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=Object(V.a)({method:"get",url:"subject/all"}).response,_=Object(n.useState)([]),k=Object(L.a)(_,2),y=k[0],w=k[1];return Object(n.useEffect)((function(){if(null!==g){var e=g.data;j({type:"GET_ALL_SUBJECT",payload:e}),e&&w(e)}}),[g,y]),Object(n.useEffect)((function(){var e=setTimeout((function(){return i({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return i({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[s.error,s.success]),Object(E.jsx)(E.Fragment,{children:a.isLoggedIn&&s&&d.Subjects&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Create New Subject"})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"org-main-area",children:[Object(E.jsx)("div",{className:"col-md-3 pl-0",children:t.subject_name?Object(E.jsx)(o.b,{to:"/sub-subject/".concat(t.subject_name,"/").concat(t.subject_id),className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})}):Object(E.jsx)(o.b,{to:"/sub-subject",className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})})}),Object(E.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[s.error&&Object(E.jsx)(P.a,{children:s.error}),s.success&&Object(E.jsx)(P.a,{children:s.success}),Object(E.jsxs)(Q.a,{method:"POST",className:"col-md-6 p-0",children:[Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Subject Name"}),t.subject_name?Object(E.jsx)(Q.a.Control,{name:"subject",autoComplete:"off",defaultValue:t.subject_name,onChange:f,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Subject Name"}):Object(E.jsxs)("select",{className:"form-control",name:"subject",autoComplete:"off",onChange:function(t){var a=t.target.value,c=a.split("_")[0],n=a.split("_")[1];e.push("/sub-subject/".concat(c.trim().replace(" ","-").toLowerCase(),"/create/").concat(n))},children:[Object(E.jsx)("option",{children:"Select Subject"}),d.Subjects.map((function(e){return Object(E.jsx)("option",{value:e.subject+"_"+e._id,children:e.subject},e._id)}))]})]}),Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Sub Subject Name"}),Object(E.jsx)(Q.a.Control,{name:"sub_subject",autoComplete:"off",onChange:f,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"E.g subject1, subject1, subject3"})]}),Object(E.jsx)(Q.a.Group,{children:Object(E.jsx)(F.a,{onClick:function(e){return x.apply(this,arguments)},className:"btn dark btn-sm",children:t.id?"Update Subject":"Save Subject"})})]})]})]})})]})})})})}function ee(){var e=Object(n.useContext)(u.a).state,t="";return t=S.a,Object(y.a)("SubSubjects",Object(p.a)(b.a.mark((function a(){var c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.get("".concat(t,"sub-subject/all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return c=a.sent,a.abrupt("return",c.data.data);case 4:case"end":return a.stop()}}),a)}))))}function te(){var e=Object(l.g)(),t=Object(l.i)(),a=Object(n.useContext)(u.a).state,c=Object(n.useContext)(K.a),s=c.state,i=c.dispatch,r=Object(n.useContext)(H),d=r.state,j=r.dispatch,m=new FormData;function v(){return(v=Object(p.a)(b.a.mark((function a(c){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),n=null,""!=m){a.next=6;break}i({type:"SET_ERROR",payload:"Please Enter Subject Name"}),a.next=14;break;case 6:return m.append("subject",t.subject_name),m.append("subject_id",t.subject_id),a.next=10,G.d("sub-subject/upload",m);case 10:n=a.sent,console.log(n),i({type:"SET_SUCCESS",payload:n.message}),e.push("/sub-subject/".concat(t.subject_name,"/").concat(t.subject_id));case 14:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function h(e){return O.apply(this,arguments)}function O(){return(O=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,"csv"===a.split(".")[1]?m.append("file",t.target.files[0]):i({type:"SET_ERROR",payload:"Only .csv files are allowed"});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=Object(V.a)({method:"get",url:"subject/all"}).response,f=Object(n.useState)([]),N=Object(L.a)(f,2),g=N[0],_=N[1];return Object(n.useEffect)((function(){if(null!==x){var e=x.data;j({type:"GET_ALL_SUBJECT",payload:e}),e&&_(e)}}),[x,g]),Object(n.useEffect)((function(){var e=setTimeout((function(){return i({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return i({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[s.error,s.success]),Object(E.jsx)(E.Fragment,{children:a.isLoggedIn&&s&&d.Subjects&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Upload SubSubject"})}),s.error&&Object(E.jsx)(P.a,{children:s.error}),s.success&&Object(E.jsx)(P.a,{children:s.success}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-1 pl-3",children:t.subject_name?Object(E.jsx)(o.b,{to:"/sub-subject/".concat(t.subject_name,"/").concat(t.subject_id),className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})}):Object(E.jsx)(o.b,{to:"/sub-subject",className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})})}),Object(E.jsx)("div",{className:"col-md-5 pl-0",children:Object(E.jsx)("a",{href:"/sampledata/sub_subject_sample.csv",download:!0,children:"Download Sample File"})})]})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsx)("div",{className:"org-main-area",children:Object(E.jsxs)(Q.a,{method:"POST",className:"col-md-6 p-0",encType:"multipart/form-data",children:[Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Subject Name"}),t.subject_name?Object(E.jsx)(Q.a.Control,{name:"subject",autoComplete:"off",defaultValue:t.subject_name,onChange:h,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Subject Name"}):Object(E.jsxs)("select",{className:"form-control",name:"subject",autoComplete:"off",onChange:function(t){var a=t.target.value,c=a.split("_")[0],n=a.split("_")[1];e.push("/sub-subject/".concat(c.trim().replace(" ","-").toLowerCase(),"/upload/").concat(n))},children:[Object(E.jsx)("option",{children:"Select Subject"}),d.Subjects.map((function(e){return Object(E.jsx)("option",{value:e.subject+"_"+e._id,children:e.subject},e._id)}))]})]}),Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Upload Sub Subject Name File .csv format only"}),Object(E.jsx)(Q.a.Control,{name:"sub_subject",autoComplete:"off",type:"file",accept:".csv,",onChange:h,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(E.jsx)(Q.a.Group,{children:Object(E.jsx)(F.a,{onClick:function(e){return v.apply(this,arguments)},className:"btn dark btn-sm",children:t.id?"Update Subject":"Save Subject"})})]})})})]})})})})}var ae=a(23);function ce(){var e=Object(n.useContext)(u.a).state,t=Object(l.i)(),a=Object(n.useContext)(ae.a).state,c="";c=S.a;var s=null===a.CurrentPage?1:a.CurrentPage,i="";return i=t.sub_subject_id?"".concat(c,"books/view-all/").concat(t.sub_subject_id,"/").concat(s,"/").concat(30):"".concat(c,"books/view-all/").concat(s,"/").concat(30),Object(y.a)(["books/".concat(t.sub_subject_id),s],Object(p.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.get(i,{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return a=t.sent,t.abrupt("return",{data:a.data.data,pagination:{currentPage:a.data.currentPage,hasNextPage:a.data.hasNextPage,hasPrevPage:a.data.hasPrevPage,next:a.data.next,pageCount:a.data.pageCount,itemCount:a.data.itemCount,prev:a.data.prev}});case 4:case"end":return t.stop()}}),t)}))))}var ne=function(e){var t=e.isbn,a=e.width,c=Object(n.useState)(""),s=Object(L.a)(c,2),i=s[0],r=s[1];return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("https://pictures.abebooks.com/isbn/".concat(t,"-us-300.jpg"),{header:{"Cotnent-Type":"application/json","Access-Control-Allow-Origin":"*",origin:"https://pictures.abebooks.com/"}});case 3:200===e.sent.status&&r("https://pictures.abebooks.com/isbn/".concat(t,"-us-300.jpg")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r("https://www.crazyforstudy.com/uploads/book-images-with-text/IMG-".concat(t,".jpg"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(E.jsxs)(E.Fragment,{children:[i&&Object(E.jsx)("img",{src:i,style:{width:a}}),!i&&Object(E.jsx)("div",{className:"book_image_container",children:Object(E.jsx)("img",{src:i,style:{width:a}})})]})},se=a(67),ie=a(253),re=a(40),oe=a.n(re);var le=function(e){var t=e.books,a=Object(l.g)(),c=(Object(l.i)(),Object(I.useToasts)().addToast),s=Object(l.h)(),i=s.pathname,r=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("delete-data/books/delete/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/books-create/".concat(v(t.subject_name),"/").concat(t.subject_id,"/").concat(t.book_id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(p.a)(b.a.mark((function e(t,c,n){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=v(c),a.push("/books-upload-chapters/".concat(t,"/").concat(s,"/").concat(n));case 2:case"end":return e.stop()}}),e)})));return function(t,a,c){return e.apply(this,arguments)}}(),j=Object(n.useContext)(u.a).state,m="";m=S.a;var h={headers:{"Content-Type":"application/json",Authorization:"Bearer "+j.access_token}},O=function(){var e=Object(p.a)(b.a.mark((function e(t,c,n){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=v(c),a.push("/books-chapters/".concat(t,"/").concat(s,"/").concat(n));case 2:case"end":return e.stop()}}),e)})));return function(t,a,c){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(b.a.mark((function e(t,c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/books-check-quality/".concat(t,"/").concat(c));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(p.a)(b.a.mark((function e(t,c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/books-seo/".concat(t,"/").concat(c));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/books-freelance/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=Object(se.b)(),_=Object(ie.a)((function(e){return C.a.post("".concat(m,"books/update-published-status"),e,h)}),{onSuccess:function(){g.invalidateQueries("books"),a.push("".concat(i)),c("Freelancer Published status updated",{appearance:"success",autoDismiss:!0})}}),k=Object(n.useState)(!1),y=Object(L.a)(k,2),w=y[0],T=y[1],A=function(){var e=Object(p.a)(b.a.mark((function e(t){var a,c,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.book_id,c=t.status,T(c),n={book_id:a,published:c},e.next=5,_.mutate(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"subject-card-heading mt-2",children:["/books"==(null===s||void 0===s?void 0:s.pathname)&&"1"==j.role&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(F.a,{className:"dark text-warning br-10",title:"Update Books",onClick:o.bind(this,{subject_name:t.subject_name,subject_id:t.subject_id,book_id:t._id}),children:[Object(E.jsx)("span",{className:"fa fa-pencil-square-o displayIcon mr-2"}),"Edit Books"]}),Object(E.jsxs)(F.a,{className:"btn-danger text-white br-10",title:"Delete Books",onClick:r.bind(this,t._id),children:[Object(E.jsx)("span",{className:"fa fa-trash displayIcon text-white mr-2"}),"Delete Books"]})]}),"/books/freelance"==(null===s||void 0===s?void 0:s.pathname)&&Object(E.jsxs)(F.a,{className:"dark text-warning br-10",onClick:N.bind(this,t.ISBN13),children:[Object(E.jsx)("span",{className:"fa fa-cog displayIcon mr-2"}),"Manage Books"]}),"/books/seo"==(null===s||void 0===s?void 0:s.pathname)&&Object(E.jsxs)(F.a,{className:"dark text-warning pl-2 pr-2 br-10",onClick:f.bind(this,t.ISBN13,t._id),children:[Object(E.jsx)("span",{className:"fa fa-globe displayIcon ".concat(!0===t.seo?"text-success":"text-danger"," mr-2")}),"Manage Text Book Seo"]}),"/books/check-quality"==(null===s||void 0===s?void 0:s.pathname)&&Object(E.jsxs)(F.a,{className:"dark text-warning pl-2 pr-2 br-10",onClick:x.bind(this,t.ISBN13,t._id),children:[Object(E.jsx)("span",{className:"fa fa-thumbs-up displayIcon text-warning mr-2"}),"Manage Books Answers Quality"]}),"/books/chapters"==(null===s||void 0===s?void 0:s.pathname)&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(F.a,{className:"dark text-warning pl-2 pr-2 br-10",title:"View chapters & Questions",onClick:O.bind(this,t.ISBN13,t.BookName,t._id),children:[Object(E.jsx)("span",{className:"fa fa-eye displayIcon text-white mr-2"}),"View Chapters and Questions"]})}),"/books/upload-chapters"==(null===s||void 0===s?void 0:s.pathname)&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(F.a,{className:"dark text-warning pl-2 pr-2 br-10",title:"Upload Chapters and Questions",onClick:d.bind(this,t.ISBN13,t.BookName,t._id),children:[Object(E.jsx)("span",{className:"fa fa-cloud displayIcon text-success mr-2"}),"Upload Books Chapters Questions"]})}),"/books/authoring"==(null===s||void 0===s?void 0:s.pathname)&&Object(E.jsx)("div",{children:"1"==j.role&&Object(E.jsxs)(E.Fragment,{children:["Authoring Tutor",Object(E.jsx)(oe.a,{onChange:A.bind(this,{book_id:t._id,status:!w}),checked:t.published?t.published:w,className:"react-switch displayIcon ml-2",height:20,width:48,handleDiameter:22,onHandleColor:"#f00",boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.5)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",title:"freelance tutoring"})]})})]})};function de(e){var t=e.books,a=e.width,c=e.heading;return Object(E.jsxs)("div",{className:"subject-card pt-2",style:{width:a+"%"},id:"card-".concat(t._id),children:[Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-3 pl-2 pr-3",children:Object(E.jsx)(ne,{isbn:t.ISBN13,width:"115%"})}),Object(E.jsx)("div",{className:"col-md-9 pr-3 pl-3",children:Object(E.jsxs)("div",{className:"subject-card-body pl-2",children:[Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"BookName:"}),Object(E.jsx)("div",{className:"name-main",children:O(t.BookName,20)})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Subject:"}),Object(E.jsx)("div",{className:"name-main",children:t.subject_name})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Sub Subject:"}),Object(E.jsx)("div",{className:"name-main",children:x(t.sub_subject_name)})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"ISBN13:"}),Object(E.jsx)("div",{className:"name-main",children:t.ISBN13})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Book Edition:"}),Object(E.jsx)("div",{className:"name-main",children:t.Edition})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Question:"}),Object(E.jsx)("div",{className:"name-main",children:(null===t||void 0===t?void 0:t.question_uploaded)?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-check-circle mt-1 mr-2 text-success"})," Uploaded"]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-times-circle mt-1 mr-2 text-danger"})," Not Uploaded"]})})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Total Question:"}),Object(E.jsx)("div",{className:"name-main",children:null===t||void 0===t?void 0:t.total_question})]})]})})]}),c&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsx)(le,{books:t})]})]},t._id)}var ue=function(){Object(l.g)();var e=Object(n.useContext)(u.a).state,t=s.a.useState(""),a=Object(L.a)(t,2),c=a[0],i=a[1],r=s.a.useState([]),o=Object(L.a)(r,2),d=o[0],j=o[1],m=s.a.useState(!1),v=Object(L.a)(m,2),h=v[0],f=v[1],N="";return N=S.a,s.a.useEffect((function(){function t(){return(t=Object(p.a)(b.a.mark((function t(a){var c,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a&&a.length>=3)){t.next=9;break}return f(!0),t.next=4,C.a.get("".concat(N,"books/search/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 4:c=t.sent,(n=c.data.data).length?(j(n),f(!1)):(f(!0),j([])),t.next=11;break;case 9:f(!0),j([]);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(e){t.apply(this,arguments)}(c)}),[c,d.length]),Object(E.jsxs)("div",{style:{position:"relative",width:"250px"},children:[Object(E.jsx)("div",{children:Object(E.jsx)(Q.a,{children:Object(E.jsx)(Q.a.Group,{style:{margin:"0px 10px"},children:Object(E.jsx)(Q.a.Control,{name:"isbn",value:c,placeholder:"Search Book by ISBN 13",autoFocus:!0,autoComplete:"off",maxLength:"13",onChange:function(e){i(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})})})}),!h&&Object(E.jsx)("div",{className:"search-result",children:Object(E.jsx)("ul",{children:d&&d.map((function(e){return Object(E.jsxs)("li",{className:"items pb-2",children:[Object(E.jsxs)("div",{className:"row p-2",children:[Object(E.jsx)("div",{className:"col-md-3 pl-0",children:Object(E.jsx)(ne,{isbn:e.ISBN13,width:"100%"})}),Object(E.jsx)("div",{className:"col-md-9",children:Object(E.jsxs)("div",{className:"subject-card-body",children:[Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"BookName:"}),Object(E.jsx)("div",{className:"name-main",children:O(e.BookName,20)})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Subject:"}),Object(E.jsx)("div",{className:"name-main",children:e.subject_name})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Sub Subject:"}),Object(E.jsx)("div",{className:"name-main",children:x(e.sub_subject_name)})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"ISBN13:"}),Object(E.jsx)("div",{className:"name-main",children:e.ISBN13})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Book Edition:"}),Object(E.jsx)("div",{className:"name-main",children:e.Edition})]})]})})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsx)(le,{books:e})]},e._id)}))})}),0===d.length&&c.length>3&&Object(E.jsx)("div",{className:"col-md-12 search-result",children:Object(E.jsx)("ul",{children:Object(E.jsx)("li",{className:"items",children:Object(E.jsx)("p",{className:"book_item",children:"No Matching Results Found"})})})})]})};var je=function(){var e=Object(l.g)(),t=Object(n.useContext)(ae.a).dispatch,a=Object(l.i)(),c=ee().data;return Object(E.jsx)("div",{style:{width:"220px"},className:"mr-1",children:Object(E.jsxs)("select",{className:"form-control",name:"category",onChange:function(a){if("1"===a.target.value)e.push("/books");else{var c=f(a.target.value);window.localStorage.setItem("pageno",1),t({type:"Book_CurrentPage",payload:1}),e.push("/books/".concat(c.value2,"/").concat(c.value,"/").concat(c.id))}},children:[Object(E.jsx)("option",{value:"1",children:"Subject"}),c&&c.map((function(e){return Object(E.jsx)("option",{value:"".concat(e._id,"-").concat(e.sub_subject,"-").concat(e.subject),selected:a.sub_subject_id===e._id?"selected":"",children:e.sub_subject})}))]})})},be=a(46);var me=function(e){var t=e.pagination,a=Object(n.useState)(1),c=Object(L.a)(a,2),s=c[0],i=c[1],r=Object(n.useContext)(ae.a).dispatch,o=ce().isLoading;function l(){return(l=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:"Book_CurrentPage",payload:s}),window.localStorage.setItem("pageno",s);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return l.apply(this,arguments)}),[s]),Object(E.jsxs)("div",{style:{display:"flex",flexContent:"space-between"},children:[Object(E.jsxs)(F.a,{className:"dark",disabled:!(null===t||void 0===t?void 0:t.hasPrevPage),onClick:function(e){return i(parseInt(null===t||void 0===t?void 0:t.prev))},children:[" ",Object(E.jsx)("span",{className:"fa fa-arrow-circle-o-left text-success"})]}),Object(E.jsxs)("select",{className:"form-control",onChange:function(e){return i(e.target.value)},children:[Object(E.jsx)("option",{value:"1",children:o?"Pro...":"Page"}),Object(be.a)(Array(null===t||void 0===t?void 0:t.pageCount).fill().map((function(e,a){return Object(E.jsx)("option",{value:a+1,selected:(null===t||void 0===t?void 0:t.currentPage)===+a+1?"selected":"",children:a+1},a+1)})))]}),Object(E.jsxs)(F.a,{className:"dark",disabled:!(null===t||void 0===t?void 0:t.hasNextPage),onClick:function(e){return i(parseInt(null===t||void 0===t?void 0:t.next))},children:[" ",Object(E.jsx)("span",{className:"fa fa-arrow-circle-o-right text-success"})]})]})};function pe(){var e=Object(l.g)(),t=Object(l.i)(),a=Object(l.h)(),c=Object(n.useContext)(u.a).state,s=ce(),i=s.data,r=s.isLoading,d=s.error;return Object(n.useEffect)((function(){"/books-authoring"===a.pathname&&e.push("/books/authoring")}),[c,null===t||void 0===t?void 0:t.isbn]),Object(E.jsx)(E.Fragment,{children:c.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsxs)("h2",{style:{textTransform:"capitalize"},children:["All Books",Object(E.jsxs)("span",{style:{fontSize:"0.95rem"},children:["\xa0 \xa0 ",t&&"".concat(x(t.subject)),"\xa0 ",t&&x(t.sub_subject_name),"\xa0 ",i&&" (".concat(i.pagination.itemCount,")")]})]})}),d&&Object(E.jsx)(P.a,{children:d.message}),r&&Object(E.jsx)(U,{}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:[Object(E.jsx)(ue,{}),Object(E.jsx)(je,{}),Object(E.jsx)(me,{pagination:i&&i.pagination})]})}),!r&&Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"subject-main-container",children:[i.data.map((function(e){return Object(E.jsx)(de,{heading:!0,books:e},e._id)})),i.pagination&&0===i.pagination.itemCount&&Object(E.jsxs)("div",{className:"col-md-6 offset-3 p-5",children:[Object(E.jsxs)("h2",{style:{fontSize:"1.2em"},children:["No Books have been Uploaded in ",Object(E.jsx)("br",{}),Object(E.jsxs)("span",{style:{fontSize:"1.5em"},className:"text-danger",children:[t.sub_subject_name," under ",t.subject," Category!!!"]}),Object(E.jsx)("br",{}),"Please Uplaod Books in this subject category"]}),Object(E.jsx)(o.b,{to:"/books-upload",className:"btn btn-sm dark",children:"Upload Books"})]})]})})]})})})})}function ve(){var e=Object(l.g)(),t=Object(l.i)(),a=Object(n.useContext)(u.a).state,c=Object(n.useContext)(K.a),s=c.state,i=c.dispatch,r=Object(n.useContext)(H),d=r.state,j=r.dispatch,m=new FormData,v=Object(n.useState)(null),h=Object(L.a)(v,2),O=h[0],x=h[1],f=Object(n.useState)(null),N=Object(L.a)(f,2),g=N[0],_=N[1],k=Object(n.useState)(!1),y=Object(L.a)(k,2),w=y[0],T=y[1],A="";A=S.a;var q={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}};function B(){return(B=Object(p.a)(b.a.mark((function a(c){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),console.log(m.file),n=null,""!=m.sub_subject_name){a.next=7;break}i({type:"SET_ERROR",payload:"Please Select sub subject"}),a.next=18;break;case 7:return m.append("subject_name",t.subject_name),m.append("subject_id",t.subject_id),m.append("sub_subject_name",O),m.append("sub_subject_id",g),m.append("file",X),T(!0),U(!0),a.next=16,C.a.post("".concat(A,"books/upload"),m,q);case 16:200===(n=a.sent).status?e.push("/books/".concat(t.subject_name,"/").concat(O,"/").concat(g)):(i({type:"SET_SUCCESS",payload:n.message}),U(!1),T(!1),e.push("/books-upload/".concat(O,"/").concat(g)));case 18:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var D=Object(n.useState)(!0),R=Object(L.a)(D,2),I=R[0],U=R[1],M=Object(n.useState)(!0),z=Object(L.a)(M,2),G=z[0],J=z[1],Y=Object(n.useState)(null),W=Object(L.a)(Y,2),X=W[0],Z=W[1];function $(){return($=Object(p.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,console.log("file onchange ",a),c=a.split(".")[1],console.log(c),"csv"===c?(U(!1),Z(t.target.files[0]),m.append("file",t.target.files[0])):(U(!0),i({type:"SET_ERROR",payload:"Only .csv files are allowed"}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=Object(V.a)({method:"get",url:"subject/all"}).response,te=Object(V.a)({method:"get",url:"sub-subject/subject/".concat(t.subject_id)}).response,ae=Object(n.useState)([]),ce=Object(L.a)(ae,2),ne=ce[0],se=ce[1];return Object(n.useEffect)((function(){if(null!==ee){var e=ee.data;j({type:"GET_ALL_SUBJECT",payload:e}),e&&se(e)}if(null!==te){var t=te.data;j({type:"GET_ALL_SUB_SUBJECT",payload:t})}}),[ee,ne,te]),Object(n.useEffect)((function(){var e=setTimeout((function(){return i({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return i({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[s.error,s.success]),Object(E.jsx)(E.Fragment,{children:a.isLoggedIn&&s&&d.Subjects&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsxs)("h2",{children:["Upload Books ",t.subject_name]})}),s.error&&Object(E.jsx)(P.a,{children:s.error}),s.success&&Object(E.jsx)(P.a,{children:s.success}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-1 pl-3",children:t.subject_name?Object(E.jsx)(o.b,{to:"/books-upload",className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})}):Object(E.jsx)(o.b,{to:"/books",className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(E.jsx)("div",{className:"col-md-5 pl-0",children:Object(E.jsx)("a",{href:"/sampledata/book_simple_upload.csv",download:!0,children:"Download Sample File"})})]})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsx)("div",{className:"org-main-area",children:Object(E.jsx)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:Object(E.jsxs)(Q.a,{method:"POST",className:"col-md-6 p-0",encType:"multipart/form-data",children:[Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Subject Name"}),t.subject_name?Object(E.jsx)(Q.a.Control,{name:"subject",autoComplete:"off",defaultValue:t.subject_name,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Subject Name"}):Object(E.jsxs)("select",{className:"form-control",name:"subject",autoComplete:"off",onChange:function(t){var a=t.target.value,c=a.split("_")[0],n=a.split("_")[1];e.push("/books-upload/".concat(c.trim().replace(" ","-").toLowerCase(),"/").concat(n))},children:[Object(E.jsx)("option",{children:"Select Subject"}),d.Subjects.map((function(e){return Object(E.jsx)("option",{value:e.subject+"_"+e._id,children:e.subject},e._id)}))]})]}),t.subject_name&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"SubSubject Name"}),Object(E.jsxs)("select",{className:"form-control",name:"sub_subject",autoComplete:"off",onChange:function(e){var t=e.target.value,a=t.split("_")[0],c=t.split("_")[1],n=a.trim().replace(" ","-").toLowerCase();x(n),_(c),J(!1)},children:[Object(E.jsx)("option",{children:"Select Sub Subject"}),d.SubSubjects.map((function(e){var t=e.sub_subject.toLowerCase().trim().replaceAll(" ","-"),a=t+"_"+e._id;return Object(E.jsx)("option",{value:a,children:t},e._id)}))]})]})}),Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Upload Books File .csv format only"}),Object(E.jsx)(Q.a.Control,{name:"books",autoComplete:"off",type:"file",accept:".csv,",disabled:G,onChange:function(e){return $.apply(this,arguments)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(E.jsx)(Q.a.Group,{children:Object(E.jsx)(F.a,{onClick:function(e){return B.apply(this,arguments)},disabled:w&&I,className:"btn dark btn-sm",children:w?"processing...":"Upload Books"})})]})})})})]})})})})}function he(){var e=Object(l.i)().subject_id,t=Object(n.useContext)(u.a).state,a="";return a=S.a,Object(y.a)(["SubSubjects",e],Object(p.a)(b.a.mark((function c(){var n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0===e){c.next=5;break}return c.next=3,C.a.get("".concat(a,"sub-subject/subject/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=c.sent,c.abrupt("return",n.data.data);case 5:case"end":return c.stop()}}),c)}))))}function Oe(){var e=Object(l.i)().book_id,t=Object(n.useContext)(u.a).state,a="";return a=S.a,Object(y.a)(["books",e],Object(p.a)(b.a.mark((function c(){var n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.a.get("".concat(a,"books/view/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return n=c.sent,c.abrupt("return",n.data.data);case 4:case"end":return c.stop()}}),c)}))))}function xe(){var e=Object(l.i)().isbn,t=Object(n.useContext)(u.a).state,a="";return a=S.a,Object(y.a)(["chapters",e],Object(p.a)(b.a.mark((function c(){var n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.a.get("".concat(a,"chapter/questions/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return n=c.sent,c.abrupt("return",n.data);case 4:case"end":return c.stop()}}),c)}))))}function fe(e){var t=e.SubSections;return Object(E.jsx)(E.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(E.jsxs)("div",{style:{width:"99%",margin:"0 auto",boxShadow:"1px 0px 1px 1px rgba(0,0,0,0.2)"},className:"br-10 mb-2 mt-1 card p-2",children:[Object(E.jsx)("h4",{children:null===e||void 0===e?void 0:e.sectionName}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),Object(E.jsx)("div",{dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.sectionText}})]},null===e||void 0===e?void 0:e.sectionSequence)}))})}var Ne=a(60);function ge(e){var t=e.answers,a=e.type;return Object(E.jsxs)(E.Fragment,{children:["ans"==a&&(null===t||void 0===t?void 0:t.map((function(e){var t=null===e||void 0===e?void 0:e.solutionSubsections;return Object(E.jsxs)("div",{className:"pb-2",children:[Object(E.jsx)("div",{dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.sectionHeaderText}}),Object(E.jsx)(fe,{SubSections:t})]},null===e||void 0===e?void 0:e.sectionSequence)}))),"exp_ans"==a&&(null===t||void 0===t?void 0:t.map((function(e){return Object(E.jsx)("div",{style:{width:"99%",margin:"0 auto",boxShadow:"1px 0px 1px 1px rgba(0,0,0,0.2)"},className:"br-10 mb-2 mt-1 card p-2",children:Object(Ne.htmlConverterReact)(null===e||void 0===e?void 0:e.answer)},null===e||void 0===e?void 0:e.answer_sequence)})))]})}a(111);var _e=function(e){var t=e.problem,a=(e.search,Object(l.g)()),c="";return c="bartelby"==(null===t||void 0===t?void 0:t.source)?JSON.parse(null===t||void 0===t?void 0:t.answer):null===t||void 0===t?void 0:t.answer,Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"card col-md-12 mb-2",children:[Object(E.jsx)("div",{className:"card-title col-md-12 p-0 mb-0",id:null===t||void 0===t?void 0:t.problem_no,children:Object(E.jsxs)("div",{className:"subject-card-heading pt-2",children:[Object(E.jsxs)("div",{className:"problem_no",children:["Q.No: ",null===t||void 0===t?void 0:t.problem_no," "]}),Object(E.jsx)("div",{children:Object(E.jsx)("button",{className:"btn btn-sm dark",onClick:function(e){a.push("/books-chapter-add-question/".concat(null===e||void 0===e?void 0:e.q_id))}.bind(this,{q_id:null===t||void 0===t?void 0:t.q_id}),children:"Manage Question"})})]})}),console.log(t),""!=(null===t||void 0===t?void 0:t.question)&&Object(E.jsxs)("div",{className:"card-body",style:{padding:"0px 0px 10px 0px"},children:[Object(E.jsx)("hr",{style:{padding:"0px",margin:"5px 0px"}}),Object(E.jsx)("div",{className:"card-text question",id:"high",dangerouslySetInnerHTML:{__html:null===t||void 0===t?void 0:t.question}}),(null===t||void 0===t?void 0:t.image)&&Object(E.jsx)("div",{style:{height:"130px",overflow:"hidden",marginTop:"10px"},children:Object(E.jsx)("img",{src:null===t||void 0===t?void 0:t.image})}),"bartelby"===(null===t||void 0===t?void 0:t.source)?Object(E.jsx)(ge,{answers:c},null===t||void 0===t?void 0:t.q_id):Object(E.jsx)("div",{className:"answer",dangerouslySetInnerHTML:{__html:c}})]})]},null===t||void 0===t?void 0:t.problem_no)})};var ke=a(69);var ye=function(e){var t=e.review,a=Object(l.g)(),c=Object(l.i)(),s=Object(I.useToasts)().addToast,i=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/book-rating-review/".concat(c.isbn,"/").concat(c.book_id,"/").concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=Object(n.useContext)(u.a).state,o="";o=S.a;var d={headers:{"Content-Type":"application/json",Authorization:"Bearer "+r.access_token}},j=Object(se.b)(),m=Object(ie.a)((function(e){return C.a.post("".concat(o,"books/update-review-status"),e,d)}),{onSuccess:function(){j.invalidateQueries("reviews"),a.push("/book-rating-review/".concat(c.isbn,"/").concat(c.book_id)),s("Status Updated Successfully",{appearance:"success",autoDismiss:!0}),document.getElementById("reviewDiv").scrollTop=0}}),v=Object(n.useState)(!1),h=Object(L.a)(v,2),O=h[0],x=h[1],f=function(){var e=Object(p.a)(b.a.mark((function e(t){var a,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.review_id,n=t.status,x(n),s={book_id:c.book_id,review_id:a,status:n},e.next=5,m.mutate(s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=Object(n.useState)(!1),g=Object(L.a)(N,2),_=g[0],k=g[1],y=Object(ie.a)((function(e){return C.a.delete("".concat(o,"books/delete-review/").concat(c.book_id,"/").concat(e.review_id),d)}),{onSuccess:function(){j.invalidateQueries("reviews"),a.push("/book-rating-review/".concat(c.isbn,"/").concat(c.book_id)),s("Deleted Successfully",{appearance:"success",autoDismiss:!0}),document.getElementById("reviewDiv").scrollTop=0}}),w=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,y.mutate({review_id:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"subject-card-heading",children:[Object(E.jsx)("div",{children:Object(E.jsx)(oe.a,{onChange:f.bind(this,{review_id:t._id,status:!O}),checked:t.status?t.status:O,className:"react-switch mr-2",height:20,width:48,handleDiameter:22,onHandleColor:"#f00",boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.5)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)"})}),Object(E.jsxs)("div",{children:[Object(E.jsx)(F.a,{className:"delBtn mr-2 ml-2",title:"Update Review",onClick:i.bind(this,t._id),children:Object(E.jsx)("span",{className:"fa fa-pencil-square-o text-secondary mr-2"})}),Object(E.jsx)(F.a,{className:"delBtn ml-2 mr-2",title:"Delete Review",onClick:w.bind(this,t._id),children:_?Object(E.jsx)("span",{className:"fa fa-spinner text-danger mr-2"}):Object(E.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})};function we(e){var t=e.faq,a=Object(l.g)(),c=Object(l.i)(),s=Object(I.useToasts)().addToast,i=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/book-faq/".concat(c.isbn,"/").concat(c.book_id,"/").concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=Object(n.useContext)(u.a).state,o="";o=S.a;var d={headers:{"Content-Type":"application/json",Authorization:"Bearer "+r.access_token}},j=Object(se.b)(),m=Object(ie.a)((function(e){return C.a.post("".concat(o,"books/update-faq-status"),e,d)}),{onSuccess:function(){j.invalidateQueries("faqs"),a.push("/book-faq/".concat(c.isbn,"/").concat(c.book_id)),s("Status Updated Successfully",{appearance:"success",autoDismiss:!0}),document.getElementById("faqDiv").scrollTop=0}}),v=Object(n.useState)(!1),h=Object(L.a)(v,2),O=h[0],x=h[1],f=function(){var e=Object(p.a)(b.a.mark((function e(t){var a,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.faq_id,n=t.status,x(n),s={book_id:c.book_id,faq_id:a,status:n},e.next=5,m.mutate(s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=Object(n.useState)(!1),g=Object(L.a)(N,2),_=g[0],k=g[1],y=Object(ie.a)((function(e){return C.a.delete("".concat(o,"books/delete-faq/").concat(c.book_id,"/").concat(e.faq_id),d)}),{onSuccess:function(){j.invalidateQueries("faqs"),a.push("/book-faq/".concat(c.isbn,"/").concat(c.book_id)),s("Deleted Successfully",{appearance:"success",autoDismiss:!0}),document.getElementById("faqDiv").scrollTop=0}}),w=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,y.mutate({faq_id:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"subject-card-heading",children:[Object(E.jsx)("div",{children:Object(E.jsx)(oe.a,{onChange:f.bind(this,{faq_id:null===t||void 0===t?void 0:t._id,status:!0===(null===t||void 0===t?void 0:t.status)?O:!O}),checked:!0===(null===t||void 0===t?void 0:t.status)?null===t||void 0===t?void 0:t.status:O,className:"react-switch mr-2",height:20,width:48,handleDiameter:22,onHandleColor:"#f00",boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.5)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)"})}),Object(E.jsxs)("div",{children:[Object(E.jsx)(F.a,{className:"delBtn mr-2 ml-2",title:"Update FAQ",onClick:i.bind(this,null===t||void 0===t?void 0:t._id),children:Object(E.jsx)("span",{className:"fa fa-pencil-square-o text-secondary mr-2"})}),Object(E.jsx)(F.a,{className:"delBtn ml-2 mr-2",title:"Delete FAQ",onClick:w.bind(this,null===t||void 0===t?void 0:t._id),children:_?Object(E.jsx)("span",{className:"fa fa-spinner text-danger mr-2"}):Object(E.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})}var Ce=a(38),Se=a(39);function Te(){var e=Oe().data,t=Object(l.g)(),a=Object(l.i)(),c=(null===a||void 0===a?void 0:a.book_id)?"/books/".concat(null===e||void 0===e?void 0:e.subject_name,"/").concat(null===e||void 0===e?void 0:e.sub_subject_name,"/").concat(null===e||void 0===e?void 0:e.sub_subject_id):"/books-seo/".concat(null===a||void 0===a?void 0:a.isbn,"/").concat(null===a||void 0===a?void 0:a.book_id);return Object(E.jsxs)("div",{className:"p-0",children:[Object(E.jsx)(o.b,{to:c,className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})}),Object(E.jsxs)("button",{onClick:function(e){return t.push("/books-seo/".concat(a.isbn,"/").concat(a.book_id))},className:"btn btn-sm counter btn-success pl-2 pr-2 ml-2",children:[Object(E.jsx)("span",{className:"fa fa-globe mr-2"}),"SEO"]}),Object(E.jsxs)("button",{onClick:function(e){return t.push("/books-faq/".concat(a.isbn,"/").concat(a.book_id))},className:"btn btn-sm counter btn-danger pl-2 pr-2 ml-2",children:[Object(E.jsx)("span",{className:"fa fa-question-circle mr-2"}),"FAQ"]}),Object(E.jsxs)("button",{onClick:function(e){return t.push("/books-rating-review/".concat(a.isbn,"/").concat(a.book_id))},className:"btn btn-sm counter btn-primary pl-2 pr-2 ml-2",children:[Object(E.jsx)("span",{className:"fa fa-star mr-2"}),"Rating & Review"]}),Object(E.jsxs)("button",{onClick:function(e){return t.push("/books-similar-books/".concat(a.isbn,"/").concat(a.book_id))},className:"btn btn-sm counter btn-primary pl-2 pr-2 ml-2",children:[Object(E.jsx)("span",{className:"fa fa-book mr-2"}),"Similar Books"]})]})}function Ee(){var e=Object(l.i)().book_id,t=Object(n.useContext)(u.a).state,a="";return a=S.a,Object(y.a)(["faqs",e],Object(p.a)(b.a.mark((function c(){var n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.a.get("".concat(a,"books/seo/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return n=c.sent,c.abrupt("return",n.data.details);case 4:case"end":return c.stop()}}),c)}))))}a(211);var Ae=a(251);function qe(e){var t=e.placeholder,a=e.counter,c=e.srNo;return Object(E.jsxs)("button",{className:"btn dark btn-sm br-10 mb-2 text-left",style:{position:"relative",width:"150px",overflow:"hidden"},children:[t,": ",c,Object(E.jsx)("span",{className:"badge-success p-1",style:{position:"absolute",right:"0px",top:"0px"},children:a})]})}function Be(e){var t,a=e.data,c=e.qc_data;return Object(E.jsxs)("div",{className:"subject-card",style:{width:"90%"},children:[Object(E.jsxs)("div",{className:"row col-md-12 pr-0",children:[Object(E.jsx)("div",{className:"col-md-4 pl-0 pr-0",children:Object(E.jsx)(ne,{isbn:null===a||void 0===a?void 0:a.ISBN13,width:"76%"})}),Object(E.jsxs)("div",{className:"col-md-8 pr-0 pl-0",children:[Object(E.jsxs)("div",{className:"admin-name mt-0 mb-1",children:[Object(E.jsx)("div",{className:"name-label",children:"Author:"}),Object(E.jsx)("div",{className:"name-main",children:null===a||void 0===a?void 0:a.Author1})]}),Object(E.jsxs)("div",{className:"admin-name mt-1 mb-1",children:[Object(E.jsx)("div",{className:"name-label",children:"ISBN-13:"}),Object(E.jsx)("div",{className:"name-main",children:null===a||void 0===a?void 0:a.ISBN13})]}),Object(E.jsxs)("div",{className:"admin-name mt-1 mb-1",children:[Object(E.jsx)("div",{className:"name-label",children:"Subject:"}),Object(E.jsx)("div",{className:"name-main",children:null===a||void 0===a?void 0:a.subject_name})]}),Object(E.jsxs)("div",{className:"admin-name mt-1 mb-1",children:[Object(E.jsx)("div",{className:"name-label",children:"Sub Subject:"}),Object(E.jsx)("div",{className:"name-main",children:null===a||void 0===a?void 0:a.sub_subject_name})]}),Object(E.jsxs)("div",{className:"admin-name mt-1 mb-1",children:[Object(E.jsx)("div",{className:"name-label",children:"Total Reviews:"}),Object(E.jsx)("div",{className:"name-main",children:null===a||void 0===a||null===(t=a.reviews)||void 0===t?void 0:t.length})]})]})]}),Object(E.jsx)("hr",{className:"pt-1 pb-0"}),Object(E.jsxs)("div",{className:"admin-name mt-1 p-2",style:{border:"1px solid #ddd"},children:[Object(E.jsx)("div",{className:"name-label pt-1",children:"Total Question:"}),Object(E.jsx)("div",{className:"name-main",children:Object(E.jsxs)("button",{className:"counter",children:["Total - ",null===c||void 0===c?void 0:c.total_question]})})]}),Object(E.jsxs)("div",{className:"admin-name mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(E.jsx)("div",{className:"name-label pt-1",children:"Pending For QC:"}),Object(E.jsx)("div",{className:"name-main",children:Object(E.jsxs)("button",{className:"counter btn-danger",children:["Total - ",(null===c||void 0===c?void 0:c.total_pending_qc)?null===c||void 0===c?void 0:c.total_pending_qc:"0"]})})]}),Object(E.jsxs)("div",{className:"admin-name mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(E.jsx)("div",{className:"name-label pt-1",children:"Solved:"}),Object(E.jsx)("div",{className:"name-main",children:Object(E.jsxs)("button",{className:"counter btn-success",children:["Total - ",(null===c||void 0===c?void 0:c.total_solved)?null===c||void 0===c?void 0:c.total_solved:"0"]})})]}),Object(E.jsxs)("div",{className:"admin-name mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(E.jsx)("div",{className:"name-label pt-1",children:"Total Reworked:"}),Object(E.jsx)("div",{className:"name-main",children:Object(E.jsxs)("button",{className:"counter btn-primary",children:["Total -  ",(null===c||void 0===c?void 0:c.total_reworked)?null===c||void 0===c?void 0:c.total_reworked:"0"]})})]}),Object(E.jsxs)("div",{className:"admin-name mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(E.jsx)("div",{className:"name-label pt-1",children:"Total Rejected:"}),Object(E.jsx)("div",{className:"name-main",children:Object(E.jsxs)("button",{className:"counter btn-info",children:["Total -  ",(null===c||void 0===c?void 0:c.total_rejected)?null===c||void 0===c?void 0:c.total_rejected:"0"]})})]})]})}function De(e){var t=e.data,a=Object(l.g)(),c=Object(l.i)();return Object(E.jsxs)("div",{className:"mt-2 pl-2 pr-2 pt-1 pb-1",style:{border:"1px solid #ddd"},children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsxs)("strong",{children:[t._id.chapter_no,". \xa0 "]}),t._id.chapter_name]}),Object(E.jsx)("div",{className:"clearfix"}),Object(E.jsxs)("div",{className:"admin-name",style:{display:"flex",justifyContent:"start",marginTop:"15px"},children:[(null===t||void 0===t?void 0:t.answered)>0&&Object(E.jsxs)("button",{className:"counter btn-danger mr-2",onClick:function(e){return a.push("/book-check-quality/".concat(c.isbn,"/").concat(c.book_id,"/chapter/").concat(t._id.chapter_no,"/answered"))},children:["Pending QC -- ",t.answered]}),(null===t||void 0===t?void 0:t.approved)>0&&Object(E.jsxs)("button",{className:"counter btn-success mr-2",onClick:function(e){return a.push("/book-check-quality/".concat(c.isbn,"/").concat(c.book_id,"/chapter/").concat(t._id.chapter_no,"/approved"))},children:["Approved -- ",t.approved]}),(null===t||void 0===t?void 0:t.reworked)>0&&Object(E.jsxs)("button",{className:"counter btn-success mr-2",onClick:function(e){return a.push("/book-check-quality/".concat(c.isbn,"/").concat(c.book_id,"/chapter/").concat(t._id.chapter_no,"/reworked"))},children:["Reworked -- ",t.reworked]}),(null===t||void 0===t?void 0:t.rejected)>0&&Object(E.jsxs)("button",{className:"counter btn-success mr-2",onClick:function(e){return a.push("/book-check-quality/".concat(c.isbn,"/").concat(c.book_id,"/chapter/").concat(t._id.chapter_no,"/rejected"))},children:["Rejected -- ",t.rejected]}),(null===t||void 0===t?void 0:t.count)>0&&Object(E.jsxs)("button",{className:"counter btn-primary",onClick:function(e){return a.push("/book-check-quality/".concat(c.isbn,"/").concat(c.book_id,"/chapter/").concat(t._id.chapter_no,"/notassigned"))},children:["Not Assigned -- ",t.count]})]})]})}var Re=a(139),Le=a.n(Re);var Ie=function(e){var t=e.pagination,a=Object(l.g)(),c=Object(l.i)(),s=Object(n.useState)(1),i=Object(L.a)(s,2),r=(i[0],i[1]),o=Object(n.useState)(!1),d=Object(L.a)(o,2),u=d[0];return d[1],Object(n.useEffect)((function(){r(null===c||void 0===c?void 0:c.page)}),[null===c||void 0===c?void 0:c.page]),Object(E.jsxs)("div",{style:{display:"flex",flexContent:"space-between"},children:[Object(E.jsxs)(F.a,{className:"dark",disabled:!(null===t||void 0===t?void 0:t.hasPrevPage),onClick:function(e){return r(parseInt(null===t||void 0===t?void 0:t.prev))},children:[" ",Object(E.jsx)("span",{className:"fa fa-arrow-circle-o-left text-success"})]}),Object(E.jsxs)("select",{className:"form-control",onChange:function(e){e.preventDefault(),a.push("/qa-data/".concat(null===c||void 0===c?void 0:c.subject,"/").concat(null===c||void 0===c?void 0:c.subject_id,"/").concat(null===c||void 0===c?void 0:c.sub_subject,"/").concat(null===c||void 0===c?void 0:c.sub_subject_id,"/").concat(null===c||void 0===c?void 0:c.status,"/").concat(null===c||void 0===c?void 0:c.chield_subject_id,"/").concat(null===c||void 0===c?void 0:c.chield_subject,"/").concat(e.target.value))},children:[Object(E.jsx)("option",{value:"1",children:u?"Pro...":"Page"}),Object(be.a)(Array(null===t||void 0===t?void 0:t.pageCount).fill().map((function(e,a){return Object(E.jsx)("option",{value:a+1,selected:+(null===t||void 0===t?void 0:t.currentPage)===+a+1?"selected":"",children:a+1},a+1)})))]}),Object(E.jsxs)(F.a,{className:"dark",disabled:!(null===t||void 0===t?void 0:t.hasNextPage),onClick:function(e){return r(parseInt(null===t||void 0===t?void 0:t.next))},children:[" ",Object(E.jsx)("span",{className:"fa fa-arrow-circle-o-right text-success"})]})]})};var Fe=function(e){var t=e.student,a=Object(l.g)(),c=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("delete-data/all-students/delete/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/student-update/".concat(t.student_id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"subject-card-heading",children:[Object(E.jsx)("div",{}),Object(E.jsxs)("div",{children:[Object(E.jsx)(F.a,{className:"delBtn pl-1 pr-1",onClick:n.bind(this,{student_id:t._id}),children:Object(E.jsx)("span",{className:"fa fa-pencil-square-o text-secondary mr-2"})}),Object(E.jsx)(F.a,{className:"delBtn pl-1 pr-1",onClick:c.bind(this,t._id),children:Object(E.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})};var Pe=function(e){var t=e.student;return Object(E.jsx)("div",{className:"subject-card",id:"card-".concat(t._id),children:Object(E.jsxs)("div",{className:"subject-card-body",children:[Object(E.jsxs)("div",{className:"row col-md-12",children:[Object(E.jsx)("div",{className:"col-md-3 pl-0 pr-0",children:(null===t||void 0===t?void 0:t.img)?Object(E.jsx)("img",{src:null===t||void 0===t?void 0:t.img,className:"img-responsive",style:{width:"100%",borderRadius:"50%"}}):Object(E.jsx)("p",{className:"nameCard",children:O(t.fullname,1)})}),Object(E.jsxs)("div",{className:"col-md-9",children:[Object(E.jsxs)("div",{className:"admin-name mb-2",children:[Object(E.jsx)("span",{className:"fa fa-user"}),t.fullname]}),Object(E.jsxs)("div",{className:"admin-name mb-2",children:[Object(E.jsx)("span",{className:"fa fa-envelope"})," ",t.email]}),Object(E.jsxs)("div",{className:"admin-name mb-2",children:[Object(E.jsx)("span",{className:"fa fa-building"}),t.college]}),Object(E.jsxs)("div",{className:"admin-name mb-2",children:[Object(E.jsx)("span",{className:"fa fa-calendar"}),t.created_at]})]})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsx)(Fe,{student:t})]})},t._id)};function Ue(e){var t=e.tutor,a=Object(I.useToasts)().addToast,c=Object(l.h)(),s=Object(l.i)(),i=c.pathname,r=Object(l.g)(),o=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.push("/tutor-details/".concat(t.tutor_id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=Object(n.useContext)(u.a).state,j="";j=S.a;var m={headers:{"Content-Type":"application/json",Authorization:"Bearer "+d.access_token}},v=Object(se.b)(),h=Object(ie.a)((function(e){return C.a.post("".concat(j,"tutor/update-status"),e,m)}),{onSuccess:function(){v.invalidateQueries(["tutors/".concat(null===s||void 0===s?void 0:s.status,"/").concat(null===s||void 0===s?void 0:s.master_subject,"/").concat(null===s||void 0===s?void 0:s.type)]),r.push("".concat(i)),a("Freelancer Published status updated",{appearance:"success",autoDismiss:!0})}}),O=Object(n.useState)(!1),x=Object(L.a)(O,2),f=x[0],N=x[1],g=function(){var e=Object(p.a)(b.a.mark((function e(t){var a,c,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.tutor_id,c=t.status,N(c),n={tutor_id:a,status:c},e.next=5,h.mutate(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"subject-card-heading",children:[Object(E.jsx)("div",{children:Object(E.jsx)(oe.a,{onChange:g.bind(this,{tutor_id:t._id,status:"1"===(null===t||void 0===t?void 0:t.status)?f:!f}),checked:"1"===(null===t||void 0===t?void 0:t.status)?!f:f,className:"react-switch displayIcon mr-2",height:20,width:48,handleDiameter:22,onHandleColor:"#f00",boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.5)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",title:"freelance tutoring"})}),Object(E.jsx)("div",{children:Object(E.jsx)(F.a,{className:"delBtn pl-1 pr-1",alt:"See Details",onClick:o.bind(this,{tutor_id:t._id}),children:Object(E.jsx)("span",{className:"fa fa-eye text-success mr-2"})})})]})}function Me(e){var t=e.tutor;t.education[0];return Object(E.jsx)("div",{className:"subject-card",id:"card-".concat(t._id),children:Object(E.jsxs)("div",{className:"subject-card-body",children:[Object(E.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(E.jsx)("div",{className:"name-label",children:"Name:"}),Object(E.jsxs)("div",{className:"name-main",children:[t.fname," ",t.lname]})]}),Object(E.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(E.jsx)("div",{className:"name-label",children:"Email:"}),Object(E.jsx)("div",{className:"name-main",children:t.email})]}),Object(E.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(E.jsx)("div",{className:"name-label",children:"Master Subject:"}),Object(E.jsx)("div",{className:"name-main",children:t.master_subject})]}),Object(E.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(E.jsx)("div",{className:"name-label",children:"Country:"}),Object(E.jsxs)("div",{className:"name-main",children:[null===t||void 0===t?void 0:t.country,",\xa0 ",null===t||void 0===t?void 0:t.country_full]})]}),Object(E.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(E.jsx)("div",{className:"name-label",children:"Registered At:"}),Object(E.jsxs)("div",{className:"name-main",children:[Object(E.jsx)("span",{className:"fa fa-calendar mr-2 pt-1"}),Object(E.jsx)("span",{children:null===t||void 0===t?void 0:t.createdAt})]})]}),Object(E.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(E.jsx)("div",{className:"name-label",children:"Status:"}),Object(E.jsx)("div",{className:"name-main",children:"1"==t.status?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-lock text-success pr-2 pt-1"}),Object(E.jsx)("span",{className:"text-success",children:"Active"})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-ban text-danger pr-2 pt-1"}),Object(E.jsx)("span",{className:"text-danger",children:"Blocked"})]})})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsx)(Ue,{tutor:t})]})},t._id)}function ze(){Object(l.i)();var e=Object(l.h)(),t=Object(n.useContext)(u.a).state,a="";return a=S.a,Object(y.a)("vendors",Object(p.a)(b.a.mark((function c(){var n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if("/manage-vendor"!=e.pathname){c.next=5;break}return c.next=3,C.a.get("".concat(a,"vendor/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=c.sent,c.abrupt("return",n.data.data);case 5:case"end":return c.stop()}}),c)}))))}function Qe(){Object(l.i)();var e=Object(n.useContext)(u.a).state,t="";return t=S.a,Object(y.a)("roles",Object(p.a)(b.a.mark((function a(){var c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.get("".concat(t,"master-role/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return c=a.sent,a.abrupt("return",c.data.data);case 4:case"end":return a.stop()}}),a)}))))}function Ge(){var e,t=Object(se.b)(),a=Object(l.g)(),c=Object(l.i)(),s=Object(I.useToasts)().addToast,i=Object(n.useContext)(u.a).state,r=Qe(),o=r.data,d=(r.isLoading,ze().data),j=Object(n.useState)({}),m=Object(L.a)(j,2),v=m[0],h=m[1],O="";O=S.a;var x={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+i.access_token}};function f(){return(f=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null===d||void 0===d?void 0:d.filter((function(e){return(null===e||void 0===e?void 0:e._id)===(null===e||void 0===e?void 0:e.vendor_id)})),h(t&&t[0]);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){return f.apply(this,arguments)}),[o,null===c||void 0===c?void 0:c.vendor_id]);var N=Object(n.useState)({}),g=Object(L.a)(N,2),_=g[0],k=g[1];function y(e){return w.apply(this,arguments)}function w(){return(w=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===c||void 0===c?void 0:c.vendor_id)?h(Object(q.a)(Object(q.a)({},v),{},Object(Z.a)({},t.target.name,t.target.value))):k(Object(q.a)(Object(q.a)({},_),{},Object(Z.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!c.id){e.next=6;break}return e.next=4,A.mutate(v);case 4:e.next=10;break;case 6:return _.fullname=_.first_name+" "+_.last_name,_.password="password",e.next=10,B.mutate(_);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=Object(ie.a)((function(e){return C.a.patch("".concat(O,"vendor/update/").concat(null===c||void 0===c?void 0:c.vendor_id),e,x)}),{onSuccess:function(){t.invalidateQueries(["vendors"]),a.push("/manage-vendor"),k({first_name:"",last_name:"",email:"",role:""}),s("Vendor updated successfully",{appearance:"success",autoDismiss:!0})}}),B=Object(ie.a)((function(e){return C.a.post("".concat(O,"vendor/create"),e,x)}),{onSuccess:function(){t.invalidateQueries(["vendors"]),a.push("/manage-vendor"),setModuleName(""),setModuleDescription(""),setModuleIcon(""),setShowMenu(""),s("Vendor created successfully",{appearance:"success",autoDismiss:!0})}});function D(e){return R.apply(this,arguments)}function R(){return(R=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==t.keyCode){e.next=3;break}return t.preventDefault(),e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(E.jsx)(E.Fragment,{children:i.isLoggedIn&&Object(E.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[Object(E.jsx)("p",{className:"mt-1 mb-1",children:Object(E.jsxs)("b",{children:[Object(E.jsx)("span",{className:"fa fa-gear mr-2"}),"Add New Vendor"]})}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),Object(E.jsxs)(Q.a,{autoComplete:"Off",method:"POST",className:"col-md-12 p-0",children:[Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"First Name"}),Object(E.jsx)(Q.a.Control,{name:"first_name",autoComplete:"off",value:(null===c||void 0===c?void 0:c.id)?null===v||void 0===v?void 0:v.first_name:null===_||void 0===_?void 0:_.first_name,onChange:y,onKeyDown:D,placeholder:"Enter Module Name"})]}),Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Last Name"}),Object(E.jsx)(Q.a.Control,{name:"last_name",autoComplete:"off",value:(null===c||void 0===c?void 0:c.id)?null===v||void 0===v?void 0:v.last_name:null===_||void 0===_?void 0:_.last_name,onChange:y,onKeyDown:D,placeholder:"Enter Last Name"})]}),Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Email Address"}),Object(E.jsx)(Q.a.Control,(e={name:"email",autoComplete:"off",value:(null===c||void 0===c?void 0:c.id)?null===v||void 0===v?void 0:v.email:null===_||void 0===_?void 0:_.email,onChange:y,onKeyDown:D},Object(Z.a)(e,"autoComplete","Off"),Object(Z.a)(e,"placeholder","Enter Email Address"),e))]}),Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Role"}),Object(E.jsxs)(Q.a.Control,{as:"select",name:"role",className:"form-control",value:(null===c||void 0===c?void 0:c.id)?null===v||void 0===v?void 0:v.role:null===_||void 0===_?void 0:_.role,onChange:y,children:[Object(E.jsx)("option",{value:"_",children:"Select Role"}),null===o||void 0===o?void 0:o.map((function(e){return Object(E.jsx)("option",{value:"".concat(null===e||void 0===e?void 0:e.role),disabled:"TBS Vendor"!==(null===e||void 0===e?void 0:e.name),children:null===e||void 0===e?void 0:e.name})}))]})]}),Object(E.jsx)(Q.a.Group,{className:"mt-3",children:Object(E.jsx)(F.a,{onClick:function(e){return T.apply(this,arguments)},className:"btn dark btn-sm",children:(null===c||void 0===c?void 0:c.id)?"Update Vendor":"Save Vendor"})})]})]})})}function Ve(){Object(l.i)();var e=Object(n.useContext)(u.a).state,t=Object(n.useContext)(ae.a).state,a="";a=S.a;var c=null===t.CurrentPage?1:t.CurrentPage;return Object(y.a)(["faq",c],Object(p.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.get("".concat(a,"faq/all/").concat(c,"/").concat(10),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return n=t.sent,t.abrupt("return",{data:n.data.data,pagination:{currentPage:n.data.currentPage,hasNextPage:n.data.hasNextPage,hasPrevPage:n.data.hasPrevPage,next:n.data.next,pageCount:n.data.pageCount,itemCount:n.data.itemCount,prev:n.data.prev}});case 4:case"end":return t.stop()}}),t)}))))}var Ke=function(e){var t=e.faq,a=Object(l.g)(),c=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("delete-data/manage-faq/delete/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/faq-update/".concat(t.faq_id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/add-faq-question/".concat(v(t.faq_category),"/").concat(t.faq_id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"subject-card-heading",children:[Object(E.jsx)("div",{}),Object(E.jsxs)("div",{children:[Object(E.jsx)(F.a,{className:"delBtn pl-1 pr-1 text-black",onClick:s.bind(this,{faq_category:t.faq_category,faq_id:t._id}),children:Object(E.jsx)("span",{className:"fa fa-plus-circle text-success mr-2"})}),Object(E.jsx)(F.a,{className:"delBtn pl-1 pr-1",onClick:n.bind(this,{faq_id:t._id}),children:Object(E.jsx)("span",{className:"fa fa-pencil-square-o text-secondary mr-2"})}),Object(E.jsx)(F.a,{className:"delBtn pl-1 pr-1",onClick:c.bind(this,t._id),children:Object(E.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})};var He=function(e){var t=e.faq;return Object(E.jsxs)("div",{className:"small-card",id:"card-".concat(t._id),children:[Object(E.jsx)("div",{className:"subject-card-body ",children:Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("img",{src:t.faq_image,style:{width:"100px"}}),Object(E.jsx)("div",{className:"name-main",children:t.faq_category})]})}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsx)(Ke,{faq:t})]},t._id)};var Je=function(e){var t=e.data,a=Object(l.g)(),c=Object(l.i)();return Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:[Object(E.jsx)(F.a,{className:"dark mr-1",onClick:function(e){return a.push("/manage-faq")},children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})}),Object(E.jsxs)(F.a,{className:"dark mr-1",onClick:function(e){return a.push("/manage-faq-category")},children:[Object(E.jsx)("span",{className:"fa fa-plus-circle"}),"\xa0 Add Faq Category"]}),!c.faq_id&&Object(E.jsx)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:Object(E.jsx)(me,{pagination:null===t||void 0===t?void 0:t.pagination})})]})})};var Ye=function(){var e=Object(l.g)(),t=Object(n.useContext)(u.a).state,a=window.URL||window.webkitURL,c=Object(n.useState)(""),s=Object(L.a)(c,2),i=s[0],r=s[1],o=Object(n.useState)({}),d=Object(L.a)(o,2),j=d[0],m=d[1],v="";v=S.a;var h={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}},O=Object(n.useState)(!1),x=Object(L.a)(O,2),f=x[0],N=x[1],g=Object(ie.a)((function(e){return C.a.post("".concat(v,"faq/add-category"),e,h)}),{onSuccess:function(){N(!1),e.push("/manage-faq")}}),_=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!0),e.next=4,g.mutate(j);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("form",{children:[Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Category Name"}),Object(E.jsx)("input",{name:"faq_category",onChange:function(e){return m(Object(q.a)(Object(q.a)({},j),{},{faq_category:e.target.value}))},className:"form-control",autoComplete:"off"})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Category Image"}),Object(E.jsx)("input",{onChange:function(e){var t,c,n,s,i;e.preventDefault(),(t=e.target.files[0])&&(c=new Image,s=new Blob([t],{type:t.type}),c.src=a.createObjectURL(s),(i=new FileReader).readAsDataURL(s),i.onload=function(){n=i.result,r(n),m(Object(q.a)(Object(q.a)({},j),{},{faq_image:n}))})},type:"file",name:"faq_image",className:"form-control",autoComplete:"off"}),Object(E.jsx)("div",{style:{height:"130px",overflow:"hidden"},children:Object(E.jsx)("img",{src:i||""})})]}),Object(E.jsx)("div",{className:"form-group",children:Object(E.jsxs)("button",{type:"button",className:"dark btn btn-md",onClick:_,children:[" ",f?"Processing...":"Save Category"]})})]})};var We=function(e){var t=e.data,a=Object(l.g)(),c=Object(l.i)(),s=Object(n.useContext)(u.a).state,i=Object(n.useState)({}),r=Object(L.a)(i,2),o=r[0],d=r[1];Object(n.useEffect)((function(){var e=t.filter((function(e){return e._id===c.question_id}));d(e[0]);var a=document.getElementById("questionDiv");a.scrollTop=a.scrollHeight}),[c.question_id]);var j=Object(n.useState)({}),m=Object(L.a)(j,2),v=m[0],h=m[1],O="";O=S.a;var x={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+s.access_token}},f=Object(n.useState)(!1),N=Object(L.a)(f,2),g=N[0],_=N[1],k=Object(se.b)(),y=Object(n.useRef)(null),w=Object(n.useRef)(null),T=Object(ie.a)((function(e){return e.question_id=c.question_id,e.question=""!==e.question?y.current.value:e.question,e.answer=""!==e.answer?w.current.value:e.answer,C.a.post("".concat(O,"faq/add-question/").concat(c.faq_id),e,x)}),{onSuccess:function(){k.invalidateQueries("singlefaq"),_(!1),y.current.value="",w.current.value="",a.push("/add-faq-question/".concat(c.faq_category,"/").concat(c.faq_id));var e=document.getElementById("questionDiv");e.scrollTop=e.scrollHeight}}),A=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),_(!0),e.next=4,T.mutate(v);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("form",{children:[Object(E.jsxs)("h4",{children:["Add Faq Question - ",c.faq_category]}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Question"}),Object(E.jsx)("input",{type:"text",name:"question",ref:y,defaultValue:o&&o.question,onChange:function(e){return h(Object(q.a)(Object(q.a)({},v),{},{question:e.target.value}))},className:"form-control",autoComplete:"off"})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Answer"}),Object(E.jsx)("input",{type:"text",name:"answer",ref:w,defaultValue:o&&o.answer,onChange:function(e){return h(Object(q.a)(Object(q.a)({},v),{},{answer:e.target.value}))},className:"form-control",autoComplete:"off"})]}),Object(E.jsx)("div",{className:"form-group",children:c.question_id?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("button",{type:"button",className:"dark btn btn-md",onClick:A,children:g?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner"})," Processing"]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-save"})," Update Category"]})}),Object(E.jsx)("button",{type:"button",className:"btn btn-danger ml-2",onClick:function(e){return a.push("/add-faq-question/".concat(c.faq_category,"/").concat(c.faq_id))},children:"Cancel"})]}):Object(E.jsxs)("button",{type:"button",className:"dark btn btn-md",onClick:A,children:[" ",g?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner"})," Processing"]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-save"})," Save Category"]})]})})]})};var Xe=function(e){var t=e.content,a=Object(n.useContext)(u.a).state,c=Object(l.g)(),s=Object(l.i)(),i="";i=S.a;var r={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},o=Object(n.useState)(!1),d=Object(L.a)(o,2),j=d[0],m=d[1],v=Object(se.b)(),h=Object(ie.a)((function(e){return C.a.get("".concat(i,"faq/delete-question/").concat(s.faq_id,"/").concat(e.question_id),r)}),{onSuccess:function(){v.invalidateQueries("singlefaq"),m(!1),c.push("/add-faq-question/".concat(s.faq_category,"/").concat(s.faq_id));var e=document.getElementById("questionDiv");e.scrollTop=e.scrollHeight}}),O=function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),a={question_id:t.ques_id},e.next=4,h.mutate(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.push("/add-faq-question/".concat(t.faq_category,"/").concat(t.faq_id,"/").concat(t.ques_id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"subject-card-heading",children:[Object(E.jsx)("div",{}),Object(E.jsxs)("div",{children:[Object(E.jsx)(F.a,{className:"delBtn btn btn-sm pl-1 pr-2",onClick:x.bind(this,{faq_category:s.faq_category,faq_id:s.faq_id,ques_id:t._id}),children:Object(E.jsx)("span",{className:"fa fa-pencil-square-o text-primary"})}),Object(E.jsx)(F.a,{className:"delBtn text-danger pl-1 pr-1",onClick:O.bind(this,{ques_id:t._id}),children:j?Object(E.jsx)("span",{className:"fa fa-spinner"}):Object(E.jsx)("span",{className:"fa fa-trash"})})]})]})};var Ze=function(e){var t=e.faqLists,a=Object(l.i)();return Object(E.jsxs)("div",{className:"col-md-12",children:[Object(E.jsxs)("h4",{children:["All Faq Question - ",a.faq_category]}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{id:"questionDiv",style:{height:"400px",overflow:"scroll",paddingRight:"15px"},children:t&&t.map((function(e){return Object(E.jsxs)("div",{className:"card p-2 mb-2",children:[Object(E.jsxs)("div",{className:"card-heading",children:[Object(E.jsx)("strong",{children:"Question"}),": ",e.question]}),Object(E.jsxs)("div",{className:"card-body p-0",children:[Object(E.jsx)("strong",{children:"Answer"}),": ",e.answer]}),Object(E.jsx)("hr",{style:{margin:"5px 0px"}}),Object(E.jsx)(Xe,{content:e})]},e._id)}))})]})};var $e=a(58);function et(){var e=Object(n.useContext)(u.a).state,t=T(e.role,e.email).data,a=Object(l.h)(),c=(null===a||void 0===a?void 0:a.pathname).split("/")[1];return t&&(null===t||void 0===t?void 0:t.some((function(e){return(null===e||void 0===e?void 0:e.module_slug)==c})))}function tt(){Object(l.i)();var e=Object(l.h)(),t=Object(n.useContext)(u.a).state,a="";a=S.a;var c=e.pathname.split("/")[1],s=null===t||void 0===t?void 0:t.role,i=null===t||void 0===t?void 0:t.email;return Object(y.a)("user-permissions-".concat(c),Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===c){e.next=5;break}return e.next=3,C.a.get("".concat(a,"role-module/permissions/").concat(c,"/").concat(s,"/").concat(i),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}function at(e){var t,a=Object(n.useContext)(u.a).state,c=Object(l.h)(),s=(null===c||void 0===c||null===(t=c.pathname)||void 0===t?void 0:t.split("/"))[1],i=tt(a.role,a.email).data;return i&&i.some((function(t){return t.method_name=="".concat(e,"-").concat(s)}))}var ct=function(e){var t=e.data,a=Object(l.g)(),c=Object(l.i)(),s=et();Object(n.useEffect)((function(){!1===s&&a.push("/403")}),[s]);var i=at("create");return Object(n.useEffect)((function(){!1===i&&a.push("/master-admin")}),[i]),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:[Object(E.jsx)(F.a,{className:"dark mr-1",onClick:function(e){return a.push("/manage-faq")},children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})}),i&&Object(E.jsxs)(F.a,{className:"dark mr-1",onClick:function(e){return a.push("/master-admin/create")},children:[Object(E.jsx)("span",{className:"fa fa-plus-circle"}),"\xa0 Add New Admin"]}),!c.faq_id&&Object(E.jsx)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:Object(E.jsx)(me,{pagination:t&&t.pagination})})]})})};function nt(){var e,t=Object(l.g)(),a=Object(l.i)(),c=et();Object(n.useEffect)((function(){!1===c&&t.push("/403")}),[c]);var s=at("create"),i=at("update"),r=at("upload"),d=(at("delete"),at("view"));Object(n.useEffect)((function(){!1!==s&&!1!==i&&!1!==r&&!1!==d||t.push("/admin/students-management")}),[s,i,r,d]);var j=Object(n.useContext)(u.a).state,m=Object(I.useToasts)().addToast,v=Qe(),h=v.data,O=(v.isLoading,"");O=S.a;var x={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+j.access_token}},f=Object(n.useState)({}),N=Object(L.a)(f,2),g=N[0],_=(N[1],Object(n.useState)("")),k=Object(L.a)(_,2),w=k[0],T=k[1],A=Object(n.useState)(""),B=Object(L.a)(A,2),D=B[0],R=B[1],P=Object(n.useState)(""),U=Object(L.a)(P,2),M=U[0],z=(U[1],Object(n.useState)("")),G=Object(L.a)(z,2),V=G[0],K=G[1],H=Object(n.useState)(""),J=Object(L.a)(H,2),Y=J[0],W=J[1],X=Object(n.useState)(""),Z=Object(L.a)(X,2),$=Z[0],ee=Z[1];function te(){return(te=Object(p.a)(b.a.mark((function e(c){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),null,n=(null===a||void 0===a?void 0:a.id)?null===se||void 0===se?void 0:se.role:Y,s=h.filter((function(e){return(null===e||void 0===e?void 0:e.role)==n})),g.fullname=(null===a||void 0===a?void 0:a.id)?null===se||void 0===se?void 0:se.fullname:w,g.email=(null===a||void 0===a?void 0:a.id)?null===se||void 0===se?void 0:se.email:D,g.mobile=M,g.password=""===V?"password":V,g.role=n,g.role_name=s[0].name,g.status=(null===a||void 0===a?void 0:a.id)?null===se||void 0===se?void 0:se.status:$,!a.id){e.next=18;break}return e.next=14,C.a.patch("".concat(O,"master-admin/update/").concat(a.id),g,x);case 14:e.sent,m("admin updated successfully",{appearance:"success",autoDismiss:!0}),e.next=22;break;case 18:return e.next=20,C.a.post("".concat(O,"master-admin/create"),g,x);case 20:e.sent,m("admin added successfully",{appearance:"success",autoDismiss:!0});case 22:t.push("/master-admin");case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=function(){var e=Object(l.i)().id,t=Object(n.useContext)(u.a).state,a="";return a=S.a,Object(y.a)(["admins-".concat(e)],Object(p.a)(b.a.mark((function c(){var n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.a.get("".concat(a,"master-admin/view/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return n=c.sent,c.abrupt("return",n.data.data);case 4:case"end":return c.stop()}}),c)}))))}().data,ce=Object(n.useState)({}),ne=Object(L.a)(ce,2),se=ne[0],ie=ne[1];return Object(n.useEffect)((function(){ie(ae)}),[ae]),Object(E.jsx)(E.Fragment,{children:j.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Create New Admin"})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"org-main-area",children:[Object(E.jsx)("div",{className:"col-md-3 pl-0",children:Object(E.jsx)(o.b,{to:"/master-admin",className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(E.jsx)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:Object(E.jsxs)(Q.a,{autoComplete:"off",className:"col-md-3 p-0",children:[Object(E.jsx)(Q.a.Group,{method:"POST",children:Object(E.jsx)(Q.a.Control,{name:"fullname",autoComplete:"off",value:(null===a||void 0===a?void 0:a.id)?null===se||void 0===se?void 0:se.fullname:w,onChange:function(e){e.preventDefault(),(null===a||void 0===a?void 0:a.id)?ie(Object(q.a)(Object(q.a)({},se),{},{fullname:e.target.value})):T(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Admin Name"})}),Object(E.jsx)(Q.a.Group,{method:"POST",children:Object(E.jsx)(Q.a.Control,{name:"email",autoComplete:"nope",value:(null===a||void 0===a?void 0:a.id)?null===se||void 0===se?void 0:se.email:D,onChange:function(e){e.preventDefault(),(null===a||void 0===a?void 0:a.id)?ie(Object(q.a)(Object(q.a)({},se),{},{email:e.target.value})):R(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Admin Email"})}),Object(E.jsx)(Q.a.Group,{method:"POST",children:Object(E.jsx)(Q.a.Control,{name:"password",autoComplete:"off",type:"password",onChange:function(e){K(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Admin Password"})}),Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-6",children:Object(E.jsxs)("select",{className:"form-control",name:"role",value:null!==(e=null===se||void 0===se?void 0:se.role)&&void 0!==e?e:Y,onChange:function(e){e.preventDefault(),(null===a||void 0===a?void 0:a.id)?ie(Object(q.a)(Object(q.a)({},se),{},{role:e.target.value})):W(e.target.value)},children:[Object(E.jsx)("option",{children:"Select Role"}),null===h||void 0===h?void 0:h.map((function(e){if(e.role>1)return Object(E.jsx)("option",{value:null===e||void 0===e?void 0:e.role,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)}))]})}),Object(E.jsx)("div",{className:"col-md-6",children:Object(E.jsxs)("select",{className:"form-control",name:"role",value:(null===a||void 0===a?void 0:a.id)?null===se||void 0===se?void 0:se.status:$,onChange:function(e){e.preventDefault(),(null===a||void 0===a?void 0:a.id)?ie(Object(q.a)(Object(q.a)({},se),{},{status:e.target.value})):ee(e.target.value)},children:[Object(E.jsx)("option",{children:"Select Stauts"}),Object(E.jsx)("option",{value:"true",children:"Active"}),Object(E.jsx)("option",{value:"false",children:"InActive"})]})})]}),Object(E.jsx)(Q.a.Group,{className:"mt-3",children:Object(E.jsx)(F.a,{onClick:function(e){return te.apply(this,arguments)},className:"btn dark btn-sm",children:a.id?"Update Admin":"Save Admin"})})]})})]})})]})})})})}function st(){var e,t=Object(l.g)(),a=Object(l.i)(),c=Object(n.useContext)(u.a).state,s=Object(n.useContext)(K.a),i=s.state,r=s.dispatch,d=Object(n.useContext)(ae.a),j=d.state,m=d.dispatch,v=Qe().data,h=Object(n.useState)(""),O=Object(L.a)(h,2),x=O[0],f=O[1],N="";N=S.a;var g={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}};function _(){return(_=Object(p.a)(b.a.mark((function e(c){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),n=null,""!=x){e.next=6;break}r({type:"SET_ERROR",payload:"Please Enter Subject Name"}),e.next=18;break;case 6:if(!a.id){e.next=12;break}return e.next=9,C.a.patch("".concat(N,"master-role/update/").concat(a.id),x,g);case 9:n=e.sent,e.next=16;break;case 12:return x.role=v.length+1,e.next=15,C.a.post("".concat(N,"master-role/create"),x,g);case 15:n=e.sent;case 16:r({type:"SET_SUCCESS",payload:n.message}),t.push("/master-role");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return y.apply(this,arguments)}function y(){return(y=Object(p.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,c=a.replace(/[^a-zA-Z0-9, ]/g,""),f(Object(q.a)(Object(q.a)({},x),{},Object(Z.a)({},t.target.name,c)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=Object(V.a)({method:"get",url:"master-role/view/".concat(a.id)}).response,T=Object(n.useState)(""),A=Object(L.a)(T,2),B=A[0],D=A[1];return Object(n.useEffect)((function(){if(null!==w){var e=w.data;m({type:"SET_ROLE",payload:e}),D(e)}}),[a.id,w,B]),Object(n.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[i.error,i.success]),Object(E.jsx)(E.Fragment,{children:c.isLoggedIn&&i&&j.role&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Create New Admin"})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"org-main-area",children:[Object(E.jsx)("div",{className:"col-md-3 pl-0",children:Object(E.jsx)(o.b,{to:"/master-role",className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(E.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[i.error&&Object(E.jsx)(P.a,{children:i.error}),i.success&&Object(E.jsx)(P.a,{children:i.success}),Object(E.jsxs)(Q.a,{autoComplete:"off",className:"col-md-6 p-0",children:[Object(E.jsxs)(Q.a.Group,{method:"POST",children:[Object(E.jsx)(Q.a.Label,{children:"Role Name"}),Object(E.jsx)(Q.a.Control,{name:"name",autoComplete:"off",defaultValue:B.name,onChange:k,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Role Name"})]}),Object(E.jsxs)(Q.a.Group,{method:"POST",children:[Object(E.jsx)(Q.a.Label,{children:"Role Description"}),Object(E.jsx)(Q.a.Control,{name:"description",autoComplete:"off",defaultValue:B.description,onChange:k,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter role description"})]}),Object(E.jsxs)(Q.a.Group,{method:"POST",children:[Object(E.jsx)(Q.a.Label,{children:"Role No"}),Object(E.jsx)(Q.a.Control,{name:"role",autoComplete:"off",value:null!==(e=B.role)&&void 0!==e?e:v.length+1,onChange:k,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter role description"})]}),Object(E.jsx)(Q.a.Group,{className:"mt-3",children:Object(E.jsx)(F.a,{onClick:function(e){return _.apply(this,arguments)},className:"btn dark btn-sm",children:a.id?"Update Role":"Save Role"})})]})]})]})})]})})})})}function it(){var e=Object(n.useContext)(u.a).state,t="";return t=S.a,Object(y.a)("app-modules",Object(p.a)(b.a.mark((function a(){var c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.access_token||!e.isLoggedIn){a.next=5;break}return a.next=3,C.a.get("".concat(t,"master-module/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return c=a.sent,a.abrupt("return",c.data.data);case 5:case"end":return a.stop()}}),a)}))))}function rt(){var e=Object(se.b)(),t=Object(l.g)(),a=Object(l.i)(),c=Object(I.useToasts)().addToast,s=Object(n.useContext)(u.a).state,i=it(),r=i.data,o=(i.isLoading,Object(n.useState)({})),d=Object(L.a)(o,2),j=d[0],m=d[1];Object(n.useEffect)((function(){return x.apply(this,arguments)}),[r,null===a||void 0===a?void 0:a.id]);var h="";h=S.a;var O={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+s.access_token}};function x(){return(x=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(null===a||void 0===a?void 0:a.id),t=null===r||void 0===r?void 0:r.filter((function(e){return(null===e||void 0===e?void 0:e._id)===(null===a||void 0===a?void 0:a.id)})),m(t&&t[0]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=Object(n.useState)({}),N=Object(L.a)(f,2),g=(N[0],N[1],Object(n.useState)("")),_=Object(L.a)(g,2),k=_[0],y=_[1],w=Object(n.useState)(""),T=Object(L.a)(w,2),A=T[0],B=T[1],D=Object(n.useState)(""),R=Object(L.a)(D,2),P=R[0],U=R[1],M=Object(n.useState)(!0),z=Object(L.a)(M,2),G=z[0],V=z[1];function K(){return(K=Object(p.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),null,!a.id){e.next=8;break}return j.module_slug=v((null===a||void 0===a?void 0:a.id)?null===j||void 0===j?void 0:j.module_name:moduleName),e.next=6,H.mutate(j);case 6:e.next=11;break;case 8:return c={module_name:k,module_slug:v(k),description:A,icon:P,showMenu:G},e.next=11,J.mutate(c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=Object(ie.a)((function(e){return C.a.patch("".concat(h,"master-module/update/").concat(a.id),e,O)}),{onSuccess:function(){e.invalidateQueries(["app-modules"]),t.push("/app-modules"),y(""),B(""),U(""),V(""),c("Module updated successfully",{appearance:"success",autoDismiss:!0})}}),J=Object(ie.a)((function(e){return C.a.post("".concat(h,"master-module/create"),e,O)}),{onSuccess:function(){e.invalidateQueries(["app-modules"]),t.push("/app-modules"),y(""),B(""),U(""),V(""),c("Module created successfully",{appearance:"success",autoDismiss:!0})}});return Object(E.jsx)(E.Fragment,{children:s.isLoggedIn&&Object(E.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[Object(E.jsx)("p",{className:"mt-1 mb-1",children:Object(E.jsxs)("b",{children:[Object(E.jsx)("span",{className:"fa fa-gear mr-2"}),"Add New Module"]})}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),Object(E.jsxs)(Q.a,{autoComplete:"off",method:"POST",className:"col-md-12 p-0",children:[Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Module Name"}),Object(E.jsx)(Q.a.Control,{name:"module_name",autoComplete:"off",value:(null===a||void 0===a?void 0:a.id)?null===j||void 0===j?void 0:j.module_name:k,onChange:function(e){e.preventDefault(),(null===a||void 0===a?void 0:a.id)?m(Object(q.a)(Object(q.a)({},j),{},{module_name:e.target.value})):y(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Module Name"})]}),Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Module Description"}),Object(E.jsx)(Q.a.Control,{name:"description",autoComplete:"off",value:(null===a||void 0===a?void 0:a.id)?null===j||void 0===j?void 0:j.description:A,onChange:function(e){e.preventDefault(),(null===a||void 0===a?void 0:a.id)?m(Object(q.a)(Object(q.a)({},j),{},{description:e.target.value})):B(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Module description"})]}),Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Module Icon"}),Object(E.jsx)(Q.a.Control,{name:"icon",autoComplete:"off",value:(null===a||void 0===a?void 0:a.id)?null===j||void 0===j?void 0:j.icon:P,onChange:function(e){e.preventDefault(),(null===a||void 0===a?void 0:a.id)?m(Object(q.a)(Object(q.a)({},j),{},{icon:e.target.value})):U(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Module Icons"})]}),Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Show in Menu"}),Object(E.jsxs)(Q.a.Control,{as:"select",className:"form-control",value:(null===a||void 0===a?void 0:a.id)?null===j||void 0===j?void 0:j.showMenu:G,onChange:function(e){e.preventDefault(),(null===a||void 0===a?void 0:a.id)?m(Object(q.a)(Object(q.a)({},j),{},{showMenu:e.target.value})):V(e.target.value)},children:[Object(E.jsx)("option",{value:"_",children:"Select Menu Type"}),Object(E.jsx)("option",{value:"true",children:"Show in Menu"}),Object(E.jsx)("option",{value:"false",children:"Hide from Menu"})]})]}),Object(E.jsx)(Q.a.Group,{className:"mt-3",children:Object(E.jsx)(F.a,{onClick:function(e){return K.apply(this,arguments)},className:"btn dark btn-sm",children:(null===a||void 0===a?void 0:a.id)?"Update Module":"Save Module"})})]})]})})}var ot=a(140);var lt=a(141);var dt=[{path:"/",component:function(){Object(l.g)(),Object(l.h)();var e=Object(I.useToasts)().addToast,t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useState)(null),s=Object(L.a)(c,2),i=(s[0],s[1],Object(n.useContext)(u.a)),r=i.dispatch,d=i.state,j=Object(n.useState)(!1),m=Object(L.a)(j,2),v=m[0],h=m[1],O="";O=S.a;var x=function(){var c=Object(p.a)(b.a.mark((function c(n){var s,i,o,l,u,j,m,p,v,x,f;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.preventDefault(),s=t.current.value,i=a.current.value,""!==s){c.next=8;break}return e("Please enter email address",{appearance:"error",autoDismiss:!0}),c.abrupt("return",!1);case 8:if(""!==i){c.next=14;break}return e("Please enter password",{appearance:"error",autoDismiss:!0}),a.current.focus(),c.abrupt("return",!1);case 14:return h(!0),o={email:t.current.value,password:a.current.value},c.next=18,C.a.post("".concat(O,"admin/login"),o);case 18:(l=c.sent).response&&l.response.status?(e("Please enter valid email or password",{appearance:"error",autoDismiss:!0}),h(!1)):(u=l.data.accessToken,j=l.data.refreshToken,m=l.data.admin.fullname,p=l.data.admin.email,v=l.data.admin.role,x=l.data.admin.created_at,f=!0,localStorage.setItem("access_token",u),localStorage.setItem("refresh_token",j),localStorage.setItem("fullname",m),localStorage.setItem("email",p),localStorage.setItem("role",v),localStorage.setItem("created_at",x),localStorage.setItem("isLoggedIn",f),r({type:"LOGIN",payload:{isLoggedIn:f,fullname:m,email:p,role:v,created_at:x,access_token:u,refresh_token:j}}),"6"==d.role?(window.location.href="/upload-question",t.current.value="",a.current.value=""):(t.current.value="",a.current.value="",window.location.href="/dashboard"));case 20:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();function f(){return(f=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"true"==(null===d||void 0===d?void 0:d.isLoggedIn)&&(window.location.href="/dashboard");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return f.apply(this,arguments)}),[d]),Object(E.jsxs)("div",{className:"container-fluid p-0 m-0 text-center LoginBg",children:[Object(E.jsx)("div",{className:"col-md-2",children:Object(E.jsx)(o.c,{to:"/",children:Object(E.jsx)("img",{className:"logo img-responsive",style:{width:"250px"},alt:"company Logo",src:"/logo_2.png"})})}),Object(E.jsx)("div",{className:"row no-gutter",children:Object(E.jsxs)("div",{className:"col-md-3 loginDiv",children:[Object(E.jsx)("h4",{children:"Administrator Login "}),Object(E.jsx)("hr",{}),Object(E.jsxs)("form",{autoComplete:"Off",onSubmit:x,children:[Object(E.jsxs)("div",{className:"form-group text-left",children:[Object(E.jsxs)("label",{children:[" ",Object(E.jsx)("span",{className:"fa fa-send mr-2"})," Email address"]}),Object(E.jsx)("input",{className:"form-control",type:"email",autoComplete:"off",ref:t,placeholder:"Enter email"}),Object(E.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your email with anyone else."})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"form-group text-left",children:[Object(E.jsxs)("label",{children:[" ",Object(E.jsx)("span",{className:"fa fa-lock mr-2"})," Password"]}),Object(E.jsx)("input",{className:"form-control",type:"password",autoComplete:"Off",ref:a,placeholder:"Password"}),Object(E.jsx)("p",{className:"text-muted mt-2",children:"We'll never share your password with anyone else."})]}),Object(E.jsx)("hr",{}),Object(E.jsx)("button",{className:"btn btn-md btn-block btn-success dark w-100",type:"submit",children:v?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner mr-2",children:" "})," Authenticating..."]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-lock mr-2",children:" "})," Login Your Account"]})})]})]})})]})}}],ut=[{path:"/dashboard",component:function(){var e=Object(n.useContext)(u.a).state;return Object(E.jsx)(E.Fragment,{children:e.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Dashboard"})}),Object(E.jsxs)("div",{className:"dash_over_view",children:[Object(E.jsx)("h5",{children:"Overviews"}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{className:"row",children:Object(E.jsx)("div",{className:"col-md-12 pl-0",children:1==e.role&&Object(E.jsx)("div",{className:"col-md-3 card ml-3  pt-2 pb-2 main-box gradient-ibiza",children:Object(E.jsxs)("div",{className:"card-body pt-0 pb-0 pl-0",children:[Object(E.jsxs)("div",{className:"box-head",children:[Object(E.jsx)("h4",{children:"Admin"}),Object(E.jsx)("div",{className:"box-icon",children:Object(E.jsx)("span",{className:"fa fa-users"})})]}),Object(E.jsx)("div",{className:"main-box-text",children:Object(E.jsx)("b",{children:"Total: 1 "})})]})})})})]})]})})})})}},{path:"/sample",component:function(){Object(l.i)(),Object(l.g)(),function(){var e=Object(l.i)().param_id,t=Object(n.useContext)(u.a).state,a="";return a=S.a,Object(y.a)(["samples",e],Object(p.a)(b.a.mark((function c(){var n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!e){c.next=5;break}return c.next=3,C.a.get("".concat(a,"sample/all/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=c.sent,c.abrupt("return",n.data.data);case 5:case"end":return c.stop()}}),c)}))))}().data;var e=Object(n.useState)(new Date.now),t=Object(L.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){setInterval((function(){c(a-Object(lt.now)())}),1e3)})),Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Tutor Details"})}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsx)("div",{className:"col-md-12 row",children:Object(E.jsx)("button",{className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})})})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsx)("h1",{children:a})})]})})})}},{path:"/my-profile",component:function(){Object(l.g)();var e=Object(n.useContext)(u.a).state;return Object(E.jsx)(E.Fragment,{children:e.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"My Profile"})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"org-main-area",children:[Object(E.jsx)("div",{className:"org-main-head",children:Object(E.jsxs)("span",{className:"org-main-head-name",children:["Hi ",Object(E.jsxs)("span",{children:[e.fullname,"!"]})]})}),Object(E.jsx)("div",{className:"org-main-head-sub",children:Object(E.jsx)("p",{children:"You are a part of the following organizations. Go to the organization which you wish to access now."})}),Object(E.jsxs)("div",{className:"org-main-part",children:[Object(E.jsx)("div",{className:"org-main-img",children:Object(E.jsx)("img",{src:"/user.png",alt:"profile"})}),Object(E.jsxs)("div",{className:"org-main-details",children:[Object(E.jsx)("div",{className:"org-admin-name",children:Object(E.jsxs)("span",{className:"org-admin-name-txt",children:["Full Name: ",Object(E.jsx)("b",{children:e.fullname})]})}),Object(E.jsx)("div",{className:"org-main-created",children:Object(E.jsxs)("span",{children:["Organization created on ",Object(E.jsx)("b",{children:e.created_at})]})}),Object(E.jsx)("div",{className:"org-main-id",children:Object(E.jsxs)("span",{children:["Role:",Object(E.jsxs)("b",{children:[" ",1==e.role?"Master Admin":"Admin"]})]})}),Object(E.jsx)("div",{className:"org-main-editor",children:Object(E.jsxs)("span",{children:["Email Address:",Object(E.jsxs)("b",{children:[" ",e.email]})]})}),Object(E.jsx)("div",{className:"org-admin-text",children:Object(E.jsx)("p",{children:"You are an admin in this organization"})})]}),Object(E.jsx)("div",{className:"org-go-btn",children:Object(E.jsx)(F.a,{variant:"primary",children:"Update Profile"})})]})]})})]})})})})}},{path:"/subject",component:function(){Object(l.g)();var e=Object(n.useContext)(u.a).state,t=M(),a=t.data,c=t.isLoading,s=t.error;return Object(E.jsx)(E.Fragment,{children:e.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"All Subject"})}),s&&Object(E.jsx)(P.a,{children:s}),c&&Object(E.jsx)(U,{}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsx)("div",{className:"col-md-12 row",children:Object(E.jsxs)(o.b,{to:"/subject-create",className:"btn btn-sm dark",children:[Object(E.jsx)("span",{className:"fa fa-plus-circle"})," \xa0 Add New Subject"]})})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsx)("div",{className:"org-main-area",children:!c&&Object(E.jsx)("div",{className:"subject-main-container",children:a.map((function(e){return Object(E.jsx)(z,{sub:e},e._id)}))})})})]})})})})}},{path:"/subject-create",component:W},{path:"/subject-update/:id",component:W},{path:"/sub-subject/:subject_name/:subject_id",component:function(){Object(l.g)();var e=Object(l.i)(),t=Object(n.useContext)(u.a).state,a=Object(y.a)("subject-subsubjects",Object(p.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.b("sub-subject/subject/".concat(e.subject_id));case 2:return a=t.sent,t.abrupt("return",a.data.data);case 4:case"end":return t.stop()}}),t)})))),c=a.data,s=a.isLoading,i=a.error;return Object(E.jsx)(E.Fragment,{children:t.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsxs)("h2",{children:["All Subject of ",e.subject_name.replace("-"," ")]})}),i&&Object(E.jsx)(P.a,{children:i}),s&&Object(E.jsx)(U,{}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"col-md-12 pl-0",children:[Object(E.jsx)(o.b,{to:"/subject",className:"btn btn-sm dark  mr-2",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})}),Object(E.jsx)(o.b,{to:"/sub-subject/".concat(e.subject_name,"/create/").concat(e.subject_id),className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-plus"})}),Object(E.jsx)(o.b,{to:"/sub-subject/upload",className:"btn btn-sm dark ml-2",children:Object(E.jsx)("span",{className:"fa fa-plus"})})]})}),Object(E.jsx)("div",{className:"dash-cont-start",children:!s&&Object(E.jsx)("div",{className:"subject-main-container",children:c.map((function(e){return Object(E.jsx)(X,{sub:e},e._id)}))})})]})})})})}},{path:"/sub-subject/:subject_name/create/:subject_id",component:$},{path:"/sub-subject",component:function(){Object(l.g)();var e=Object(n.useContext)(u.a).state,t=ee(),a=t.data,c=t.isLoading,s=t.error;return Object(E.jsx)(E.Fragment,{children:e.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"All Sub Subject"})}),s&&Object(E.jsx)(P.a,{children:s}),c&&Object(E.jsx)(U,{}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"col-md-12 row",children:[Object(E.jsxs)(o.b,{to:"/sub-subject/create",className:"btn btn-sm dark",children:[Object(E.jsx)("span",{className:"fa fa-plus-square text-success"}),"\xa0 Add Sub Subject"]}),Object(E.jsxs)(o.b,{to:"/sub-subject/upload",className:"btn btn-sm dark ml-2",children:[Object(E.jsx)("span",{className:"fa fa-cloud text-success"}),"\xa0  Upload Sub Subject"]})]})}),Object(E.jsx)("div",{className:"dash-cont-start",children:!c&&Object(E.jsx)("div",{className:"subject-main-container",children:a.map((function(e){return Object(E.jsx)(X,{sub:e},e._id)}))})})]})})})})}},{path:"/sub-subject/create",component:$},{path:"/sub-subject/:subject_name/upload/:subject_id",component:te},{path:"/sub-subject/upload",component:te},{path:"/delete-data/:module/:method/:id",component:function(){var e=Object(n.useContext)(K.a),t=e.state,a=e.dispatch,c=(Object(n.useContext)(ae.a).dispatch,Object(l.g)()),s=Object(l.i)(),i=Object(n.useContext)(u.a).state,r=Object(n.useState)(""),d=Object(L.a)(r,2),j=d[0],m=d[1];Object(n.useEffect)((function(){m(Object(q.a)(Object(q.a)({},j),{},{id:s.id,method:s.method,module:s.module,password:""}))}),[s.id,s.method,s.module]),Object(n.useEffect)((function(){var e=setTimeout((function(){return a({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return a({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[t.error,t.success]);var v=function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,m(Object(q.a)(Object(q.a)({},j),{},Object(Z.a)({},t.target.name,a)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=Object($e.a)().randomPassword,O=function(){var e=Object(p.a)(b.a.mark((function e(){var t,n,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,""!=j.password){e.next=5;break}a({type:"SET_ERROR",payload:"Please Enter password to delete this resource"}),e.next=21;break;case 5:return e.next=7,G.d("/master-delete/check-password",j);case 7:if(t=e.sent,console.log(t.data),!0!==t.data.status){e.next=20;break}return e.next=12,G.a("/".concat(j.module,"/").concat(j.method,"/").concat(j.id));case 12:return n=t.data.data,s={module_password:h,module_plain_password:h},e.next=16,G.c("/master-delete/update/".concat(n),s);case 16:i=j.module,c.push("/".concat(i)),e.next=21;break;case 20:a({type:"SET_ERROR",payload:t.data.message});case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:i.isLoggedIn&&a&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsxs)("h2",{style:{textTransform:"uppercase"},children:[s.method," Data"]})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"org-main-area",children:[Object(E.jsx)("div",{className:"col-md-3 pl-0",children:Object(E.jsx)(o.b,{to:"/".concat(s.module),className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(E.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[t.error&&Object(E.jsx)(P.a,{children:t.error}),t.success&&Object(E.jsx)(P.a,{children:t.success}),Object(E.jsxs)(Q.a,{autoComplete:"off",className:"col-md-6 p-0",children:[Object(E.jsxs)(Q.a.Group,{method:"POST",children:[Object(E.jsx)(Q.a.Label,{children:"Delete Password "}),Object(E.jsx)(Q.a.Control,{name:"password",autoComplete:"off",onChange:v,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Password to delete this Resource"})]}),Object(E.jsx)(Q.a.Group,{className:"mt-3",children:Object(E.jsx)(F.a,{onClick:O,className:"btn dark btn-sm",children:"Delete Resource"})})]})]})]})})]})})})})}},{path:"/view-data/:module/:rmodule/:method/:id",component:function(){var e=Object(n.useContext)(K.a),t=e.state,a=e.dispatch,c=Object(l.g)(),s=Object(l.i)(),i=Object(n.useContext)(u.a).state;Object(n.useEffect)((function(){var e=setTimeout((function(){return a({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return a({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[t.error,t.success]);var r=Object(n.useState)({}),d=Object(L.a)(r,2),j=d[0],m=d[1];Object(n.useEffect)((function(){m(Object(q.a)(Object(q.a)({},j),{},{password:""}))}),[s.id,s.method,s.module]);var v=function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,m(Object(q.a)(Object(q.a)({},j),{},Object(Z.a)({},t.target.name,a)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null,""==j.password?a({type:"SET_ERROR",payload:"Please Enter password to view this resource"}):"wrong-password"===j.password?c.push("/app-module/password/".concat(s.rmodule,"/").concat(s.id)):a({type:"SET_ERROR",payload:"you have entered a Wrong Password"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:i.isLoggedIn&&a&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsxs)("h2",{style:{textTransform:"uppercase"},children:[s.method," Data"]})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"org-main-area",children:[Object(E.jsx)("div",{className:"col-md-3 pl-0",children:Object(E.jsx)(o.b,{to:"/app-modules",className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(E.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[t.error&&Object(E.jsx)(P.a,{children:t.error}),t.success&&Object(E.jsx)(P.a,{children:t.success}),Object(E.jsxs)(Q.a,{autoComplete:"off",className:"col-md-6 p-0",children:[Object(E.jsxs)(Q.a.Group,{method:"POST",children:[Object(E.jsx)(Q.a.Label,{children:"View Password "}),Object(E.jsx)(Q.a.Control,{name:"password",type:"password",autoComplete:"off",onChange:v,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Password to view this Resource"})]}),Object(E.jsx)(Q.a.Group,{className:"mt-3",children:Object(E.jsx)(F.a,{onClick:h,className:"btn dark btn-sm",children:"View Resource"})})]})]})]})})]})})})})}},{path:"/books/:type",component:pe},{path:"/books-authoring",component:pe},{path:"/books/:subject?/:sub_subject_name?/:sub_subject_id?",component:pe},{path:"/books-upload",component:ve},{path:"/books-bulk-upload",component:function(){var e=Object(l.g)(),t=Object(l.i)(),a=Object(n.useContext)(u.a).state,c=Object(n.useContext)(K.a),s=c.state,i=c.dispatch,r=Object(n.useContext)(H),d=r.state,j=r.dispatch,m=new FormData,v=Object(n.useState)(null),h=Object(L.a)(v,2),O=(h[0],h[1],Object(n.useState)(null)),x=Object(L.a)(O,2),f=(x[0],x[1],Object(n.useState)(!1)),N=Object(L.a)(f,2),g=N[0],_=N[1];function k(){return(k=Object(p.a)(b.a.mark((function t(a){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),console.log(m.file),c=null,""!=m.sub_subject_name){t.next=7;break}i({type:"SET_ERROR",payload:"Please Select sub subject"}),t.next=17;break;case 7:return m.append("file",q),_(!0),S(!0),t.next=12,G.d("books/bulk-upload",m);case 12:c=t.sent,i({type:"SET_SUCCESS",payload:c.message}),S(!1),_(!1),e.push("/books");case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var y=Object(n.useState)(!0),w=Object(L.a)(y,2),C=w[0],S=w[1],T=Object(n.useState)(null),A=Object(L.a)(T,2),q=A[0],B=A[1];function D(){return(D=Object(p.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,console.log("file onchange ",a),c=a.split(".")[1],console.log(c),"csv"===c?(S(!1),B(t.target.files[0]),m.append("file",t.target.files[0])):(S(!0),i({type:"SET_ERROR",payload:"Only .csv files are allowed"}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=Object(V.a)({method:"get",url:"subject/all"}).response,I=Object(V.a)({method:"get",url:"sub-subject/subject/".concat(t.subject_id)}).response,U=Object(n.useState)([]),M=Object(L.a)(U,2),z=M[0],J=M[1];return Object(n.useEffect)((function(){if(null!==R){var e=R.data;j({type:"GET_ALL_SUBJECT",payload:e}),e&&J(e)}if(null!==I){var t=I.data;j({type:"GET_ALL_SUB_SUBJECT",payload:t})}}),[R,z,I]),Object(n.useEffect)((function(){var e=setTimeout((function(){return i({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return i({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[s.error,s.success]),Object(E.jsx)(E.Fragment,{children:a.isLoggedIn&&s&&d.Subjects&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsxs)("h2",{children:["Upload Books ",t.subject_name]})}),s.error&&Object(E.jsx)(P.a,{children:s.error}),s.success&&Object(E.jsx)(P.a,{children:s.success}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-1 pl-3",children:t.subject_name?Object(E.jsx)(o.b,{to:"/books-upload",className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})}):Object(E.jsx)(o.b,{to:"/books",className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(E.jsx)("div",{className:"col-md-5 pl-0",children:Object(E.jsx)("a",{href:"/sampledata/book_bulk_upload.csv",download:!0,children:"Download Sample File"})})]})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsx)("div",{className:"org-main-area",children:Object(E.jsx)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:Object(E.jsxs)(Q.a,{method:"POST",className:"col-md-6 p-0",encType:"multipart/form-data",children:[Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Upload Books File .csv format only"}),Object(E.jsx)(Q.a.Control,{name:"books",autoComplete:"off",type:"file",accept:".csv,",onChange:function(e){return D.apply(this,arguments)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(E.jsx)(Q.a.Group,{children:Object(E.jsx)(F.a,{onClick:function(e){return k.apply(this,arguments)},disabled:!g&&C,className:"btn dark btn-sm",children:g?"processing...":"Upload Books"})})]})})})})]})})})})}},{path:"/books-create/:subject_name?/:subject_id?/:book_id?",component:function(){var e=Object(l.g)(),t=Object(l.i)(),a=Object(n.useContext)(u.a).state,c=Object(n.useContext)(K.a),s=(c.state,c.dispatch),i=Object(n.useContext)(H),r=(i.state,i.dispatch,M()),d=r.data,j=(r.isLoading,r.error,he().data),m=Oe().data,h=new FormData,O=Object(n.useState)({}),x=Object(L.a)(O,2),f=x[0],N=x[1],g=Object(n.useState)(null),_=Object(L.a)(g,2),k=_[0],y=_[1],w=Object(n.useState)(null),T=Object(L.a)(w,2),A=T[0],B=T[1],D=Object(n.useState)(!0),R=Object(L.a)(D,2),I=R[0],P=R[1],U="";U=S.a;var z={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}};function G(){return(G=Object(p.a)(b.a.mark((function a(c){var n,i;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),n=null,""!=h.sub_subject_name){a.next=6;break}s({type:"SET_ERROR",payload:"Please Select sub subject"}),a.next=23;break;case 6:if(f.subject_name=t.subject_name,f.subject_id=t.subject_id,f.sub_subject_name=k,f.sub_subject_id=A,i=t.book_id,console.log(f),!i){a.next=18;break}return a.next=15,C.a.patch("".concat(U,"books/update/").concat(i),f,z);case 15:n=a.sent,a.next=21;break;case 18:return a.next=20,C.a.post("".concat(U,"books/create"),f,z);case 20:n=a.sent;case 21:s({type:"SET_SUCCESS",payload:n.message}),e.push("/books");case 23:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function V(e){return J.apply(this,arguments)}function J(){return(J=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(Object(q.a)(Object(q.a)({},f),{},Object(Z.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(E.jsx)(E.Fragment,{children:a.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsxs)("h2",{children:["Create Books ",t.subject_name]})}),Object(E.jsx)("div",{className:"dash-con-heading",children:t.subject_name?Object(E.jsx)(o.b,{to:"/books-create",className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})}):Object(E.jsx)(o.b,{to:"/books",className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsx)("div",{className:"org-main-area",children:Object(E.jsx)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:Object(E.jsxs)(Q.a,{method:"POST",className:"col-md-12 p-0",encType:"multipart/form-data",children:[Object(E.jsxs)("div",{className:"row",children:[Object(E.jsxs)("div",{className:"col-md-4",children:[Object(E.jsxs)(Q.a.Group,{style:{position:"relative"},children:[Object(E.jsx)(Q.a.Label,{children:"Subject Name"}),t.subject_name&&!t.book_id?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Q.a.Control,{name:"subject",autoComplete:"off",defaultValue:t.subject_name,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Subject Name"}),Object(E.jsx)("span",{className:"dark pt-1 pb-1 pr-2 pl-2",style:{position:"absolute",right:"0%",top:"50%",cursor:"pointer"},onClick:function(t){e.push("/books-create")},children:"x"})]}):Object(E.jsxs)("select",{className:"form-control",name:"subject",autoComplete:"off",onChange:function(t){var a,c=t.target.value,n=v(c.split("_")[0]),s=c.split("_")[1];a="/books-create/".concat(n,"/").concat(s),e.push("".concat(a))},children:[Object(E.jsx)("option",{children:"Select Subject"}),d&&d.map((function(e){return Object(E.jsx)("option",{value:e.subject+"_"+e._id,selected:m&&m.subject_id===e._id?"selected":"",children:e.subject},e._id)}))]})]}),t.subject_name&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"SubSubject Name"}),Object(E.jsxs)("select",{className:"form-control",name:"sub_subject",autoComplete:"off",onChange:function(e){var t=e.target.value,a=v(t.split("_")[0]),c=t.split("_")[1];y(a),B(c),P(!1)},children:[Object(E.jsx)("option",{children:"Select Sub Subject"}),j&&j.map((function(e){var t=e.sub_subject.toLowerCase().trim().replaceAll(" ","-"),a=t+"_"+e._id;return Object(E.jsx)("option",{value:a,selected:m&&m.sub_subject_id==e._id?"selected":"",children:t},e._id)}))]})]})}),Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Book Name"}),Object(E.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",defaultValue:m&&m.BookName,name:"BookName",onChange:V})]}),Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Edition"}),Object(E.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"Edition",defaultValue:m&&m.Edition,onChange:V})]})]}),Object(E.jsxs)("div",{className:"col-md-4",children:[Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"ISBN13"}),Object(E.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"ISBN13",defaultValue:m&&m.ISBN13,onChange:V})]}),Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"ISBN10"}),Object(E.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"ISBN10",defaultValue:m&&m.ISBN10,onChange:V})]}),Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Author 1"}),Object(E.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"Author1",defaultValue:m&&m.Author1,onChange:V})]}),Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Author 2"}),Object(E.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"Author2",defaultValue:m&&m.Author2,onChange:V})]})]}),Object(E.jsxs)("div",{className:"col-md-4",children:[Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Author 3"}),Object(E.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"Author3",defaultValue:m&&m.Author3,onChange:V})]}),Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{children:"Description"}),Object(E.jsx)("textarea",{type:"text",autoComplete:"off",className:"form-control",name:"Description",defaultValue:m&&m.Description,style:{height:"190px"},onChange:V})]})]})]}),Object(E.jsx)(Q.a.Group,{children:Object(E.jsx)(F.a,{onClick:function(e){return G.apply(this,arguments)},defaultValue:m&&m.Author1,disabled:m&&m._id?"":I,className:"btn dark btn-sm",children:m&&m._id?"Update Book":"Save Book"})})]})})})})]})})})})}},{path:"/books-upload/:subject_name?/:subject_id?",component:ve},{path:"/books-chapters/:isbn?/:book_name?/:book_id?",component:function(){var e=Object(l.g)(),t=Object(l.i)(),a=Object(l.h)(),c=Object(n.useContext)(u.a).state,s=xe(),i=s.data,r=s.isLoading,d=s.error,j=Object(n.useState)([]),m=Object(L.a)(j,2),v=m[0],h=m[1],O=Object(n.useState)([]),x=Object(L.a)(O,2),f=x[0],N=x[1],g=Object(n.useState)([]),_=Object(L.a)(g,2),k=_[0],y=_[1],w=Object(n.useState)([]),T=Object(L.a)(w,2),A=T[0],q=T[1];Object(n.useEffect)((function(){"/books-chapters"===(null===a||void 0===a?void 0:a.pathname)&&e.push("/books/chapters")}),[c,null===t||void 0===t?void 0:t.isbn]);var B="";B=S.a;var D={headers:{"Content-Type":"application/json",Authorization:"Bearer "+c.access_token}},R=Object(n.useRef)(),I=Object(n.useRef)(),F=Object(n.useRef)(),M=Object(n.useRef)();Object(n.useEffect)((function(){h(i&&i.chapters),N(i&&i.sections),y(i&&i.excerise),q(i&&i.problems)}),[i,r,t]);var z=function(){var e=Object(p.a)(b.a.mark((function e(a){var c,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N([]),y([]),ce(""),c=R.current.value,void 0!==I.current){e.next=11;break}return e.next=7,C.a.get("".concat(B,"chapter/only-problem/").concat(t.isbn,"/").concat(c),D);case 7:n=e.sent,q(n.data.problems),e.next=15;break;case 11:return e.next=13,C.a.get("".concat(B,"chapter/section/").concat(t.isbn,"/").concat(c),D);case 13:s=e.sent,N(s.data.sections);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(p.a)(b.a.mark((function e(a){var c,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(""),c=R.current.value,n=I.current.value,e.next=5,C.a.get("".concat(B,"chapter/exercise/").concat(t.isbn,"/").concat(c,"/").concat(n),D);case 5:s=e.sent,y(s.data.excerise),q(s.data.problems);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(p.a)(b.a.mark((function e(a){var c,n,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(""),c=R.current.value,n=I.current.value,s=F.current.value,e.next=6,C.a.get("".concat(B,"chapter/problem/").concat(t.isbn,"/").concat(c,"/").concat(n,"/").concat(s),D);case 6:i=e.sent,q(i.data.problems);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=Object(n.useState)(!1),K=Object(L.a)(V,2),H=K[0],J=K[1],Y=Object(n.useState)([]),W=Object(L.a)(Y,2),X=W[0],Z=W[1],$=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J(!0),ce(""),Z(A.filter((function(e){return e.problem_no===t.target.value})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=Object(n.useState)(""),te=Object(L.a)(ee,2),ae=te[0],ce=te[1],ne=function(){var e=Object(p.a)(b.a.mark((function e(a){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(B,"chapter/search-question/").concat(t.isbn,"/").concat(a),D);case 2:c=e.sent,Z(c.data.problems);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=setTimeout((function(){ae.length>5&&""!=ae&&ne(ae)}),1500);return ae.length>0&&""!=ae?J(!0):(J(!1),ce(""),ae&&q(A)),function(){return clearTimeout(e)}}),[ae]),Object(E.jsx)(E.Fragment,{children:c.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Books Chapters"})}),d&&Object(E.jsx)(P.a,{children:d.message}),r&&Object(E.jsx)(U,{}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"col-md-12 row",children:[Object(E.jsxs)("div",{className:"p-0",children:[Object(E.jsx)(o.b,{to:"/books",className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})}),Object(E.jsx)("br",{}),Object(E.jsx)(o.b,{to:"/books-upload-chapters/".concat(t.isbn,"/").concat(t.book_name,"/").concat(t.book_id),className:"btn btn-sm mt-2 dark",children:Object(E.jsx)("span",{className:"fa fa-cloud"})})]}),Object(E.jsxs)("div",{className:"row col-md-10",children:[v&&v.length>0&&Object(E.jsx)("div",{className:"col-md-6 pr-0",children:Object(E.jsx)("select",{className:"form-control",name:"chapter_no",onChange:z,ref:R,children:v&&v.map((function(e){return Object(E.jsxs)("option",{value:e.chapter_no,children:[e.chapter_no," - ",e.chapter_name]},e.chapter_name)}))})}),f&&f.length>0&&Object(E.jsx)("div",{className:"col-md-3 pr-0",children:Object(E.jsx)("select",{className:"form-control",name:"section_no",ref:I,onChange:Q,children:f&&f.map((function(e,t){var a=t+1;return Object(E.jsxs)("option",{value:e.section_no,children:["NULL"===e.section_no?"":e.section_no," ",e.section_name]},a)}))})}),k&&k.length>0&&k[0].excerise&&Object(E.jsx)("div",{className:"col-md-3 pr-0",children:Object(E.jsx)("select",{className:"form-control",name:"excerise",ref:F,onChange:G,children:k&&k.map((function(e,t){var a=t+1;return Object(E.jsxs)("option",{value:e.excerise,children:[a," - ",e.excerise]},e.excerise)}))})}),A&&A.length>0&&Object(E.jsx)("div",{className:"col-md-6 pr-0",children:Object(E.jsx)("select",{className:"form-control",name:"excerise",ref:M,onChange:$,children:A&&A.map((function(e,t){return Object(E.jsxs)("option",{value:e.problem_no,children:[e.problem_no," - ",e.question]},e.problem_no)}))})}),Object(E.jsx)("div",{className:"col-md-6 pr-0",children:Object(E.jsx)("input",{name:"search",className:"form-control",autoComplete:"off",placeholder:"search questions...",value:ae,onChange:function(e){return ce(e.target.value)}})})]})]})}),!r&&Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"subject-main-container pl-0 pt-0 pr-0 pb-0",children:[!H&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h3",{className:"mt-0",children:"Question: "}),Object(E.jsx)("div",{className:"clearfix"}),null===A||void 0===A?void 0:A.map((function(e){return Object(E.jsx)(_e,{problem:e,search:ae},null===e||void 0===e?void 0:e._id)}))]}),H&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("h3",{children:["Question: ",ae]}),Object(E.jsx)("div",{className:"clearfix"}),X&&X.map((function(e){return Object(E.jsx)(_e,{problem:e,search:ae},e._id)}))]}),i.error&&Object(E.jsxs)("div",{className:"col-md-12 pl-0 text-danger",children:[Object(E.jsx)("strong",{style:{fontSize:"1.2rem"},children:null===i||void 0===i?void 0:i.message}),Object(E.jsx)(o.b,{to:"/upload-chapters/".concat(null===t||void 0===t?void 0:t.isbn,"/").concat(null===t||void 0===t?void 0:t.book_name,"/").concat(null===t||void 0===t?void 0:t.book_id),children:"Upload Books"})]})]})})]})})})})}},{path:"/upload-question",component:function(){Object(l.i)();var e=Object(l.g)(),t=function(){var e=Object(n.useContext)(u.a).state,t="";t=S.a;var a="".concat(t,"books/upload-questions");return Object(y.a)(["questions"],Object(p.a)(b.a.mark((function t(){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.get(a,{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return c=t.sent,t.abrupt("return",c.data.data);case 4:case"end":return t.stop()}}),t)}))))}().data;return Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Books"})}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsx)("div",{className:"col-md-12 row",children:Object(E.jsx)("button",{className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})})})}),Object(E.jsx)("div",{className:"dash-cont-start ",children:Object(E.jsx)("div",{className:"col-md-12 row no-gutter",children:null===t||void 0===t?void 0:t.map((function(t){return Object(E.jsx)("div",{className:"col-md-2 p-2 card mb-2 cursor",onClick:function(a){return e.push("/books-freelance/".concat(null===t||void 0===t?void 0:t.isbn))},children:null===t||void 0===t?void 0:t.isbn})}))})})]})})})}},{path:"/books-upload-chapters/:isbn?/:book_name?/:book_id?",component:function(){var e,t,a,c,s=Object(l.g)(),i=Object(l.i)(),r=Object(l.h)(),d=Object(n.useContext)(u.a).state,j=Object(n.useContext)(K.a),m=j.state,v=j.dispatch,h=Oe().data,f=Object(I.useToasts)().addToast,_=new FormData,k=Object(n.useState)(!1),y=Object(L.a)(k,2),w=y[0],T=y[1];Object(n.useEffect)((function(){"/books-upload-chapters"===r.pathname&&s.push("/books/upload-chapters")}),[d,null===i||void 0===i?void 0:i.isbn]);var A="";A=S.a;var q={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+d.access_token}};function B(){return(B=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=null,_.append("file",H),_.append("book_id",i.book_id),_.append("book_name",i.book_name),_.append("book_isbn",i.isbn),T(!0),z(!0),e.prev=8,!X||void 0!==X.problems){e.next=16;break}return console.log("data created"),e.next=13,C.a.post("".concat(A,"chapter/upload"),_,q);case 13:a=e.sent,e.next=20;break;case 16:return console.log("data Updated"),e.next=19,C.a.post("".concat(A,"chapter/update-chapter-csv"),_,q);case 19:a=e.sent;case 20:console.log(a),v({type:"SET_SUCCESS",payload:a.message}),z(!1),T(!1),s.push("/book-chapters/".concat(i.isbn,"/").concat(i.book_name,"/").concat(i.book_id)),e.next=32;break;case 27:e.prev=27,e.t0=e.catch(8),v({type:"SET_ERROR",payload:e.t0.message}),z(!1),T(!1);case 32:case"end":return e.stop()}}),e,null,[[8,27]])})))).apply(this,arguments)}var D=function(){var e=Object(p.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("".concat(A,"chapter/download/").concat(t.isbn));case 3:return a=e.sent,e.next=6,N(a.data.books);case 6:return c=e.sent,e.next=9,g(c,t.isbn);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message),v({type:"SET_ERROR",payload:e.t0.messsage});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),R=Object(n.useState)(!0),U=Object(L.a)(R,2),M=U[0],z=U[1],G=Object(n.useState)(null),V=Object(L.a)(G,2),H=V[0],J=V[1];function Y(){return(Y=Object(p.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,console.log("file onchange ",a),c=a.split(".")[1],console.log(c),"csv"===c?(z(!1),J(t.target.files[0]),_.append("file",t.target.files[0])):(z(!0),v({type:"SET_ERROR",payload:"Only .csv files are allowed"}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){var e=setTimeout((function(){return v({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return v({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[m.error,m.success]);var W=xe(),X=W.data,Z=W.isLoading,$=Object(n.useState)([]),ee=Object(L.a)($,2),te=ee[0],ae=ee[1],ce=Object(n.useState)(!0),ne=Object(L.a)(ce,2),se=ne[0],ie=ne[1],re=function(){var e=Object(p.a)(b.a.mark((function e(){var t,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),t=null===i||void 0===i?void 0:i.isbn,e.next=4,C.a.get("https://www.crazyforstudy.com/api/get-book-question.php?accessKey=crazyforstudy&isbn=".concat(t));case 4:(a=e.sent)?((c=null===a||void 0===a?void 0:a.data).forEach((function(e){e.uuid=Object(Ae.a)()})),ae(c),T(!1)):ae([]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e;(null===X||void 0===X||null===(e=X.problems)||void 0===e?void 0:e.length)>0&&ie(!1)}),[X,se]);var oe=Object(n.useState)(!1),le=Object(L.a)(oe,2),de=le[0],ue=le[1],je=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue(!0),te.forEach((function(e,t){var a=te[t].chapter_name.split("  ");e.book_isbn=null===i||void 0===i?void 0:i.isbn,""===e.chapter_no&&(e.chapter_no=a[1]),e.book_id=null===i||void 0===i?void 0:i.book_id,e.book_name=null===i||void 0===i?void 0:i.book_name})),e.next=4,C.a.post("".concat(A,"chapter/import-data"),te,q);case 4:201===e.sent.status&&(ue(!1),f("Books Data Uploaded successfully",{appearance:"success",autoDismiss:!0}),s.push("/book-chapters/".concat(null===i||void 0===i?void 0:i.isbn,"/").concat(null===i||void 0===i?void 0:i.book_name,"/").concat(null===i||void 0===i?void 0:i.book_id)));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:d.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Upload Chapters"})}),m.error&&Object(E.jsx)(P.a,{children:m.error}),m.success&&Object(E.jsx)(P.a,{children:m.success}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"pl-3 mr-2",children:i.subject_name?Object(E.jsx)(o.b,{to:"/books-upload",className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})}):Object(E.jsx)(o.b,{to:"/books",className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(E.jsx)("div",{className:"pl-0",children:Object(E.jsx)("button",{className:"btn btn-sm dark",onClick:function(e){return ie(!se)},children:se?"Upload Data Via CSV":"Import Book Questions Via API"})}),!se&&Object(E.jsx)("div",{className:"pl-0 ml-2",children:Object(E.jsx)("a",{href:"/sampledata/chapter_upload-9780131453401.csv",className:"btn btn-sm dark",download:!0,children:"Download Sample File"})})]})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"org-main-area",children:[!se&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"col-md-12 pl-0",style:{textTransform:"capitalize",fontWeight:"bold"},children:[Object(E.jsxs)("span",{children:["ISBN ",i.isbn," \xa0 "]}),Object(E.jsx)("span",{children:x(i.book_name)}),X&&X.book_isbn&&Object(E.jsx)(o.b,{className:"btn btn-sm dark pull-right",to:"/book-chapters/".concat(i.isbn,"/").concat(i.book_name,"/").concat(i.book_id),children:"View Question"})]}),Object(E.jsx)("hr",{className:"mb-1 mt-2"}),Object(E.jsx)("div",{className:"clearfix"}),Object(E.jsxs)("div",{className:"col-md-12 row no-gutter mt-2",children:[!Z&&Object(E.jsxs)("div",{className:"col-md-3 pl-0",children:[Object(E.jsx)("p",{children:Object(E.jsx)("b",{children:"Upload Chapters"})}),Object(E.jsx)("hr",{className:"mb-1"}),Object(E.jsxs)(Q.a,{method:"POST",encType:"multipart/form-data",children:[Object(E.jsxs)(Q.a.Group,{className:"col-md-12 pl-0",children:[Object(E.jsx)(Q.a.Label,{children:"Choose .csv format only"}),Object(E.jsx)(Q.a.Control,{name:"books",autoComplete:"off",type:"file",accept:".csv,",onChange:function(e){return Y.apply(this,arguments)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(E.jsx)(Q.a.Group,{className:"col-md-12 pl-0",children:Object(E.jsx)(F.a,{onClick:function(e){return B.apply(this,arguments)},disabled:M,className:"btn dark btn-sm",children:w?"processing...":"Upload Books"})})]})]}),Object(E.jsxs)("div",{className:"col-md-9 pl-0",children:[Object(E.jsx)("p",{children:Object(E.jsxs)("b",{children:["All Chapters Questions ",null===X||void 0===X||null===(e=X.problems)||void 0===e?void 0:e.length," "]})}),Object(E.jsx)("hr",{className:"mb-1"}),!0===(null===X||void 0===X?void 0:X.error)&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(E.jsx)("button",{className:"btn btn-sm dark",children:null===X||void 0===X?void 0:X.message})})}),Object(E.jsxs)("div",{className:"tbl tbl-responsive",children:[Object(E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingRight:"15px",background:"#efefef"},children:[Object(E.jsxs)("div",{style:{fontSize:"0.95rem"},children:[Object(E.jsx)("b",{children:"Question No:"})," "]}),Object(E.jsx)("div",{style:{fontSize:"0.95rem",marginRight:"55px"},children:Object(E.jsx)("b",{children:"Old QID:"})}),Object(E.jsxs)("div",{style:{fontSize:"0.95rem",marginRight:"15px"},children:[Object(E.jsx)("b",{children:" Question"})," "]})]}),Object(E.jsx)("hr",{className:"mb-1 mt-0"}),Object(E.jsx)("div",{style:{height:"180px",minHeight:"180px",overflowY:"scroll",paddingRight:"15px"},children:null===X||void 0===X||null===(t=X.problems)||void 0===t?void 0:t.map((function(e){return Object(E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(E.jsx)("div",{style:{fontSize:"0.95rem"},children:e.problem_no}),Object(E.jsx)("div",{style:{fontSize:"0.95rem"},children:e.old_qid}),Object(E.jsx)("div",{style:{fontSize:"0.95rem",marginRight:"15px"},children:e.question?Object(E.jsx)("b",{children:Object(E.jsx)("span",{style:{color:"green"},children:" Uploaded "})}):Object(E.jsx)("b",{children:Object(E.jsx)("span",{style:{color:"red"},children:" Not Uploaded "})})})]},null===e||void 0===e?void 0:e._id)}))})]}),!1===(null===X||void 0===X?void 0:X.error)&&(null===X||void 0===X||null===(a=X.problems)||void 0===a?void 0:a.length)>0&&""==(null===X||void 0===X||null===(c=X.problems[0])||void 0===c?void 0:c.question)&&Object(E.jsx)(F.a,{className:"btn btn-sm dark mt-2",onClick:D.bind(this,{isbn:i.isbn}),children:"Download Uploaded CSV"})]})]})]}),se&&Object(E.jsxs)("div",{className:"col-md-12 row no-gutter p-0 mt-2",children:[Object(E.jsxs)("div",{className:"col-md-12",children:[Object(E.jsx)("button",{className:"btnb tn-sm dark",onClick:re,children:w?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner mr-2"})," Loading .... "]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-download"})," Import API Data"]})}),(null===te||void 0===te?void 0:te.length)>0&&Object(E.jsxs)("div",{className:"pull-right",children:[Object(E.jsx)("button",{className:"btnb tn-sm ml-2 dark",onClick:je,children:de?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner mr-2"})," Uploading .... "]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-download mr-2"})," Upload ",null===te||void 0===te?void 0:te.length," Questions"]})}),Object(E.jsxs)("button",{className:"btn dark btn-sm ml-2",onClick:function(e){e.preventDefault(),s.push("/books/".concat(null===h||void 0===h?void 0:h.subject_name,"/").concat(null===h||void 0===h?void 0:h.sub_subject_name,"/").concat(null===h||void 0===h?void 0:h.sub_subject_id))},children:[Object(E.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{className:"col-md-12 table-responsive",children:Object(E.jsxs)("div",{className:"table table-bordered",children:[Object(E.jsxs)("div",{className:"col-md-12 mt-2 pb-2 pt-2",style:{display:"flex",justifyContent:"space-around",borderBottom:"1px solid #000",background:"#efefef"},children:[Object(E.jsx)("div",{className:"col-md-3 text-left",children:"QID"}),Object(E.jsx)("div",{className:"col-md-3 text-left",children:"Problem No"}),Object(E.jsx)("div",{className:"col-md-3 text-left",children:"Chapter Name"}),Object(E.jsx)("div",{className:"col-md-3 text-left",children:"Question"})]}),Object(E.jsx)("div",{className:"col-md-12",style:{height:"400px",overflowX:"hidden",overflowY:"scroll"},children:null===te||void 0===te?void 0:te.map((function(e){return Object(E.jsxs)("div",{className:"col-md-12 mb-2 mt-2 pl-0 pb-2",id:null===e||void 0===e?void 0:e.uuid,style:{display:"flex",justifyContent:"space-around",borderBottom:"1px solid #000"},children:[Object(E.jsx)("div",{className:"col-md-3 text-left",children:(null===e||void 0===e?void 0:e.old_qid)?null===e||void 0===e?void 0:e.old_qid:"No Old Question Id"}),Object(E.jsx)("div",{className:"col-md-3 text-left",children:null===e||void 0===e?void 0:e.problem_no}),Object(E.jsx)("div",{className:"col-md-3 text-left",children:null===e||void 0===e?void 0:e.chapter_name}),Object(E.jsx)("div",{className:"col-md-3 text-left",children:(null===e||void 0===e?void 0:e.question)?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("span",{children:[O(null===e||void 0===e?void 0:e.question,50),"..."]})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("span",{className:"text-danger",children:"No Question Available"})})})]},null===e||void 0===e?void 0:e.uuid)}))})]})})]})]})})]})})})})}},{path:"/books-chapter-add-question/:q_id?",component:function(){var e=Object(l.g)(),t=Object(l.i)(),a=Object(n.useContext)(u.a).state,c=Object(n.useContext)(K.a),s=c.state,i=c.dispatch,r=Object(n.useState)(!1),d=Object(L.a)(r,2),j=d[0],m=d[1],v="";v=S.a;var h={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},O=Object(n.useState)(!1),x=Object(L.a)(O,2),f=x[0],N=x[1],g=window.URL||window.webkitURL,_=Object(n.useState)(""),k=Object(L.a)(_,2),w=k[0],T=k[1],A=Object(n.useState)({}),B=Object(L.a)(A,2),D=B[0],R=B[1];function I(){return(I=Object(p.a)(b.a.mark((function a(c){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),n=null,m(!0),N(!0),a.next=6,C.a.patch("".concat(v,"chapter/add-question/").concat(t.q_id),D,h);case 6:n=a.sent,console.log(n),i({type:"SET_SUCCESS",payload:n.message}),N(!1),m(!1),e.push("/book-chapters/".concat(M&&M.book_isbn,"/").concat(M&&M.book_name,"/").concat(M&&M._id));case 12:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var U=function(){var e=Object(l.i)().q_id,t=Object(n.useContext)(u.a).state,a="";return a=S.a,Object(y.a)("question",Object(p.a)(b.a.mark((function c(){var n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.a.get("".concat(a,"chapter/single-question/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return n=c.sent,c.abrupt("return",n.data.results);case 4:case"end":return c.stop()}}),c)}))))}(),M=U.data,z=U.isLoading;return Object(n.useEffect)((function(){var e=setTimeout((function(){return i({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return i({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[s.error,s.success]),Object(E.jsx)(E.Fragment,{children:a.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Add Question"})}),s.error&&Object(E.jsx)(P.a,{children:s.error}),s.success&&Object(E.jsx)(P.a,{children:s.success}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsx)("div",{className:"row",children:Object(E.jsx)("div",{className:"col-md-1 pl-3",children:Object(E.jsx)(o.b,{to:"/book-chapters/".concat(M&&M.book_isbn,"/").concat(M&&M.book_name,"/").concat(M&&M._id),className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})})})})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsx)("div",{className:"org-main-area",children:Object(E.jsx)("div",{className:"col-md-12 row no-gutter p-0 mt-2",children:!z&&Object(E.jsxs)(Q.a,{method:"POST",className:"col-md-12 pl-2",encType:"multipart/form-data",children:[Object(E.jsxs)(Q.a.Group,{className:"col-md-12",children:[Object(E.jsx)(Q.a.Label,{children:"Question"}),Object(E.jsx)(Ce.CKEditor,{editor:Se.a,config:{toolbar:{items:["MathType","ChemType","heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","mediaEmbed","insertTable","blockQuote","undo","redo"]}},data:M&&M.question,onChange:function(e,t){var a=t.getData();R(Object(q.a)(Object(q.a)({},D),{},{question:a}))}})]}),Object(E.jsxs)(Q.a.Group,{className:"col-md-12",children:[Object(E.jsx)(Q.a.Label,{children:"Question Image"}),Object(E.jsx)(Q.a.Control,{name:"image",type:"file",onChange:function(e){var t,a,c,n,s;e.preventDefault(),(t=e.target.files[0])&&(a=new Image,n=new Blob([t],{type:t.type}),a.src=g.createObjectURL(n),(s=new FileReader).readAsDataURL(n),s.onload=function(){c=s.result,T(c),R(Object(q.a)(Object(q.a)({},D),{},{image:c}))})}}),Object(E.jsx)("div",{style:{height:"130px",overflow:"hidden",marginTop:"10px"},children:Object(E.jsx)("img",{src:w||M&&M.image})})]}),Object(E.jsxs)(Q.a.Group,{className:"col-md-12",children:[Object(E.jsx)(Q.a.Label,{children:"Question Answer"}),Object(E.jsx)(Ce.CKEditor,{editor:Se.a,config:{toolbar:{items:["MathType","ChemType","heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","mediaEmbed","insertTable","blockQuote","undo","redo"]}},data:M&&M.answer,onChange:function(e,t){var a=t.getData();R(Object(q.a)(Object(q.a)({},D),{},{answer:a}))}})]}),Object(E.jsx)(Q.a.Group,{className:"col-md-12",children:Object(E.jsx)(F.a,{onClick:function(e){return I.apply(this,arguments)},disabled:!j&&f,className:"btn dark btn-md",children:j?"processing...":"Update Question"})})]})})})})]})})})})}},{path:"/books-rating-review/:isbn/:book_id/:review_id?",component:function(){var e=Object(l.g)(),t=Object(l.i)(),a=Object(I.useToasts)().addToast,c=Object(n.useContext)(u.a).state,s=function(){var e=Object(l.i)().book_id,t=Object(n.useContext)(u.a).state,a="";return a=S.a,Object(y.a)(["reviews",e],Object(p.a)(b.a.mark((function c(){var n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.a.get("".concat(a,"books/all-reviews/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return n=c.sent,c.abrupt("return",n.data);case 4:case"end":return c.stop()}}),c)}))))}(),i=s.data,r=s.isLoading,d="";d=S.a;var j={headers:{"Content-Type":"application/json",Authorization:"Bearer "+c.access_token}},m=Object(n.useState)({}),v=Object(L.a)(m,2),h=v[0],O=v[1],x=Object(n.useState)(""),f=Object(L.a)(x,2),N=f[0],g=f[1],_=Object(n.useState)(),k=Object(L.a)(_,2),w=k[0],T=k[1],A=Object(n.useState)(!1),B=Object(L.a)(A,2),D=B[0],R=B[1],F=Object(se.b)(),M=Object(n.useRef)(""),z=Object(n.useRef)(""),Q=Object(n.useRef)(""),G=Object(n.useState)(!1),V=Object(L.a)(G,2),K=V[0],H=V[1],J=Object(ie.a)((function(e){return C.a.post("".concat(d,"books/add-review"),e,j)}),{onSuccess:function(){F.invalidateQueries("reviews"),R(!1),M.current.value="",z.current.value="",e.push("/book-rating-review/".concat(t.isbn,"/").concat(t.book_id)),document.getElementById("reviewDiv").scrollTop=0,a("Review added successfully",{appearance:"success",autoDismiss:!0})}}),Y=Object(ie.a)((function(e){return C.a.post("".concat(d,"books/upload-review"),e,j)}),{onSuccess:function(){F.invalidateQueries("reviews"),R(!1),e.push("/book-rating-review/".concat(t.isbn,"/").concat(t.book_id));var c=document.getElementById("reviewDiv");a("Review Uploaded Successfully",{appearance:"success",autoDismiss:!0}),c.scrollTop=0}}),W=function(){var e=Object(p.a)(b.a.mark((function e(c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),""!==z.current.value){e.next=5;break}return a("Please enter username",{appearance:"error",autoDismiss:!0}),z.current.focus(),e.abrupt("return");case 5:return h.book_id=t.book_id,h.isbn=t.isbn,h.review_id=t.review_id,h.userName=""!==h.userName?z.current.value:h.userName,h.review=""!==h.review?M.current.value:h.review,h.rating=N,h.stats=!0,R(!0),e.next=15,J.mutate(h);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=new FormData,Z=Object(n.useState)(null),$=Object(L.a)(Z,2),ee=$[0],te=$[1];function ae(){return(ae=Object(p.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.target.files[0].name,"csv"===c.split(".")[1]?(te(t.target.files[0]),X.append("file",t.target.files[0])):a("Only .csv files are allowed",{appearance:"error",autoDismiss:!0});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce=function(){var e=Object(p.a)(b.a.mark((function e(c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),null!==ee){e.next=4;break}return a("Please upload csv file. download sample file.",{appearance:"error",autoDismiss:!0}),e.abrupt("return",!1);case 4:return X.append("book_id",t.book_id),X.append("isbn",t.isbn),X.append("upload",K),X.append("stats",!0),X.append("file",ee),R(!0),e.next=12,Y.mutate(X);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=setTimeout((function(){return T("")}),1500);return function(){clearTimeout(e)}}),[w]);var ne=Object(n.useState)({userName:"",review:""}),re=Object(L.a)(ne,2),oe=re[0],le=re[1],de=function(){var e=Object(p.a)(b.a.mark((function e(){var a,c,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=i&&i.data,n=c&&c.filter((function(e){return e._id===t.review_id})),le(n&&n[0]),g(n&&(null===(a=n[0])||void 0===a?void 0:a.rating));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(de,[i,t.review_id]);var ue=(null===t||void 0===t?void 0:t.book_id)?"/book-seo/".concat(t.isbn,"/").concat(t.book_id):"/books";return Object(E.jsx)(E.Fragment,{children:c.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsxs)("h2",{children:["Books Rating and Review - ISBN13: ",null===t||void 0===t?void 0:t.isbn]})}),w&&Object(E.jsx)(P.a,{children:w.message}),r&&Object(E.jsx)(U,{}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"col-md-12 row",children:[Object(E.jsx)("div",{className:"p-0",children:Object(E.jsx)(o.b,{to:ue,className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(E.jsx)("div",{className:"row col-md-10",children:Object(E.jsxs)("div",{className:"col-md-6 pr-0",children:[t&&!t.review_id&&Object(E.jsxs)("button",{className:"btn btn-sm mr-1 dark text-success",onClick:function(e){return H(!K)},children:[Object(E.jsx)("span",{className:"fa fa-cloud"}),"\xa0 Bulk Upload Review"]}),K&&Object(E.jsxs)("a",{className:"btn btn-sm ml-1 dark text-success",href:"/sampledata/bulk_upload_review.csv",download:!0,children:[Object(E.jsx)("span",{className:"fa fa-download"})," \xa0 Download Sample File"]})]})})]})}),!r&&Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsx)("div",{className:"subject-main-container pl-0 pt-0 pr-0 pb-0",children:Object(E.jsxs)("div",{className:"row col-md-12",children:[Object(E.jsxs)("div",{className:"col-md-3",children:[Object(E.jsxs)("h6",{children:[" ",Object(E.jsx)("span",{className:"fa fa-star"})," Manage Reviews"]}),Object(E.jsx)("hr",{}),Object(E.jsxs)("form",{children:[!K&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"userName"}),Object(E.jsx)("input",{ref:z,defaultValue:oe&&oe.userName,onChange:function(e){return O(Object(q.a)(Object(q.a)({},h),{},{userName:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter username"})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Reviews"}),Object(E.jsx)("textarea",{ref:M,className:"form-control",defaultValue:oe&&oe.review,onChange:function(e){return O(Object(q.a)(Object(q.a)({},h),{},{review:e.target.value}))},style:{height:"150px"}})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Rating"}),Object(E.jsx)("br",{}),Object(E.jsx)(ke.a,{ref:Q,initialRating:oe&&oe.rating,defaultValue:oe&&oe.rating,emptySymbol:"fa fa-star-o fa-2x",fullSymbol:"fa fa-star fa-2x",onChange:function(e){return g(e)}})]})]}),K&&Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Upload"}),Object(E.jsx)("input",{type:"file",accept:".csv,",onChange:function(e){return ae.apply(this,arguments)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(E.jsxs)("div",{className:"form-group",children:[!K&&Object(E.jsxs)("button",{className:"btn btn-md text-success block dark",onClick:W,children:[D&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner"})," Processing"]}),!K&&!D&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-save"})," Save Review"]})]}),K&&Object(E.jsxs)("button",{className:"btn btn-md text-success block dark",onClick:ce,children:[D&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner"})," Processing"]}),K&&!D&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-cloud"})," Upload Review"]})]}),t&&t.review_id&&Object(E.jsxs)("button",{className:"btn btn-md pull-right dark text-success",onClick:function(t){return e.push(ue)},children:[" ",Object(E.jsx)("span",{className:"fa fa-times"})," Cancel "]})]})]})]}),Object(E.jsxs)("div",{className:"col-md-8 offset-1",children:[Object(E.jsxs)("h6",{children:[" ",Object(E.jsx)("span",{className:"fa fa-star"}),i&&i.data.length?i&&i.data.length:"All "," Reviews for - ISBN ",Object(E.jsx)("b",{children:t.isbn})]}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{style:{height:"420px",overflowY:"scroll",paddingRight:"15px"},id:"reviewDiv",children:i&&i.data.map((function(e){return Object(E.jsxs)("div",{className:"subject-card",style:{width:"100%"},children:[Object(E.jsxs)("div",{className:"subject-card-body",children:[Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-star fa-1x mr-2 pt-1"}),"\xa0 Ratings:"]}),Object(E.jsx)("div",{className:"name-main",children:Object(E.jsx)(ke.a,{initialRating:e&&e.rating,emptySymbol:"fa fa-star-o text-danger",fullSymbol:"fa fa-star text-success",readonly:!0,className:"displayRating"})})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-calendar fa-1x mr-2 pt-1"}),"\xa0 Review Date:"]}),Object(E.jsx)("div",{className:"name-main",children:e&&e.created_at})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-user fa-1x mr-2 pt-1"}),"\xa0 UserName:"]}),Object(E.jsx)("div",{className:"name-main",children:e&&e.userName})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-comments fa-1x mr-2 pt-1"}),"\xa0 Reviews:"]}),Object(E.jsx)("div",{className:"name-main text-justify",children:e&&e.review.substr(0,60)+"..."})]})]}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),Object(E.jsx)(ye,{review:e})]},e._id)}))})]})]})})})]})})})})}},{path:"/books-faq/:isbn/:book_id/:faq_id?",component:function(){var e,t,a,c=Object(l.g)(),s=Object(l.i)(),i=Object(I.useToasts)().addToast,r=Object(n.useContext)(u.a).state,o=Oe().data,d=function(){var e=Object(l.i)().book_id,t=Object(n.useContext)(u.a).state,a="";return a=S.a,Object(y.a)(["faqs",e],Object(p.a)(b.a.mark((function c(){var n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.a.get("".concat(a,"books/all-faqs/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return n=c.sent,c.abrupt("return",n.data);case 4:case"end":return c.stop()}}),c)}))))}(),j=d.data,m=d.isLoading,v="";v=S.a;var h={headers:{"Content-Type":"application/json",Authorization:"Bearer "+r.access_token}},O=Object(n.useState)({}),x=Object(L.a)(O,2),f=x[0],N=x[1],g=Object(n.useState)(),_=Object(L.a)(g,2),k=_[0],w=_[1],T=Object(n.useState)(!1),A=Object(L.a)(T,2),B=A[0],D=A[1],R=Object(se.b)(),F=Object(n.useRef)(""),M=Object(n.useRef)(""),z=Object(ie.a)((function(e){return C.a.post("".concat(v,"books/add-faq"),e,h)}),{onSuccess:function(){R.invalidateQueries("faqs"),D(!1),F.current.value="",M.current.value="",c.push("/book-faq/".concat(s.isbn,"/").concat(s.book_id)),document.getElementById("faqDiv").scrollTop=0,i("FAQ`s added successfully",{appearance:"success",autoDismiss:!0})}}),Q=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==F.current.value){e.next=5;break}return i("Please enter question",{appearance:"error",autoDismiss:!0}),F.current.focus(),e.abrupt("return");case 5:return f.book_id=s.book_id,f.isbn=s.isbn,f.faq_id=s.faq_id,f.question=""!==f.question?F.current.value:f.question,f.answer=""!==f.answer?M.current.value:f.answer,f.stats=!0,D(!0),e.next=14,z.mutate(f);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=setTimeout((function(){return w("")}),1500);return function(){clearTimeout(e)}}),[k]);var G=Object(n.useState)({question:"",answer:""}),V=Object(L.a)(G,2),K=V[0],H=V[1];function J(){return(J=Object(p.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null===j||void 0===j?void 0:j.data,a=null===t||void 0===t?void 0:t.filter((function(e){return(null===e||void 0===e?void 0:e._id)===(null===s||void 0===s?void 0:s.faq_id)})),H(a&&a[0]),e.abrupt("return",K);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){return J.apply(this,arguments)}),[j]);var Y=(null===s||void 0===s?void 0:s.faq_id)?"/book-faq/".concat(null===o||void 0===o?void 0:o.subject_name,"/").concat(null===o||void 0===o?void 0:o.sub_subject_name,"/").concat(null===o||void 0===o?void 0:o.sub_subject_id):"/book-seo/".concat(null===s||void 0===s?void 0:s.isbn,"/").concat(null===s||void 0===s?void 0:s.book_id);return Object(E.jsx)(E.Fragment,{children:r.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsxs)("h2",{children:["Books Frquently Asked Question - ISBN13: ",null===s||void 0===s?void 0:s.isbn]})}),k&&Object(E.jsx)(P.a,{children:k.message}),m&&Object(E.jsx)(U,{}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsx)("div",{className:"col-md-12 row",children:Object(E.jsx)("div",{className:"p-0",children:Object(E.jsx)(Te,{})})})}),!m&&Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsx)("div",{className:"subject-main-container pl-0 pt-0 pr-0 pb-0",children:Object(E.jsxs)("div",{className:"row col-md-12",children:[Object(E.jsxs)("div",{className:"col-md-4",children:[Object(E.jsxs)("h6",{children:[" ",Object(E.jsx)("span",{className:"fa fa-star"})," Manage Faq`s"]}),Object(E.jsx)("hr",{}),Object(E.jsxs)("form",{children:[Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Question"}),Object(E.jsx)("input",{ref:F,defaultValue:null===K||void 0===K?void 0:K.question,onChange:function(e){return N(Object(q.a)(Object(q.a)({},f),{},{question:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter question"})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Answers"}),Object(E.jsx)(Ce.CKEditor,{editor:Se.a,config:{toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","mediaEmbed","insertTable","blockQuote","undo","redo"]}},data:(null===K||void 0===K?void 0:K.answer)?null===K||void 0===K?void 0:K.answer:"Enter Answer",onChange:function(e,t){var a=t.getData();N(Object(q.a)(Object(q.a)({},f),{},{answer:a}))}})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("button",{className:"btn btn-md text-success block dark",onClick:Q,children:B?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner"})," Processing"]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-save"})," Save FAQ"]})}),s&&s.faq_id&&Object(E.jsxs)("button",{className:"btn btn-md pull-right dark text-success",onClick:function(e){return c.push(Y)},children:[" ",Object(E.jsx)("span",{className:"fa fa-times"})," Cancel "]})]})]})]}),Object(E.jsxs)("div",{className:"col-md-7 offset-1",children:[Object(E.jsxs)("h6",{children:[" ",Object(E.jsx)("span",{className:"fa fa-star"}),(null===j||void 0===j||null===(e=j.data)||void 0===e?void 0:e.length)?null===j||void 0===j||null===(t=j.data)||void 0===t?void 0:t.length:"All "," FAQ`s for - ISBN ",Object(E.jsx)("b",{children:null===s||void 0===s?void 0:s.isbn})]}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{style:{height:"420px",overflowY:"scroll",paddingRight:"15px"},id:"faqDiv",children:null===j||void 0===j||null===(a=j.data)||void 0===a?void 0:a.map((function(e){var t;return Object(E.jsxs)("div",{className:"subject-card",style:{width:"100%"},children:[Object(E.jsxs)("div",{className:"subject-card-body",children:[Object(E.jsxs)("div",{className:"",children:[Object(E.jsxs)("div",{className:"",children:[Object(E.jsx)("span",{className:"fa fa-user fa-1x mr-2 pt-1"}),"\xa0 Question:"]}),Object(E.jsx)("div",{className:"text-danger",children:null===e||void 0===e?void 0:e.question})]}),Object(E.jsx)("hr",{className:"mb-1 mt-1"}),Object(E.jsxs)("div",{className:"",children:[Object(E.jsxs)("div",{className:"",children:[Object(E.jsx)("span",{className:"fa fa-comments fa-1x mr-2 pt-1"}),"\xa0 Answer:"]}),Object(E.jsx)("div",{className:"clearfix"}),Object(E.jsx)("div",{className:"text-justify text-info",children:(null===e||void 0===e||null===(t=e.answer)||void 0===t?void 0:t.substr(0,80))+"..."})]})]}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),Object(E.jsx)(we,{faq:e})]},e._id)}))})]})]})})})]})})})})}},{path:"/books-seo/:isbn?/:book_id?/:seo_id?",component:function(){var e=Object(l.g)(),t=Object(l.i)(),a=(Object(l.h)(),Object(I.useToasts)().addToast),c=Object(n.useContext)(u.a).state,s=Oe().data,i=function(){var e=Object(l.i)().isbn,t=Object(n.useContext)(u.a).state,a="";return a=S.a,Object(y.a)(["booksQuestions",e],Object(p.a)(b.a.mark((function c(){var n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.a.get("".concat(a,"books/total-questions/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return n=c.sent,c.abrupt("return",n.data);case 4:case"end":return c.stop()}}),c)}))))}().data,r=Ee(),o=r.data,d=r.isLoading;Object(n.useEffect)((function(){"/books-seo"===location.pathname&&e.push("/books/seo")}),[c,null===t||void 0===t?void 0:t.isbn]);var j="";j=S.a;var m={headers:{"Content-Type":"application/json",Authorization:"Bearer "+c.access_token}},h=Object(n.useState)({}),O=Object(L.a)(h,2),x=O[0],f=O[1],N=Object(n.useState)(),g=Object(L.a)(N,2),_=g[0],k=g[1],w=Object(n.useState)(!1),T=Object(L.a)(w,2),A=T[0],B=T[1],D=Object(se.b)(),R=Object(n.useRef)(""),F=Object(n.useRef)(""),M=Object(n.useRef)(""),z=Object(n.useRef)(""),Q=Object(n.useRef)(""),G=Object(n.useRef)(""),V=Object(n.useRef)(""),K=Object(n.useRef)(""),H=Object(n.useRef)(""),J=Object(n.useRef)(""),Y=Object(n.useRef)(""),W=Object(ie.a)((function(e){return C.a.post("".concat(j,"books/add-seo"),e,m)}),{onSuccess:function(){D.invalidateQueries("faqs"),B(!1),e.push("/books-seo/".concat(t.isbn,"/").concat(t.book_id)),a("FAQ`s added successfully",{appearance:"success",autoDismiss:!0})}}),X=function(){var e=Object(p.a)(b.a.mark((function e(c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),""!==F.current.value){e.next=5;break}return a("Please enter question",{appearance:"error",autoDismiss:!0}),M.current.focus(),e.abrupt("return");case 5:return x.book_id=t.book_id,x.isbn=t.isbn,x.MetaTitle=""!==x.MetaTitle?F.current.value:x.MetaTitle,x.MetaDescription=""!==x.MetaDescription?M.current.value:x.MetaDescription,x.MetaKeywords=""!==x.MetaKeywords?z.current.value:x.MetaKeywords,x.urls=""!==x.urls?R.current.value:x.urls,x.NoIndex=""!==x.NoIndex?Q.current.value:x.NoIndex,x.DisplayTitle=""!==x.DisplayTitle?G.current.value:x.DisplayTitle,x.Author2=""!==x.Author2?V.current.value:x.Author2,x.AltImage=""!==x.AltImage?H.current.value:x.AltImage,x.similarHeading=J.current.value,x.faqHeading=Y.current.value,x.status=!0,B(!0),console.log(x),e.next=22,W.mutate(x);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=setTimeout((function(){return k("")}),1500);return function(){clearTimeout(e)}}),[_]),console.log(s);var Z=""===(null===o||void 0===o?void 0:o.urls)?null===o||void 0===o?void 0:o.urls:v(null===s||void 0===s?void 0:s.BookName),$="isbn-".concat(t.isbn,"-").concat(Z,"-").concat(v(null===s||void 0===s?void 0:s.Edition)),ee=(null===t||void 0===t||t.faq_id,"/books/".concat(null===s||void 0===s?void 0:s.subject_name,"/").concat(null===s||void 0===s?void 0:s.sub_subject_name,"/").concat(null===s||void 0===s?void 0:s.sub_subject_id));return Object(E.jsx)(E.Fragment,{children:c.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsxs)("h2",{children:["Book Landing Page SEO - ISBN13: ",null===t||void 0===t?void 0:t.isbn]})}),_&&Object(E.jsx)(P.a,{children:_.message}),d&&Object(E.jsx)(U,{}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsx)("div",{className:"col-md-12 row",children:Object(E.jsx)(Te,{})})}),!d&&Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsx)("div",{className:"pl-0 pt-0 pr-0 pb-0",children:Object(E.jsxs)("form",{children:[Object(E.jsxs)("div",{className:"row col-md-12",children:[Object(E.jsxs)("div",{className:"col-md-6",children:[Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"urls"}),Object(E.jsx)("badge",{className:"badge badge-success pull-right",children:null===i||void 0===i?void 0:i.count}),Object(E.jsx)("input",{ref:R,readonly:!0,defaultValue:$,onChange:function(e){return f(Object(q.a)(Object(q.a)({},x),{},{urls:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter urls"}),Object(E.jsx)("badge",{className:"badge btn-block text-left badge-success pull-right mt-1",style:{fontStyle:"normal"},children:null===o||void 0===o?void 0:o.urls})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Meta Title"}),Object(E.jsx)("input",{ref:F,defaultValue:null===o||void 0===o?void 0:o.MetaTitle,onChange:function(e){return f(Object(q.a)(Object(q.a)({},x),{},{MetaTitle:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter MetaTitle"})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Meta Keywords"}),Object(E.jsx)("input",{ref:z,defaultValue:null===o||void 0===o?void 0:o.MetaKeywords,onChange:function(e){return f(Object(q.a)(Object(q.a)({},x),{},{MetaKeywords:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter MetaKeywords"})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Meta Description"}),Object(E.jsx)("input",{ref:M,defaultValue:null===o||void 0===o?void 0:o.MetaDescription,onChange:function(e){return f(Object(q.a)(Object(q.a)({},x),{},{MetaDescription:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter MetaDescription"})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"No Index"}),Object(E.jsxs)("select",{className:"form-control",ref:Q,onChange:function(e){return f(Object(q.a)(Object(q.a)({},x),{},{NoIndex:e.target.value}))},children:[Object(E.jsx)("option",{value:"noindex",selected:0===(null===i||void 0===i?void 0:i.count)?"selected":"",children:"No Index"}),Object(E.jsx)("option",{value:"index",selected:(null===i||void 0===i?void 0:i.count)>0?"selected":"",children:"Index"})]})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Author 2"}),Object(E.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",ref:V,defaultValue:null===o||void 0===o?void 0:o.Author2,placeholder:"Enter Author Name",onChange:function(e){return f(Object(q.a)(Object(q.a)({},x),{},{Author2:e.target.value}))}})]})]}),Object(E.jsxs)("div",{className:"col-md-6",children:[Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Similar Books Heading"}),Object(E.jsx)("input",{ref:J,defaultValue:null===o||void 0===o?void 0:o.similarHeading,onChange:function(e){return f(Object(q.a)(Object(q.a)({},x),{},{similarHeading:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter Similar Books Heading"})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"FAQ Books Heading"}),Object(E.jsx)("input",{ref:Y,defaultValue:null===o||void 0===o?void 0:o.faqHeading,onChange:function(e){return f(Object(q.a)(Object(q.a)({},x),{},{faqHeading:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter Similar Books Heading"})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Display Title"}),Object(E.jsx)("input",{ref:G,defaultValue:null===o||void 0===o?void 0:o.DisplayTitle,onChange:function(e){return f(Object(q.a)(Object(q.a)({},x),{},{DisplayTitle:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter DisplayTitle"})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Alt Image"}),Object(E.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",ref:H,defaultValue:null===o||void 0===o?void 0:o.AltImage,placeholder:"Enter Alt Image Name",onChange:function(e){return f(Object(q.a)(Object(q.a)({},x),{},{AltImage:e.target.value}))}})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Description"}),Object(E.jsx)(Ce.CKEditor,{editor:Se.a,config:{toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","insertTable","blockQuote","undo","redo"]}},ref:K,data:(null===o||void 0===o?void 0:o.Description)?null===o||void 0===o?void 0:o.Description:"Enter Answer",onChange:function(e,t){var a=t.getData();f(Object(q.a)(Object(q.a)({},x),{},{Description:a}))}})]})]})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"form-group col-md-6",children:[Object(E.jsx)("button",{className:"btn btn-md text-success block dark",onClick:X,children:A?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner"})," Processing"]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-save"})," Save SEO"]})}),t&&t.book_id&&Object(E.jsxs)("button",{className:"btn btn-md pull-right dark text-success",onClick:function(t){return e.push(ee)},children:[" ",Object(E.jsx)("span",{className:"fa fa-times"})," Cancel "]})]})]})})})]})})})})}},{path:"/books-freelance/:isbn?/:status?/:section_id?/:question_id?",component:function(){var e,t,a,c,s,i=this,r=Object(l.g)(),d=Object(l.i)(),j=Object(l.h)(),m=Object(I.useToasts)().addToast,v=Object(n.useContext)(u.a).state,h=function(){var e=Object(l.i)().isbn,t=Object(n.useContext)(u.a).state,a="";return a=S.a,Object(y.a)(["books",e],Object(p.a)(b.a.mark((function c(){var n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.a.get("".concat(a,"books/search/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return n=c.sent,c.abrupt("return",n.data.data);case 4:case"end":return c.stop()}}),c)}))))}().data,O=function(){var e=Object(l.i)(),t=e.isbn,a=e.status,c=Object(n.useContext)(u.a).state,s="";return s=S.a,Object(y.a)(["chapters-bartelby-".concat(t,"-").concat(a)],Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(s,"chapter/bartelby-chapters/").concat(t,"/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))))}().data,x=Object(n.useState)(""),f=Object(L.a)(x,2),N=(f[0],f[1]),g=Object(n.useState)([]),_=Object(L.a)(g,2),k=_[0],w=_[1],T=Object(se.b)(),A=Object(n.useState)(!1),q=Object(L.a)(A,2),B=q[0],D=q[1],R=Object(n.useState)({}),F=Object(L.a)(R,1)[0],P=Object(n.useState)({}),U=Object(L.a)(P,2),M=U[0],z=U[1],Q=Object(n.useState)(!1),G=Object(L.a)(Q,2),V=G[0],K=G[1],H=Object(n.useState)(!1),J=Object(L.a)(H,2),Y=(J[0],J[1]),W=Object(n.useState)(!1),X=Object(L.a)(W,2),Z=X[0],$=X[1],ee=Object(n.useState)(!1),te=Object(L.a)(ee,2),ae=te[0],ce=te[1],ne=Object(n.useState)(!1),re=Object(L.a)(ne,2),oe=re[0],le=re[1],de=Object(n.useState)("Enter Clear Password"),ue=Object(L.a)(de,2),je=ue[0],me=ue[1],pe=Object(n.useState)([]),ve=Object(L.a)(pe,2),he=ve[0],Oe=ve[1],xe=Object(n.useState)([]),fe=Object(L.a)(xe,2),_e=fe[0],ke=fe[1],ye=Object(n.useState)(null),we=Object(L.a)(ye,2),Ce=we[0],Se=we[1],Te=Object(n.useState)([]),Ee=Object(L.a)(Te,2),Be=Ee[0],De=Ee[1],Re=Object(n.useState)(""),Le=Object(L.a)(Re,2),Ie=Le[0],Fe=Le[1],Pe=Object(n.useState)(!1),Ue=Object(L.a)(Pe,2),Me=Ue[0],ze=Ue[1];Object(n.useEffect)((function(){"/books-freelance"===j.pathname&&r.push("/books/freelance")}),[v,null===d||void 0===d?void 0:d.isbn]);var Qe="";Qe=S.a;var Ge={headers:{"Content-Type":"application/json",Authorization:"Bearer "+v.access_token}};function Ve(){return(Ve=Object(p.a)(b.a.mark((function e(){var t,a,c,n,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h||!1!==(null===(t=h[0])||void 0===t?void 0:t.bartlyby_imported)){e.next=9;break}return e.next=3,C.a.get("https://www.crazyforstudy.com/api/chapters.php?isbn=".concat(null===d||void 0===d?void 0:d.isbn));case 3:return n=e.sent,s=null===n||void 0===n||null===(a=n.data)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.bookSections,i=[],null===s||void 0===s||s.map((function(e){i.push({book_isbn:null===d||void 0===d?void 0:d.isbn,section_id:null===e||void 0===e?void 0:e.bookSectionId,chapter_no:null===e||void 0===e?void 0:e.sequenceText,chapter_name:null===e||void 0===e?void 0:e.title,total_question:0,total_uploaded:0})})),e.next=9,Ke.mutate({bartley:i,book_isbn:null===d||void 0===d?void 0:d.isbn});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){return Ve.apply(this,arguments)}),[d,h]);var Ke=Object(ie.a)((function(e){return C.a.post("".concat(Qe,"chapter/bartley-chapters"),e,Ge)}),{onSuccess:function(){T.invalidateQueries(["chapters-bartelby-".concat(null===d||void 0===d?void 0:d.isbn,"-").concat(null===d||void 0===d?void 0:d.status)])}}),He=Object(ie.a)((function(e){return C.a.post("".concat(Qe,"chapter/bartelby-update-chapters"),e,Ge)}),{onSuccess:function(){var e;T.invalidateQueries(["chapters-bartelby-".concat(null===d||void 0===d?void 0:d.isbn,"-").concat(null===d||void 0===d?void 0:d.status)]),r.push("/books-freelance/".concat(d.isbn,"/").concat(null===d||void 0===d?void 0:d.status,"/").concat(null===O||void 0===O||null===(e=O.data[1])||void 0===e?void 0:e.section_id)),m("Question Imported",{appearance:"success",autoDismiss:!0})}});function Je(){return(Je=Object(p.a)(b.a.mark((function e(){var t,a,c,n,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===d||void 0===d?void 0:d.section_id)){e.next=13;break}return D(!0),e.next=4,C.a.get("https://nk6xemh85d.execute-api.us-east-1.amazonaws.com/prod/solution/".concat(null===d||void 0===d?void 0:d.isbn,"/section-questions/").concat(null===d||void 0===d?void 0:d.section_id));case 4:return n=e.sent,null===(s=null===n||void 0===n||null===(t=n.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.questions)||void 0===s||s.map(function(){var e=Object(p.a)(b.a.mark((function e(t,a){var c,n,s,i,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://nk6xemh85d.execute-api.us-east-1.amazonaws.com/prod/solution/".concat(null===t||void 0===t?void 0:t.solutionId,"/").concat(null===d||void 0===d?void 0:d.isbn));case 2:i=e.sent,r=null===i||void 0===i||null===(c=i.data)||void 0===c||null===(n=c.data)||void 0===n||null===(s=n.solutionJson)||void 0===s?void 0:s.solutionSections,w((function(e){return[].concat(Object(be.a)(e),[{uuid:Object(Ae.a)(),sequence:a,problem_no:null===t||void 0===t?void 0:t.questionTitle,question:null===t||void 0===t?void 0:t.questionText,answer:r,answer_uploaded:"0"==a}])}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),e.next=9,null===O||void 0===O||null===(c=O.data)||void 0===c?void 0:c.filter((function(e){return(null===e||void 0===e?void 0:e.section_id)===(null===d||void 0===d?void 0:d.section_id)}));case 9:i=e.sent,z(i&&i[0]),e.next=14;break;case 13:m("Please select chapters",{appearance:"error",autoDismiss:!0});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ye=Object(ie.a)((function(e){return C.a.post("".concat(Qe,"chapter/bartelby-upload-data"),e,Ge)}),{onSuccess:function(){T.invalidateQueries("chapters-bartelby"),m("Question Uploaded",{appearance:"success",autoDismiss:!0}),setTimeout((function(){w([]),D(!1),K(!1)}),2e3)}});function We(){return(We=Object(p.a)(b.a.mark((function e(){var t,a,c,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),c=h&&(null===(t=h[0])||void 0===t?void 0:t._id),n=h&&(null===(a=h[0])||void 0===a?void 0:a.BookName),k.map((function(e,t){e.sequence=null===e||void 0===e?void 0:e.sequence,e.source="bartelby",e.section_id=null===d||void 0===d?void 0:d.section_id,e.old_qid=null===e||void 0===e?void 0:e.uuid,e.book_id=c,e.book_name=n,e.book_isbn=null===d||void 0===d?void 0:d.isbn,e.chapter_no=null===M||void 0===M?void 0:M.chapter_no,e.chapter_name=null===M||void 0===M?void 0:M.chapter_name,e.answer=JSON.stringify(null===e||void 0===e?void 0:e.answer)})),e.next=6,Ye.mutate({chapters:k,book_isbn:null===d||void 0===d?void 0:d.isbn,section_id:null===d||void 0===d?void 0:d.section_id});case 6:return F.book_isbn=null===d||void 0===d?void 0:d.isbn,F.section_id=null===d||void 0===d?void 0:d.section_id,e.next=10,He.mutate(F);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xe=function(){var e=Object(l.i)(),t=e.isbn,a=null===e||void 0===e?void 0:e.section_id,c=Object(n.useContext)(u.a).state,s="";return s=S.a,Object(y.a)(["problems-".concat(a)],Object(p.a)(b.a.mark((function e(){var n,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,C.a.get("".concat(s,"chapter/bartelby-problems/").concat(t,"/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}});case 3:return i=e.sent,e.abrupt("return",null===(n=i.data)||void 0===n?void 0:n.data);case 5:case"end":return e.stop()}}),e)}))))}(),Ze=Xe.data,$e=Xe.isLoading,et=function(){var e=Object(l.i)(),t=(e.isbn,null===e||void 0===e?void 0:e.section_id),a=null===e||void 0===e?void 0:e.question_id,c=Object(n.useContext)(u.a).state,s="";return s=S.a,Object(y.a)(["question-answeres-".concat(t,"-").concat(a)],Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!a){e.next=5;break}return e.next=3,C.a.get("".concat(s,"chapter/bartelby-answers/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)}))))}(),tt=et.data,at=et.isLoading;function ct(){return(ct=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={section_id:null===d||void 0===d?void 0:d.section_id,book_isbn:null===d||void 0===d?void 0:d.isbn},e.next=3,nt.mutate(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nt=Object(ie.a)((function(e){return C.a.post("".concat(Qe,"chapter/bartelby-chapter-change-status"),e,Ge)}),{onSuccess:function(){T.invalidateQueries("chapters-bartelby"),w([]),D(!1),K(!1),r.push("/books-freelance/".concat(null===d||void 0===d?void 0:d.isbn,"/import-chapter/").concat(null===d||void 0===d?void 0:d.section_id))}}),st=Object(n.useState)(!1),it=Object(L.a)(st,2),rt=it[0],ot=it[1],lt=Object(n.useState)(!1),dt=Object(L.a)(lt,2),ut=dt[0],jt=dt[1];function bt(){return(bt=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jt(!0),t={book_isbn:null===d||void 0===d?void 0:d.isbn},e.next=4,mt.mutate(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mt=Object(ie.a)((function(e){return C.a.post("".concat(Qe,"chapter/bartelby-delete-all"),e,Ge)}),{onSuccess:function(){T.invalidateQueries("chapters-bartelby"),jt(!1),r.push("/books-freelance/".concat(null===d||void 0===d?void 0:d.isbn,"/import-chapter/").concat(null===d||void 0===d?void 0:d.section_id))}});function pt(){return(pt=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),t={section_id:null===d||void 0===d?void 0:d.section_id,book_isbn:null===d||void 0===d?void 0:d.isbn},e.next=4,vt.mutate(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vt=Object(ie.a)((function(e){return C.a.post("".concat(Qe,"chapter/bartelby-clear-chapter"),e,Ge)}),{onSuccess:function(){T.invalidateQueries("chapters-bartelby"),w([]),D(!1),K(!1),$(!1),r.push("/books-freelance/".concat(null===d||void 0===d?void 0:d.isbn,"/import-chapter/").concat(null===d||void 0===d?void 0:d.section_id))}});function ht(){return(ht=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ot=Object(ie.a)((function(e){return C.a.post("".concat(Qe,"chapter/bartelby-clear-all"),e,Ge)}),{onSuccess:function(){T.invalidateQueries("chapters-bartelby"),w([]),D(!1),K(!1),ce(!1),le(!1),r.push("/books-freelance/".concat(null===d||void 0===d?void 0:d.isbn,"/import-chapter"))}});function xt(){return(xt=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.keyCode),13===t.keyCode&&("wrong-password"===je?(le(!1),ce(!0),me("Enter Password"),setTimeout(Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={book_isbn:null===d||void 0===d?void 0:d.isbn},e.next=3,Ot.mutate(t);case 3:case"end":return e.stop()}}),e)}))),1e3)):(me("Enter Password"),m("Your have entered wrong password!",{appearance:"error",autoDismiss:!0}),ce(!1))),27!==t.keyCode&&35!==t.keyCode&&9!==t.keyCode||(le(!1),ce(!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.push("/books-freelance/".concat(null===d||void 0===d?void 0:d.isbn,"/update-expert-answer/").concat(null===d||void 0===d?void 0:d.section_id,"/").concat(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(){return(gt=Object(p.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===tt||void 0===tt||null===(t=tt.data)||void 0===t?void 0:t.filter((function(e){return(null===e||void 0===e?void 0:e._id)===(null===d||void 0===d?void 0:d.question_id)}));case 2:a=e.sent,Oe(a&&a[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(){return(_t=Object(p.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return De([]),e.next=3,null===O||void 0===O||null===(t=O.data)||void 0===t?void 0:t.filter((function(e){return(null===e||void 0===e?void 0:e.section_id)===(null===d||void 0===d?void 0:d.section_id)}));case 3:a=e.sent,ke(a&&a[0]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(){return(kt=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"update-expert-answer"==(null===d||void 0===d?void 0:d.status)&&void 0!==(null===d||void 0===d?void 0:d.question_id)&&De([]);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(){return(yt=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),""!==Ce&&document.querySelectorAll(".styles__SectionContainer-njq7rd-15").forEach((function(e,t){t>0&&(console.log(e),De((function(t){return[].concat(Object(be.a)(t),[{data:e}])})))})),Se("");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(){return(wt=Object(p.a)(b.a.mark((function e(t){var a,c,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),ze(!0),a=[],c={},e.next=6,null===Be||void 0===Be?void 0:Be.map((function(e,t){c={answer_sequence:t,answer:e.data.innerHTML},a.push(c)}));case 6:return n=JSON.stringify(a),s={expert_answer:n,question:Ie,question_id:null===d||void 0===d?void 0:d.question_id},e.next=10,Ct.mutate(s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){return gt.apply(this,arguments)}),[tt,d]),Object(n.useEffect)((function(){return _t.apply(this,arguments)}),[null===d||void 0===d?void 0:d.section_id,O]),Object(n.useEffect)((function(){return kt.apply(this,arguments)}),[null===d||void 0===d?void 0:d.question_id]);var Ct=Object(ie.a)((function(e){return C.a.post("".concat(Qe,"chapter/bartelby-update-chapter-answer"),e,Ge)}),{onSuccess:function(){var e;T.invalidateQueries(["problems-".concat(null===d||void 0===d?void 0:d.section_id)]),T.invalidateQueries(["question-answeres-".concat(null===d||void 0===d?void 0:d.section_id,"-").concat(null===d||void 0===d?void 0:d.question_id)]),w([]),D(!1),K(!1),$(!1),ze(!1),m("Expert Answer Updated",{appearance:"success",autoDismiss:!0}),r.push("/books-freelance/".concat(d.isbn,"/view-uploaded-chapter/").concat(null===d||void 0===d?void 0:d.section_id,"/").concat(null===(e=Ze[1])||void 0===e?void 0:e._id))}});return console.log(v.role),Object(E.jsx)(E.Fragment,{children:v.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsxs)("h2",{children:["Freelance Text Books Solution Manuals - ISBN: ",null===d||void 0===d?void 0:d.isbn]})}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"col-md-12 row",children:[Object(E.jsxs)("div",{className:"p-0",children:[Object(E.jsx)(o.b,{to:"".concat("1"==(null===v||void 0===v?void 0:v.role)?"/books":"/upload-question"),className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})}),!1===rt&&Object(E.jsx)("button",{className:"ml-2 btn-sm dark bg-danger",onClick:function(e){confirm("Do you have rights to delete all data related to this ISBN "+(null===d||void 0===d?void 0:d.isbn),"yes","No")&&("wrong-password"===prompt("please enter the delete Password")?ot(!0):alert("your have entered a wong-password...?"))},children:Object(E.jsx)("span",{className:"fa fa-times"})}),"1"==v.role&&rt&&Object(E.jsx)("button",{className:"ml-2 btn-sm dark bg-danger",onClick:function(){return bt.apply(this,arguments)},disabled:ut,children:ut?Object(E.jsx)("span",{className:"fa fa-spinner"}):Object(E.jsx)("span",{className:"fa fa-trash"})})]}),Object(E.jsx)("div",{className:"p-0 ml-2",children:Object(E.jsxs)("button",{className:"btn btn-sm dark",onClick:function(e){e.preventDefault(),r.push("/books-freelance/".concat(null===d||void 0===d?void 0:d.isbn,"/import-chapter")),Y(!1)},children:[Object(E.jsx)("span",{className:"fa fa-download mr-2"}),"Import Chapters"]})}),Object(E.jsx)("div",{className:"p-0 ml-2",children:Object(E.jsxs)("button",{className:"btn btn-sm dark",onClick:function(e){e.preventDefault(),r.push("/books-freelance/".concat(null===d||void 0===d?void 0:d.isbn,"/view-uploaded-chapter")),Y(!0)},children:[Object(E.jsx)("span",{className:"fa fa-eye text-warning mr-2"}),"View Uploaded Chapters"]})})]})}),"import-chapter"===(null===d||void 0===d?void 0:d.status)&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"col-md-12 row",children:[Object(E.jsx)("div",{className:"col-md-8 pl-0",children:Object(E.jsxs)("select",{className:"form-control",value:null===d||void 0===d?void 0:d.section_id,id:null===d||void 0===d?void 0:d.section_id,onChange:function(e){var t=e.target.value;D(!1),w([]),"_"===t?r.push("/books-freelance/".concat(null===d||void 0===d?void 0:d.isbn,"/").concat(null===d||void 0===d?void 0:d.status)):(N(t),r.push("/books-freelance/".concat(null===d||void 0===d?void 0:d.isbn,"/").concat(null===d||void 0===d?void 0:d.status,"/").concat(t)))},children:[Object(E.jsx)("option",{value:"_",children:"Select Chapters"}),null===O||void 0===O||null===(e=O.data)||void 0===e?void 0:e.map((function(e){return Object(E.jsxs)("option",{value:null===e||void 0===e?void 0:e.section_id,children:["Chapter ",null===e||void 0===e?void 0:e.chapter_no," -"," ",null===e||void 0===e?void 0:e.chapter_name]},null===e||void 0===e?void 0:e.section_id)}))]})}),Object(E.jsxs)("div",{className:"col-md-3",children:[Object(E.jsx)("button",{className:"btn btn-md dark",onClick:function(){return Je.apply(this,arguments)},disabled:B,title:"Import Question",children:B?Object(E.jsx)("div",{className:"spinner-border",style:{width:"16px",height:"16px"},role:"status",children:Object(E.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(E.jsx)("span",{className:"fa fa-download"})}),(null===k||void 0===k?void 0:k.length)>0&&Object(E.jsx)("button",{className:"btn btn-md dark ml-2",onClick:function(){return We.apply(this,arguments)},disabled:V,children:V?Object(E.jsx)("div",{className:"spinner-border",style:{width:"16px",height:"16px"},role:"status",children:Object(E.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(E.jsx)("span",{className:"fa fa-upload"})})]})]})}),Object(E.jsx)("div",{className:"dash-cont-start",style:{height:"90vh"},children:Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-2",children:[Object(E.jsx)(qe,{placeholder:"Total Question",counter:null===k||void 0===k?void 0:k.length}),Object(E.jsxs)("div",{className:"col-md-12 bb-1 p-2",style:{display:"flex",flexContent:"space-between",background:"#ededed"},children:[Object(E.jsx)("div",{style:{width:"10%"},children:" Problem No"}),Object(E.jsx)("div",{style:{width:"70%"},children:" Question"}),Object(E.jsx)("div",{style:{width:"20%"},children:" Available Answer"})]}),Object(E.jsx)("div",{className:"col-md-12 pl-0 bb-1 pr-0 mb-2",style:{height:"450px",overflow:"scroll"},children:null===(t=k.reverse())||void 0===t?void 0:t.map((function(e){var t;return Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0 mt-2 mb-2 pb-2 bb-1",style:{display:"flex",flexContent:"space-between"},children:[Object(E.jsxs)("div",{className:"pl-2 pt-2",style:{width:"10%"},children:[null===e||void 0===e?void 0:e.sequence,"-",null===e||void 0===e?void 0:e.problem_no]}),Object(E.jsx)("div",{className:"pl-2 pt-2",style:{width:"70%"},children:null===e||void 0===e?void 0:e.question}),Object(E.jsx)("div",{className:"pl-2 pt-2",style:{width:"20%"},children:(null===e||void 0===e||null===(t=e.answer)||void 0===t?void 0:t.length)>0?Object(E.jsxs)("span",{className:"badge-success p-1",children:[" ","Available"," "]}):Object(E.jsxs)("span",{className:"badge-danger p-1",children:[" ","Not Available"," "]})})]},null===e||void 0===e?void 0:e.uuid)}))})]})})]}),"view-uploaded-chapter"===(null===d||void 0===d?void 0:d.status)&&Object(E.jsx)("div",{className:"dash-cont-start",style:{height:"90vh"},children:Object(E.jsxs)("div",{className:"row col-md-12 pr-0",children:[Object(E.jsxs)("div",{className:"col-md-3 pl-0",children:[Object(E.jsxs)("div",{className:"heading-sec",children:[Object(E.jsx)("p",{className:"mb-1",style:{position:"relative"},children:Object(E.jsx)("b",{children:"Uploaded Chapters"})}),"1"==v.role&&Object(E.jsx)("div",{children:oe?Object(E.jsx)("input",{className:"form-control",value:je,onChange:function(e){return me(e.target.value)},onKeyDown:function(e){return xt.apply(this,arguments)}}):Object(E.jsx)("span",{className:"badge-danger pl-2 pr-2 br-10 pull-right",style:{position:"absolute",right:"10px",top:"0",cursor:"pointer"},onClick:function(){return ht.apply(this,arguments)},disabled:ae,children:ae?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner text-red"})," ","Clearing..."]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-trash text-white"})," ","Clear All"]})})})]}),Object(E.jsx)("hr",{className:"clearfix mb-2 mt-0"}),Object(E.jsxs)("select",{className:"form-control mb-2",value:null===d||void 0===d?void 0:d.section_id,onChange:function(e){"-"!==e.target.value&&r.push("/books-freelance/".concat(null===d||void 0===d?void 0:d.isbn,"/view-uploaded-chapter/").concat(e.target.value))},children:[Object(E.jsx)("option",{value:"-",children:"Select Chapters"}),null===O||void 0===O||null===(a=O.data)||void 0===a?void 0:a.map((function(e){return Object(E.jsxs)("option",{className:"card mb-2 pl-2 pr-2 pt-1 pb-2 br-10",id:null===e||void 0===e?void 0:e.section_id,value:null===e||void 0===e?void 0:e.section_id,children:[null===e||void 0===e?void 0:e.chapter_no," - ",null===e||void 0===e?void 0:e.chapter_name]},null===e||void 0===e?void 0:e.section_id)}))]}),Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[$e&&Object(E.jsxs)("p",{children:[" ",Object(E.jsx)("span",{className:"fa fa-spinner"})," Loading ..."]}),Object(E.jsx)("hr",{className:"mt-0 mb-2"}),Object(E.jsxs)("div",{className:"",style:{display:"flex",justifyContent:"space-between"},children:[Object(E.jsxs)("div",{className:"dark br-10 pl-2",children:["Chapters:",Object(E.jsx)("span",{className:"badge-success ml-3 br-10 pull-right pl-2 pr-2",children:null===_e||void 0===_e?void 0:_e.total_question})]}),Object(E.jsxs)("div",{className:"dark br-10 pl-2",children:["Uploads:",Object(E.jsx)("span",{className:"badge-success ml-3 br-10 pull-right pl-2 pr-2",children:null===_e||void 0===_e?void 0:_e.total_uploaded})]})]}),Object(E.jsx)("hr",{className:"mt-2 mb-1"}),Object(E.jsx)("p",{className:"mb-1",children:Object(E.jsx)("b",{children:"Problems: "})}),Object(E.jsx)("hr",{className:"mt-0 mb-2"}),Object(E.jsx)("div",{style:{height:"300px",overflow:"scroll"},className:"pr-2 mb-2",children:!$e&&(null===Ze||void 0===Ze?void 0:Ze.map((function(e){return Object(E.jsx)("div",{className:"card pl-3 pt-2 pb-2 mb-2 ".concat((null===e||void 0===e?void 0:e._id)==(null===d||void 0===d?void 0:d.question_id)?"problem-active":"problem-normal"),style:{cursor:"pointer"},id:null===e||void 0===e?void 0:e._id,onClick:function(t){r.push("/books-freelance/".concat(null===d||void 0===d?void 0:d.isbn,"/view-uploaded-chapter/").concat(null===d||void 0===d?void 0:d.section_id,"/").concat(null===e||void 0===e?void 0:e._id))},children:null===e||void 0===e?void 0:e.problem_no})})))})]})]}),Object(E.jsxs)("div",{className:"col-md-8 offset-1 pl-0 pr-0",children:[Object(E.jsxs)("h5",{style:{position:"relative"},children:["Question & Answers:"," "]}),Object(E.jsx)("span",{className:"badge-success pl-2 pr-2 br-5 pull-right",style:{position:"absolute",left:"220px",top:"0"},children:null===_e||void 0===_e?void 0:_e.chapter_name}),"1"==v.role&&void 0!==(null===d||void 0===d?void 0:d.section_id)&&Object(E.jsx)("span",{className:"badge-danger pl-2 pr-2 br-10 pull-right",style:{position:"absolute",right:"10px",top:"0",cursor:"pointer"},onClick:function(){return pt.apply(this,arguments)},disabled:Z,children:Z?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner text-red"})," ","Clearing..."]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-trash text-white"})," ","Clear Chapter"]})}),Object(E.jsx)("hr",{className:"clearfix mb-3 mt-1"}),Object(E.jsxs)("div",{style:{height:"520px",overflow:"scroll"},className:"pr-2 mb-2",children:[null===tt||void 0===tt||null===(c=tt.data)||void 0===c?void 0:c.map((function(e){var t,a,c="";c=void 0!==(null===e||void 0===e?void 0:e.answer)?JSON.parse(null===e||void 0===e?void 0:e.answer):[];var n="";return n=void 0!=(null===e||void 0===e?void 0:e.expert_answer)?JSON.parse(null===e||void 0===e?void 0:e.expert_answer):[],Object(E.jsxs)("div",{className:"card mb-3 pl-2 pr-2",children:[Object(E.jsxs)("h6",{className:"mt-1 mb-0",children:[Object(E.jsx)(qe,{placeholder:"Problem No",counter:null===e||void 0===e?void 0:e.problem_no}),(null===e||void 0===e?void 0:e.sequence)>0&&Object(E.jsx)("div",{className:"col-md-6 pull-right",onClick:ft.bind(i,null===e||void 0===e?void 0:e._id),children:Object(E.jsxs)("button",{className:"btn dark btn-sm br-5 pull-right",children:[Object(E.jsx)("span",{className:"fa fa-question-circle mr-2"}),"Update Expert Solution"]})})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsxs)("b",{className:"mb-2",children:["Question: ",null===e||void 0===e?void 0:e.question]}),(null===(t=c)||void 0===t?void 0:t.length)>0&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsx)("b",{children:"Answer: "}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsx)(ge,{answers:c,type:"ans"})]})}),(null===(a=n)||void 0===a?void 0:a.length)>0&&Object(E.jsx)("div",{className:"col-md-12 pl-0 pr-0",children:Object(E.jsx)(ge,{answers:n,type:"exp_ans"})})]},null===e||void 0===e?void 0:e._id)})),!at&&0===(null===tt||void 0===tt||null===(s=tt.data)||void 0===s?void 0:s.length)&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h4",{children:"No Data Available"}),Object(E.jsxs)("button",{className:"btn btn-sm dark",onClick:function(){return ct.apply(this,arguments)},children:[Object(E.jsx)("span",{className:"fa fa-download mr-2"}),"Import Questions"]})]}),at&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner mr-2"}),"Loading..."]})]})]})]})}),"update-expert-answer"===(null===d||void 0===d?void 0:d.status)&&Object(E.jsx)("div",{className:"dash-cont-start",style:{height:"90vh"},children:Object(E.jsxs)("div",{className:"row col-md-12 pr-0",children:[Object(E.jsx)("h5",{children:"Upload Expert Answer"}),Object(E.jsx)("div",{className:"col-md-12"}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),Object(E.jsx)("div",{className:"col-md-12"}),Object(E.jsxs)("div",{className:"col-md-5 pl-0 pr-0",children:[Object(E.jsxs)("p",{children:["Chapter No: ",null===he||void 0===he?void 0:he.chapter_no," -"," ",null===he||void 0===he?void 0:he.chapter_name]}),Object(E.jsxs)("p",{children:["Problem No: ",null===he||void 0===he?void 0:he.problem_no]}),Object(E.jsxs)("form",{children:[Object(E.jsx)("div",{className:"form-group",children:Object(E.jsx)("input",{type:"text",value:Ie,onChange:function(e){return Fe(e.target.value)},className:"form-control",placeholder:"Please Enter Question"})}),Object(E.jsx)("div",{className:"form-group",children:Object(E.jsx)("textarea",{value:Ce,id:"sourceCode",onChange:function(e){e.preventDefault(),Se(e.target.value)},className:"form-control",style:{height:"250px"},placeholder:"Enter Source Code"})}),Object(E.jsx)("div",{className:"form-group",children:Object(E.jsxs)("button",{className:"btn btn-md dark",onClick:function(e){return yt.apply(this,arguments)},children:[Object(E.jsx)("span",{className:"fa fa-save mr-2"}),"Extract Answer"]})})]})]}),Ce&&Object(E.jsx)("div",{className:"col-md-7",style:{display:"none"},children:Object(Ne.htmlConverterReact)(Ce)}),Object(E.jsxs)("div",{className:"col-md-7 pr-0",children:[Object(E.jsxs)("h4",{children:["Expert Solutions ",null===Be||void 0===Be?void 0:Be.length," ",null===Ce||void 0===Ce?void 0:Ce.length]}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),Object(E.jsx)("div",{className:"col-md-12 pl-0 pr-0",style:{height:"340px",overflow:"scroll",borderBottom:"1px solid #ededed"},children:null===Be||void 0===Be?void 0:Be.map((function(e,t){return Object(E.jsx)("div",{className:"card p-2 br-5 mb-2",children:Object(Ne.htmlConverterReact)(null===e||void 0===e?void 0:e.data)},Date.now()+t)}))}),Object(E.jsx)("div",{className:"col-md-12 mt-3 pr-0 pull-right",children:Object(E.jsx)("button",{className:"btn btn-md dark pull-right",onClick:function(e){return wt.apply(this,arguments)},disabled:Me,children:Me?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner mr-2"}),"Updating ...."]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-save mr-2"}),"Update Solutions"]})})})]})]})})]})})})})}},{path:"/books-similar-books/:isbn?/:book_id?",component:function(){var e=this,t=Object(l.g)(),a=Object(l.i)(),c=Object(I.useToasts)().addToast,s=Object(n.useContext)(u.a).state,i=Oe().data,r=function(e){Object(l.i)();var t=Object(n.useContext)(u.a).state,a="";return a=S.a,Object(y.a)(["allbooks",e],Object(p.a)(b.a.mark((function c(){var n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.a.get("".concat(a,"books/all-books/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return n=c.sent,c.abrupt("return",n.data.data);case 4:case"end":return c.stop()}}),c)}))))}(null===i||void 0===i?void 0:i.sub_subject_name).data,o=function(){var e=Object(l.i)(),t=null===e||void 0===e?void 0:e.book_id,a=Object(n.useContext)(u.a).state,c="";return c=S.a,Object(y.a)(["similarbooks",t],Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(c,"books/similar-books/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 2:return n=e.sent,e.abrupt("return",n.data.data.similarBooks);case 4:case"end":return e.stop()}}),e)}))))}().data,d=Ee(),j=(d.data,d.isLoading),m="";m=S.a;var v={headers:{"Content-Type":"application/json",Authorization:"Bearer "+s.access_token}},h=Object(n.useState)(),x=Object(L.a)(h,2),f=x[0],N=(x[1],Object(n.useState)(!1)),g=Object(L.a)(N,2),_=(g[0],g[1]),k=Object(se.b)(),w=Object(ie.a)((function(e){return C.a.post("".concat(m,"books/add-similar-books"),e,v)}),{onSuccess:function(){k.invalidateQueries("similarbooks"),_(!1),t.push("/book-similar-books/".concat(a.isbn,"/").concat(a.book_id)),q([]),F([]),Y([]),V(!1),c("Similar Book`s added successfully",{appearance:"success",autoDismiss:!0})}}),T=Object(n.useState)([]),A=Object(L.a)(T,2),q=(A[0],A[1]),B=Object(n.useState)([]),D=Object(L.a)(B,2),R=D[0],F=D[1],M=function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!1),e.next=3,r.filter((function(e){return e._id===t}));case 3:a=e.sent,F([a[0]]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=Object(n.useState)(!1),Q=Object(L.a)(z,2),G=Q[0],V=Q[1],K=Object(n.useState)([]),H=Object(L.a)(K,2),J=H[0],Y=H[1],W=function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.next=3,o.filter((function(e){return e._id===t}));case 3:a=e.sent,Y(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(p.a)(b.a.mark((function e(t,c,n){var s,i,r,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t,""!==(i=document.getElementById("display-title-".concat(s)).value)&&(document.getElementById("DisplayTitle-".concat(s)).innerHTML=i,document.getElementById("display-title-".concat(s)).value="",(r=[]).push({ISBN13:c,BookId:t,Edition:n,DisplayTitle:i,AltImage:i}),o={similarBooks:r,book_id:null===a||void 0===a?void 0:a.book_id,book_isbn:null===a||void 0===a?void 0:a.isbn},setTimeout(Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.mutate(o);case 2:document.getElementById(s).style.display="none";case 3:case"end":return e.stop()}}),e)}))),1e3));case 3:case"end":return e.stop()}}),e)})));return function(t,a,c){return e.apply(this,arguments)}}(),Z=function(){var e=Object(p.a)(b.a.mark((function e(t,c,n,s){var i,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==(i=document.getElementById("display-title-".concat(t)).value)&&(document.getElementById("DisplayTitle-".concat(t)).innerHTML=i,document.getElementById("Title-".concat(t)).innerHTML=i,document.getElementById("display-title-".concat(t)).value="",r={similarBooks:{DisplayTitle:i,AltImage:i},id:t,book_id:null===a||void 0===a?void 0:a.book_id,book_isbn:null===a||void 0===a?void 0:a.isbn},setTimeout(Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.mutate(r);case 2:case"end":return e.stop()}}),e)}))),1e3));case 2:case"end":return e.stop()}}),e)})));return function(t,a,c,n){return e.apply(this,arguments)}}();return(null===a||void 0===a?void 0:a.book_id)?"/book-similar-books/".concat(null===a||void 0===a?void 0:a.isbn,"/").concat(null===a||void 0===a?void 0:a.book_id):"/books/".concat(null===i||void 0===i?void 0:i.subject_name,"/").concat(null===i||void 0===i?void 0:i.sub_subject_name,"/").concat(null===i||void 0===i?void 0:i.sub_subject_id),Object(E.jsx)(E.Fragment,{children:s.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsxs)("h2",{children:["Similar Books - ISBN13: ",null===a||void 0===a?void 0:a.isbn]})}),f&&Object(E.jsx)(P.a,{children:f.message}),j&&Object(E.jsx)(U,{}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsx)("div",{className:"col-md-12 row",children:Object(E.jsx)(Te,{})})}),!j&&Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsx)("div",{className:"pl-0 pt-0 pr-0 pb-0",children:Object(E.jsx)("form",{children:Object(E.jsxs)("div",{className:"row col-md-12 pl-0 pr-0",children:[Object(E.jsxs)("div",{className:"col-md-4 pr-0",children:[Object(E.jsx)("p",{children:Object(E.jsx)("b",{children:" All Books"})}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),Object(E.jsx)("div",{className:"col-md-12 pl-0",style:{height:"450px",overflowY:"scroll"},children:null===r||void 0===r?void 0:r.map((function(t){return Object(E.jsx)("div",{className:"card mb-1",style:{cursor:"pointer"},id:null===t||void 0===t?void 0:t._id,onClick:M.bind(e,null===t||void 0===t?void 0:t._id),children:Object(E.jsxs)("div",{className:"row col-md-12",children:[Object(E.jsx)("div",{className:"col-md-3 p-1",children:Object(E.jsx)(ne,{isbn:null===t||void 0===t?void 0:t.ISBN13,width:"100%"})}),Object(E.jsxs)("div",{className:"col-md-9 pl-1",children:[Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(E.jsx)("b",{children:"Title:  "}),O(null===t||void 0===t?void 0:t.BookName,50)]}),Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(E.jsx)("b",{children:"ISBN13:  "}),null===t||void 0===t?void 0:t.ISBN13]}),Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(E.jsx)("b",{children:"Edition:  "}),null===t||void 0===t?void 0:t.Edition]})]})]})},null===t||void 0===t?void 0:t._id)}))})]}),!G&&R.length>0&&Object(E.jsxs)("div",{className:"col-md-4 pl-1 pr-0",children:[Object(E.jsx)("p",{children:"Selected Books: "}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsx)("div",{className:"col-md-12 pr-0 pl-0",style:{height:"450px",overflowY:"scroll"},children:null===R||void 0===R?void 0:R.map((function(t){return Object(E.jsxs)("div",{className:"card mb-1",style:{cursor:"pointer"},children:[Object(E.jsxs)("div",{className:"row col-md-12",children:[Object(E.jsx)("div",{className:"col-md-3 p-1",children:Object(E.jsx)(ne,{isbn:null===t||void 0===t?void 0:t.ISBN13,width:"100%"})}),Object(E.jsxs)("div",{className:"col-md-9 pl-1 pr-0",children:[Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(E.jsx)("b",{children:"Title:  "}),Object(E.jsx)("span",{id:"Title-".concat(null===t||void 0===t?void 0:t._id),children:null===t||void 0===t?void 0:t.BookName})]}),Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(E.jsx)("b",{children:"ISBN13:  "}),null===t||void 0===t?void 0:t.ISBN13]}),Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(E.jsx)("b",{children:"Edition:  "}),null===t||void 0===t?void 0:t.Edition]}),Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(E.jsx)("b",{children:"Display Title:  "}),Object(E.jsx)("span",{id:"DisplayTitle-".concat(null===t||void 0===t?void 0:t._id),children:null===t||void 0===t?void 0:t.DisplayTitle})]})]})]}),Object(E.jsx)("hr",{className:"mt-2 mb-2"}),Object(E.jsxs)("div",{className:"row col-md-12 pr-0",style:{display:"flex",flexDirection:"space-between"},children:[Object(E.jsx)("div",{className:"col-md-10 pl-0 pr-0",children:Object(E.jsx)("input",{type:"text",id:"display-title-".concat(null===t||void 0===t?void 0:t._id),autoComplete:"off",className:"form-control",placeholder:"enter display title"})}),Object(E.jsxs)("div",{className:"col-md-2 pr-0",style:{display:"flex",flexDirection:"space-between"},children:[Object(E.jsx)("button",{type:"button",onClick:X.bind(e,null===t||void 0===t?void 0:t._id,null===t||void 0===t?void 0:t.ISBN13,null===t||void 0===t?void 0:t.Edition),className:"fa fa-save dark btn btn-sm"}),Object(E.jsx)("button",{type:"button",onClick:function(e){q([]),F([]),V(!1)},className:"fa fa-times dark btn btn-sm ml-1"})]})]})]},null===t||void 0===t?void 0:t._id)}))})]}),G&&Object(E.jsxs)("div",{className:"col-md-4 pl-1 pr-0",children:[Object(E.jsx)("p",{children:"Update Books: "}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsx)("div",{className:"col-md-12 pr-0 pl-0",style:{height:"450px",overflowY:"scroll"},children:null===J||void 0===J?void 0:J.map((function(t){return Object(E.jsxs)("div",{className:"card mb-1",style:{cursor:"pointer"},children:[Object(E.jsxs)("div",{className:"row col-md-12",children:[Object(E.jsx)("div",{className:"col-md-3 p-1",children:Object(E.jsx)(ne,{isbn:null===t||void 0===t?void 0:t.ISBN13,width:"100%"})}),Object(E.jsxs)("div",{className:"col-md-9 pl-1 pr-0",children:[Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(E.jsx)("b",{children:"Title:  "}),Object(E.jsx)("span",{id:"Title-".concat(null===t||void 0===t?void 0:t._id),children:null===t||void 0===t?void 0:t.DisplayTitle})]}),Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(E.jsx)("b",{children:"ISBN13:  "}),null===t||void 0===t?void 0:t.ISBN13]}),Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(E.jsx)("b",{children:"Edition:  "}),null===t||void 0===t?void 0:t.Edition]}),Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(E.jsx)("b",{children:"Display Title:  "}),Object(E.jsx)("span",{id:"DisplayTitle-".concat(null===t||void 0===t?void 0:t._id),children:null===t||void 0===t?void 0:t.DisplayTitle})]})]})]}),Object(E.jsx)("hr",{className:"mt-2 mb-2"}),Object(E.jsxs)("div",{className:"row col-md-12 pr-0",style:{display:"flex",flexDirection:"space-between"},children:[Object(E.jsx)("div",{className:"col-md-10 pl-0 pr-0",children:Object(E.jsx)("input",{type:"text",id:"display-title-".concat(null===t||void 0===t?void 0:t._id),autoComplete:"off",className:"form-control",placeholder:"enter display title"})}),Object(E.jsxs)("div",{className:"col-md-2 pr-0",style:{display:"flex",flexDirection:"space-between"},children:[Object(E.jsx)("button",{type:"button",onClick:Z.bind(e,null===t||void 0===t?void 0:t._id,null===t||void 0===t?void 0:t.BookId,null===t||void 0===t?void 0:t.ISBN13,null===t||void 0===t?void 0:t.Edition),className:"fa fa-save dark btn btn-sm"}),Object(E.jsx)("button",{type:"button",onClick:function(e){q([]),F([]),Y([]),V(!1)},className:"fa fa-times dark btn btn-sm ml-1"})]})]})]},null===t||void 0===t?void 0:t._id)}))})]}),Object(E.jsxs)("div",{className:"col-md-4 pl-1 pr-0",children:[Object(E.jsx)("p",{children:Object(E.jsx)("b",{children:" Similar Books"})}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),Object(E.jsx)("div",{className:"col-md-12 pl-0 pr-0",style:{height:"450px",overflowY:"scroll",overflowX:"hidden"},children:null===o||void 0===o?void 0:o.map((function(t){return Object(E.jsx)("div",{className:"card mr-0 mb-1",style:{cursor:"pointer"},id:null===t||void 0===t?void 0:t._id,onClick:W.bind(e,null===t||void 0===t?void 0:t._id),children:Object(E.jsxs)("div",{className:"row col-md-12",children:[Object(E.jsx)("div",{className:"col-md-3 p-1",children:Object(E.jsx)(ne,{isbn:null===t||void 0===t?void 0:t.ISBN13,width:"100%"})}),Object(E.jsxs)("div",{className:"col-md-9 pl-1",children:[Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(E.jsx)("b",{children:"ISBN13:  "}),null===t||void 0===t?void 0:t.ISBN13]}),Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(E.jsx)("b",{children:"Edition:  "}),null===t||void 0===t?void 0:t.Edition]}),Object(E.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(E.jsx)("b",{children:"Display Title:  "}),null===t||void 0===t?void 0:t.DisplayTitle]})]})]})},null===t||void 0===t?void 0:t._id)}))})]})]})})})})]})})})})}},{path:"/books-check-quality/:isbn?/:book_id?/:chapter?/:chapter_no?/:status?/:remark?/:question_id?",component:function(){var e,t,a,c,s=Object(l.g)(),i=Object(l.i)(),r=Object(l.h)(),d=Object(I.useToasts)().addToast,j=Object(n.useContext)(u.a).state,m=Oe(),v=m.data,h=m.isLoading,O=function(){var e=Object(l.i)().isbn,t=Object(n.useContext)(u.a).state,a="";return a=S.a,Object(y.a)(["chapters",e],Object(p.a)(b.a.mark((function c(){var n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.a.get("".concat(a,"chapter/qc-data/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return n=c.sent,c.abrupt("return",n.data.data);case 4:case"end":return c.stop()}}),c)}))))}(),x=O.data,f=O.isLoading,N=function(){var e=Object(l.i)(),t=e.isbn,a=e.chapter_no,c=e.status,s=Object(n.useContext)(u.a).state,i="";return i=S.a,Object(y.a)(["question-".concat(a),t],Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(i,"chapter/qc-chapter-questions/").concat(t,"/").concat(a,"/").concat(c),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+s.access_token}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))))}(),g=N.data,_=N.isLoading;Object(n.useEffect)((function(){"/books-check-quality"===r.pathname&&s.push("/books/check-quality")}),[j,null===i||void 0===i?void 0:i.isbn]);var k="";k=S.a;var w={headers:{"Content-Type":"application/json",Authorization:"Bearer "+j.access_token}},T=Object(n.useState)({}),A=Object(L.a)(T,2),B=A[0],D=A[1],R=Object(n.useState)(),F=Object(L.a)(R,2),M=F[0],z=(F[1],Object(n.useState)(!1)),Q=Object(L.a)(z,2),G=Q[0],V=Q[1],K=Object(n.useState)({}),H=Object(L.a)(K,2),J=H[0],Y=H[1],W=Object(n.useRef)();function X(){return Z.apply(this,arguments)}function Z(){return(Z=Object(p.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=null===g||void 0===g||null===(t=g.data)||void 0===t?void 0:t.filter((function(e){return e._id===i.question_id})))&&(Y(a[0]),i.question_id?V(!0):V(!1));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=Object(se.b)(),ee=Object(n.useState)(!1),te=Object(L.a)(ee,2),ae=te[0],ce=te[1],ne=Object(n.useState)(!1),re=Object(L.a)(ne,2),oe=re[0],le=re[1],de=Object(ie.a)((function(e){return C.a.post("".concat(k,"chapter/qc-answers"),e,w)}),{onSuccess:function(){$.invalidateQueries(["chapters",i.isbn]),ce(!1),le(!1),V(!1),s.push("/book-check-quality/".concat(i.isbn,"/").concat(i.book_id)),document.getElementById("reviewDiv").scrollTop=0,d("Review added successfully",{appearance:"success",autoDismiss:!0})}}),ue=function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===B.temp_answer?W.current.props.data:B.temp_answer,B.temp_answer=a,B.answer=a,B.question_id=i.question_id,B.remark=i.remark,"submit_answer"===(null===i||void 0===i?void 0:i.remark)?B.flag="submitAnswer":B.flag="approved",B.approved=!0,B.answered=!1,pe(!1),ce(!0),e.next=12,de.mutate(B);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){return X(),function(){X()}}),[g,G,i.question_id]);var je=Object(n.useState)(!1),be=Object(L.a)(je,2),me=be[0],pe=be[1],ve=Object(n.useState)(""),he=Object(L.a)(ve,2),xe=he[0],fe=he[1],Ne=Object(n.useState)(""),ge=Object(L.a)(Ne,2),_e=ge[0],ke=ge[1];console.log(_e,xe);var ye=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"rejected"===xe?(B.flag=xe,B.option=_e):"reworked"===xe&&(B.flag=xe,B.option=_e,B.reworked=!0),B.question_id=i.question_id,console.log(B),le(!0),e.next=6,de.mutate(B);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=i&&i.review_id?"/book-rating-review/".concat(i.isbn,"/").concat(i.book_id):"/books/".concat(null===v||void 0===v?void 0:v.subject_name,"/").concat(null===v||void 0===v?void 0:v.sub_subject_name,"/").concat(null===v||void 0===v?void 0:v.sub_subject_id);return Object(E.jsx)(E.Fragment,{children:j.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Books Quality Check"})}),M&&Object(E.jsx)(P.a,{children:M.message}),h&&Object(E.jsx)(U,{}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"col-md-12 row",children:[Object(E.jsx)("div",{className:"p-0 ",children:Object(E.jsx)(o.b,{to:we,className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(E.jsx)("div",{className:"col-md-11 pl-0 ml-2",children:Object(E.jsxs)("p",{style:{fontSize:"1.2em",marginBottom:"0px"},children:[null===v||void 0===v?void 0:v.ISBN13," - ",null===v||void 0===v?void 0:v.BookName]})})]})}),!h&&Object(E.jsx)("div",{className:"dash-cont-start",style:{height:"100vh"},children:Object(E.jsx)("div",{className:"subject-main-container pl-0 pt-0 pr-0 pb-0",children:Object(E.jsxs)("div",{className:"row col-md-12 pl-0",children:[Object(E.jsx)("div",{className:"col-md-5 pr-0",children:Object(E.jsx)(Be,{data:v,qc_data:x})}),Object(E.jsxs)("div",{className:"col-md-7 pl-0",children:[void 0===(null===i||void 0===i?void 0:i.chapter_no)&&Object(E.jsxs)("div",{className:"subject-card",style:{height:"74vh",width:"100%",overflowY:"hidden",paddingRight:"10px",paddingBottom:"0px"},children:[Object(E.jsx)("div",{style:{display:"flex",flexContent:"space-between"},children:Object(E.jsx)("b",{children:"All Chapters:"})}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsxs)("div",{style:{height:"65vh",overflowY:"scroll",paddingRight:"10px",paddingBottom:"0px"},children:[f&&Object(E.jsx)("span",{className:"fa fa-spinner"}),!f&&(null===x||void 0===x||null===(e=x.details)||void 0===e?void 0:e.map((function(e){return Object(E.jsx)(De,{data:e},e._id.chapter_no)})))]})]}),(null===i||void 0===i?void 0:i.chapter_no)&&!G&&Object(E.jsxs)("div",{className:"subject-card",style:{height:"74vh",overflow:"hidden",width:"100%"},children:[Object(E.jsxs)("div",{style:{display:"flex",flexContent:"space-between"},children:[Object(E.jsx)("button",{className:"btn btn-sm text-success pt-0 pb-0 pl-0",onClick:function(e){return s.push("/book-check-quality/".concat(i.isbn,"/").concat(i.book_id))},children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})}),Object(E.jsxs)("b",{children:["Chapter No: ",null===i||void 0===i?void 0:i.chapter_no,".\xa0 ",null===g||void 0===g||null===(t=g.data[0])||void 0===t?void 0:t.chapter_name," "]})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsxs)("div",{style:{height:"60vh",overflowY:"scroll",paddingRight:"10px",paddingBottom:"0px"},children:[_&&Object(E.jsx)("span",{className:"fa fa-spinner"}),!_&&(null===g||void 0===g||null===(a=g.data)||void 0===a?void 0:a.map((function(e){return Object(E.jsxs)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(E.jsxs)("div",{className:"name-label pt-1",children:[Object(E.jsxs)("strong",{children:["Q.No: ",e.problem_no,". \xa0",Object(E.jsx)("span",{className:"badge badge-success pull-right",style:{textTransform:"capitalize"},children:null===e||void 0===e?void 0:e.flag})]}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),Object(E.jsx)("p",{className:"mb-1",children:null===e||void 0===e?void 0:e.question})]}),Object(E.jsx)("hr",{className:"mt-0 mb-2"}),Object(E.jsxs)("div",{className:"name-main",children:[("answered"===e.flag||"approved"===e.flag)&&Object(E.jsxs)("button",{className:"btn btn-sm counter btn-danger",style:{borderRadius:"50%"},onClick:function(t){V(!0),s.push("/book-check-quality/".concat(i.isbn,"/").concat(i.book_id,"/chapter/").concat(i.chapter_no,"/").concat(i.status,"/").concat("answered"==i.status?"check_answer":"submit_answer","/").concat(e._id))},children:[Object(E.jsx)("span",{className:"fa fa-question-circle-o"}),"\xa0",Object(E.jsx)("b",{children:"QC the Answer"})]}),("reworked"===e.flag||"rejected"===e.flag||"notassigned"===e.flag)&&Object(E.jsxs)("button",{className:"btn btn-sm counter btn-success",style:{borderRadius:"50%"},onClick:function(t){V(!0),s.push("/book-check-quality/".concat(i.isbn,"/").concat(i.book_id,"/chapter/").concat(i.chapter_no,"/").concat(i.status,"/").concat("answered"==i.status?"check_answer":"submit_answer","/").concat(e._id))},children:[Object(E.jsx)("span",{className:"fa fa-question-circle-o"}),"\xa0",Object(E.jsx)("b",{children:"Answer The Question"})]})]})]},e._id)})))]})]}),G&&Object(E.jsxs)("div",{className:"subject-card",style:{height:"auto !important",overflowY:"scroll",overflowX:"hidden",width:"100%"},children:[Object(E.jsxs)("div",{style:{display:"flex",flexContent:"space-between"},children:[Object(E.jsx)("button",{className:"btn btn-sm text-success pt-0 pb-0 pl-0",onClick:function(e){V(!1),s.push("/book-check-quality/".concat(i.isbn,"/").concat(i.book_id,"/").concat(i.chapter,"/").concat(i.chapter_no,"/").concat(i.status))},children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})}),Object(E.jsxs)("b",{children:["Chapter No: ",null===i||void 0===i?void 0:i.chapter_no,".\xa0 ",null===g||void 0===g||null===(c=g.data[0])||void 0===c?void 0:c.chapter_name," "]})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsx)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:Object(E.jsxs)("div",{className:"name-label pt-1",children:[Object(E.jsxs)("strong",{children:["Q.No: ",null===J||void 0===J?void 0:J.problem_no,". \xa0",Object(E.jsx)("span",{className:"badge badge-success pull-right",style:{textTransform:"capitalize"},children:null===J||void 0===J?void 0:J.flag})]}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),null===J||void 0===J?void 0:J.question]})}),Object(E.jsx)("div",{className:"mt-1 p-2",style:{border:"1px solid #ddd"},children:Object(E.jsxs)("div",{className:"name-label pt-1",children:[Object(E.jsx)("strong",{children:"Answer: \xa0 "}),Object(E.jsx)(Ce.CKEditor,{editor:Se.a,config:{toolbar:{items:["MathType","ChemType","heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","mediaEmbed","insertTable","blockQuote","undo","redo"]}},ref:W,data:null===J||void 0===J?void 0:J.temp_answer,defaultValue:null===J||void 0===J?void 0:J.temp_answer,onChange:function(e,t){var a=t.getData();D(Object(q.a)(Object(q.a)({},B),{},{temp_answer:a}))}})]})}),"check_answer"===(null===i||void 0===i?void 0:i.remark)&&Object(E.jsx)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:Object(E.jsxs)("div",{className:"name-label pt-1",children:[Object(E.jsx)("button",{className:"btn btn-sm counter btn-success",onClick:ue,children:ae?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner"}),"\xa0 processing...."]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-check-circle-o"}),"\xa0 Approve Answer"]})}),Object(E.jsxs)("button",{className:"btn btn-sm counter btn-danger ml-2 ".concat("reworked"==xe?"active":""),onClick:function(e){ke(""),fe("reworked"),pe(!0)},children:[Object(E.jsx)("span",{className:"fa fa-check-circle-o"}),"\xa0 Send Back To Tutor"]}),Object(E.jsxs)("button",{className:"btn btn-sm counter btn-primary ml-2 ".concat("rejected"==xe?"active":""),onClick:function(e){ke(""),fe("rejected"),pe(!0)},children:[Object(E.jsx)("span",{className:"fa fa-backward"}),"\xa0 Send Back To Pool"]}),Object(E.jsxs)("button",{className:"btn btn-sm btn-danger counter ml-2",onClick:function(e){V(!1),s.push("/book-check-quality/".concat(i.isbn,"/").concat(i.book_id,"/").concat(i.chapter,"/").concat(i.chapter_no,"/").concat(i.status))},children:[Object(E.jsx)("span",{className:"fa fa-times"}),"\xa0 Cancel"]})]})}),"submit_answer"===(null===i||void 0===i?void 0:i.remark)&&Object(E.jsx)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:Object(E.jsxs)("div",{className:"name-label pt-1",children:[("answered"===i.status||"notassigned"===i.status||"rejected"===i.status||"approved"===i.status||"reworked"===i.status)&&Object(E.jsx)("button",{className:"btn btn-sm counter btn-success",onClick:ue,children:ae?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner"}),"\xa0 processing...."]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-check-circle-o"}),"\xa0 Submit Answer"]})}),Object(E.jsxs)("button",{className:"btn btn-sm btn-danger counter ml-2",onClick:function(e){V(!1),s.push("/book-check-quality/".concat(i.isbn,"/").concat(i.book_id,"/").concat(i.chapter,"/").concat(i.chapter_no,"/").concat(i.status))},children:[Object(E.jsx)("span",{className:"fa fa-times"}),"\xa0 Cancel"]})]})}),me&&"check_answer"===(null===i||void 0===i?void 0:i.remark)&&Object(E.jsxs)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(E.jsxs)("h5",{children:["Options reason for: ",i.status," ",Object(E.jsx)("span",{className:"fa fa-enter"})," "]}),Object(E.jsx)("hr",{className:"mt-1 mb-3"}),Object(E.jsxs)("div",{className:"name-label row pl-3",children:[Object(E.jsx)("button",{className:"counter btn-success pl-3 pr-3 mr-2 ".concat("incomplete"==_e?"active":""),onClick:function(e){ke("incomplete"),D({})},children:"\xa0 Incomplete"}),Object(E.jsx)("button",{className:"counter btn-success pl-3 pr-3 mr-2 ".concat("moredetails"==_e?"active":""),onClick:function(e){ke("moredetails"),D({})},children:"\xa0 Answer Required more details"}),Object(E.jsx)("button",{className:"counter btn-success pl-3 pr-3 mr-2 ".concat("other"==_e?"active":""),onClick:function(e){ke("other"),D({})},children:"\xa0 Other Reason"}),"other"==_e&&Object(E.jsx)("div",{children:Object(E.jsx)("input",{type:"text",name:"other_data",className:"counter text-danger",style:{outline:"none"},onChange:function(e){return D(Object(q.a)(Object(q.a)({},B),{},{other_data:e.target.value}))}})})]}),Object(E.jsx)("hr",{className:"mt-3 mb-3"}),Object(E.jsx)("button",{className:"btn-success counter pl-3 pr-3",onClick:ye,children:oe?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner mr-2"})," Processing..."]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-save mr-2"})," Submit Answer"]})}),Object(E.jsxs)("button",{className:"btn-danger counter pl-3 pr-3 ml-2",onClick:function(e){fe(""),pe(!1)},children:[Object(E.jsx)("span",{className:"fa fa-times"})," Cancel"]})]})]})]})]})})})]})})})})}},{path:"/all-students",component:function(){var e,t,a,c=Object(n.useContext)(u.a).state,s=function(){Object(l.i)();var e=Object(n.useContext)(u.a).state,t=Object(n.useContext)(ae.a).state,a="";a=S.a;var c=null===t.CurrentPage?1:t.CurrentPage;return Object(y.a)(["students",c],Object(p.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.get("".concat(a,"student/all/").concat(c,"/").concat(30),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return n=t.sent,t.abrupt("return",{data:n.data.data,pagination:{currentPage:n.data.currentPage,hasNextPage:n.data.hasNextPage,hasPrevPage:n.data.hasPrevPage,next:n.data.next,pageCount:n.data.pageCount,itemCount:n.data.itemCount,prev:n.data.prev}});case 4:case"end":return t.stop()}}),t)}))))}(),i=s.data,r=s.isLoading,o=s.error;return Object(E.jsx)(E.Fragment,{children:c.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{style:{textTransform:"capitalize"},children:"All Students "})}),o&&Object(E.jsx)(P.a,{children:o.message}),r&&Object(E.jsx)(U,{}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsx)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:Object(E.jsx)(me,{pagination:null===i||void 0===i?void 0:i.pagination})})}),!r&&Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"subject-main-container",children:[null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.map((function(e){return Object(E.jsx)(Pe,{student:e},e._id)})),0===(null===i||void 0===i||null===(t=i.data)||void 0===t||null===(a=t.pagination)||void 0===a?void 0:a.itemCount)&&Object(E.jsx)("div",{className:"col-md-6 offset-3 p-5",children:Object(E.jsxs)("h2",{style:{fontSize:"1.2em"},children:["No Students Registered yet ",Object(E.jsx)("br",{})]})})]})})]})})})})}},{path:"/manage-faq",component:function(){var e,t=Object(n.useContext)(u.a).state,a=Ve(),c=a.data,s=a.isLoading,i=a.error;return console.log("data back",c),Object(E.jsx)(E.Fragment,{children:t.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{style:{textTransform:"capitalize"},children:"All Faq Category "})}),i&&Object(E.jsx)(P.a,{children:i.message}),s&&Object(E.jsx)(U,{}),Object(E.jsx)(Je,{data:c}),!s&&Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"subject-main-container",children:[c&&c.data.map((function(e){return Object(E.jsx)(He,{faq:e},e._id)})),0===(null===c||void 0===c||null===(e=c.pagination)||void 0===e?void 0:e.itemCount)&&Object(E.jsx)("div",{className:"col-md-6 pt-1",children:Object(E.jsx)("h2",{style:{fontSize:"1.2em",color:"#f00"},children:"No Faq Category Registered yet"})})]})})]})})})})}},{path:"/manage-faq-category",component:function(){var e=Object(n.useContext)(u.a).state,t=Ve(),a=t.data,c=t.isLoading,s=t.error;return Object(E.jsx)(E.Fragment,{children:e.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{style:{textTransform:"capitalize"},children:" Create Faq Category "})}),s&&Object(E.jsx)(P.a,{children:s.message}),c&&Object(E.jsx)(U,{}),Object(E.jsx)(Je,{data:a}),!c&&Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsx)("div",{className:"subject-main-container",children:Object(E.jsx)("div",{className:"col-md-4",children:Object(E.jsx)(Ye,{})})})})]})})})})}},{path:"/add-faq-question/:faq_category?/:faq_id/:question_id?",component:function(){var e=Object(n.useContext)(u.a).state,t=function(){var e=Object(l.i)(),t=Object(n.useContext)(u.a).state,a=Object(n.useContext)(ae.a).state,c="";c=S.a;var s=null===a.CurrentPage?1:a.CurrentPage;return Object(y.a)(["singlefaq",s],Object(p.a)(b.a.mark((function a(){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.get("".concat(c,"faq/single/").concat(e.faq_id),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return n=a.sent,a.abrupt("return",{data:n.data.data});case 4:case"end":return a.stop()}}),a)}))))}(),a=t.data,c=t.isLoading,s=t.error;return Object(E.jsx)(E.Fragment,{children:e.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{style:{textTransform:"capitalize"},children:" Create Faq Category "})}),s&&Object(E.jsx)(P.a,{children:s.message}),c&&Object(E.jsx)(U,{}),Object(E.jsx)(Je,{data:a}),!c&&Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"subject-main-container",children:[Object(E.jsx)("div",{className:"col-md-4",children:Object(E.jsx)(We,{data:a.data.faq_content})}),Object(E.jsx)("div",{className:"col-md-8",children:Object(E.jsx)(Ze,{faqLists:a.data.faq_content})})]})})]})})})})}},{path:"/all-tutors/:status?/:master_subject?/:type?",component:function(){var e,t,a,c,s=Object(I.useToasts)().addToast,i=Object(l.g)(),r=Object(l.i)(),o=Object(n.useRef)(),d=Object(n.useRef)(),j=Object(n.useRef)(),m=Object(n.useContext)(u.a).state,v=function(){var e=Object(l.i)(),t=Object(n.useContext)(u.a).state,a=Object(n.useContext)(ae.a).state,c="";c=S.a;var s=null===a.CurrentPage?1:a.CurrentPage,i="";return i=e.status&&e.master_subject?"".concat(c,"tutor/all/").concat(null===e||void 0===e?void 0:e.status,"/").concat(null===e||void 0===e?void 0:e.master_subject,"/").concat(null===e||void 0===e?void 0:e.type,"/").concat(s,"/").concat(12):"".concat(c,"tutor/all/all/all/all/").concat(s,"/").concat(12),Object(y.a)(["tutors/".concat(null===e||void 0===e?void 0:e.status,"/").concat(null===e||void 0===e?void 0:e.master_subject,"/").concat(null===e||void 0===e?void 0:e.type),s],Object(p.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(i),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return a=e.sent,e.abrupt("return",{data:a.data.data,newTutor:{count:a.data.newTutorCount,tutor:a.data.newTutor},pagination:{currentPage:a.data.currentPage,hasNextPage:a.data.hasNextPage,hasPrevPage:a.data.hasPrevPage,next:a.data.next,pageCount:a.data.pageCount,itemCount:a.data.itemCount,prev:a.data.prev}});case 4:case"end":return e.stop()}}),e)}))))}(),h=v.data,O=v.isLoading,x=v.error,f=ee().data,N=Object(n.useState)(!1),g=Object(L.a)(N,2),_=g[0],k=g[1],w=Object(n.useState)(!0),T=Object(L.a)(w,2),A=T[0],q=T[1],B=Object(n.useState)(!1),D=Object(L.a)(B,2),R=D[0],F=D[1],M=Object(n.useState)(null),z=Object(L.a)(M,2),Q=z[0],G=z[1],V=new FormData,K=function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,"csv"===a.split(".")[1]?(q(!1),G(t.target.files[0]),V.append("file",t.target.files[0])):(q(!0),s("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H="";H=S.a;var J={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+m.access_token}},Y=function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=null,V.append("file",Q),F(!0),q(!0),e.next=7,C.a.post("".concat(H,"tutor/upload"),V,J);case 7:a=e.sent,q(!1),F(!1),k(!1),s(a.message,{appearance:"success",autoDismiss:!0}),i.push("/all-tutors");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=Object(n.useState)([]),X=Object(L.a)(W,2),Z=X[0],$=X[1],te=Object(n.useState)(!1),ce=Object(L.a)(te,2),ne=ce[0],se=ce[1],ie=null===h||void 0===h?void 0:h.data,re=null===h||void 0===h||null===(e=h.newTutor)||void 0===e?void 0:e.tutor;function oe(){return(oe=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===(null===h||void 0===h||null===(t=h.newTutor)||void 0===t?void 0:t.count)&&se(!1),$(!1===ne?ie:re);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return oe.apply(this,arguments)}),[h,ne]),Object(E.jsx)(E.Fragment,{children:m.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{style:{textTransform:"capitalize"},children:"All Tutors "})}),x&&Object(E.jsx)(P.a,{children:x.message}),O&&Object(E.jsx)(U,{}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:[Object(E.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){return k(!_)},children:[Object(E.jsx)("span",{className:"fa fa-upload"}),"\xa0 Upload Tutor"]}),(null===h||void 0===h||null===(t=h.newTutor)||void 0===t?void 0:t.count)>0&&Object(E.jsxs)("button",{className:"btn btn-sm dark mr-2",style:{position:"relative"},onClick:function(e){return se(!ne)},children:[Object(E.jsx)("span",{className:"fa fa-user"}),"\xa0 New Tutor",Object(E.jsx)("span",{className:"badge badge-danger ml-2 text-white",children:null===h||void 0===h||null===(a=h.newTutor)||void 0===a?void 0:a.count})]}),Object(E.jsxs)("select",{className:"col-md-2 mr-2",ref:j,onChange:function(e){i.push("/all-tutors/".concat(o.current.value,"/").concat(d.current.value,"/").concat(e.target.value))},children:[Object(E.jsx)("option",{value:"all",selected:"all"===(null===r||void 0===r?void 0:r.type)?"selected":"",children:"All - Portal"}),Object(E.jsx)("option",{value:"freelance",selected:"freelance"===(null===r||void 0===r?void 0:r.type)?"selected":"",children:"Freelance"}),Object(E.jsx)("option",{value:"cfs",selected:"cfs"===(null===r||void 0===r?void 0:r.type)?"selected":"",children:"CFS"})]}),Object(E.jsxs)("select",{ref:d,className:"mr-2",name:"category",onChange:function(e){i.push("/all-tutors/".concat(o.current.value,"/").concat(e.target.value,"/").concat(j.current.value))},children:[Object(E.jsx)("option",{value:"all",children:"All - Subject"}),null===f||void 0===f?void 0:f.map((function(e){return Object(E.jsx)("option",{value:"".concat(e.sub_subject),selected:r.master_subject==e.sub_subject?"selected":"",children:e.sub_subject},e._id)}))]}),Object(E.jsxs)("select",{className:"col-md-2 mr-1",ref:o,onChange:function(e){return i.push("/all-tutors/".concat(e.target.value,"/").concat(d.current.value,"/").concat(j.current.value))},children:[Object(E.jsx)("option",{value:"all",children:"All - Status"}),Object(E.jsx)("option",{value:"1",selected:"1"===r.status?"selected":"",children:"Active"}),Object(E.jsx)("option",{value:"0",selected:"0"===r.status?"selected":"",children:"Blocked"})]}),Object(E.jsx)(me,{pagination:null===h||void 0===h?void 0:h.pagination})]})}),!O&&Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"subject-main-container",children:[_&&Object(E.jsx)("div",{className:"col-md-3 p-2 card",children:Object(E.jsxs)("form",{encType:"multipart/form-data",children:[Object(E.jsxs)("div",{className:"form-data",children:[Object(E.jsx)("label",{children:"Upload Tutor"}),Object(E.jsx)("input",{type:"file",className:"form-control",onChange:K,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(E.jsxs)("div",{className:"form-data mt-2",children:[Object(E.jsx)("button",{className:"btn btn-sm dark btn-full",onClick:Y,disabled:R&&A,children:R?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner"})," uploading.... "]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-upload"})," upload data"]})}),Object(E.jsx)("button",{className:"btn btn-sm my-btn btn-danger ml-1",onClick:function(e){F(!1),k(!1)},children:Object(E.jsx)("span",{className:"fa fa-times"})})]})]})}),Object(E.jsxs)("div",{className:_?"row col-md-9":"row col-md-12",children:[null===Z||void 0===Z?void 0:Z.map((function(e){return Object(E.jsx)(Me,{tutor:e},e._id)})),0===(null===h||void 0===h||null===(c=h.pagination)||void 0===c?void 0:c.itemCount)&&Object(E.jsx)("div",{className:"col-md-6 text-center offset-3",children:Object(E.jsxs)("h1",{style:{fontSize:"2.5em",color:"#000",marginTop:"30vh",padding:"25px",background:"yellow"},children:["No Tutor Registered ",Object(E.jsx)("br",{}),"With ",null===r||void 0===r?void 0:r.master_subject," In ",null===r||void 0===r?void 0:r.type," ",Object(E.jsx)("br",{})]})})]})]})})]})})})})}},{path:"/tutor-details/:tutor_id?",component:function(){var e,t,a,c,s,i,r,o,d,j,m,v,h,O,x,f,N,g,_=Object(l.g)(),k=Object(n.useContext)(u.a).state,w=function(){var e=Object(l.i)(),t=Object(n.useContext)(u.a).state,a=(Object(n.useContext)(ae.a).state,"");a=S.a;var c="";return e.tutor_id&&(c="".concat(a,"tutor/details/").concat(null===e||void 0===e?void 0:e.tutor_id)),Object(y.a)(["tutor/".concat(null===e||void 0===e?void 0:e.tutor_id)],Object(p.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(c),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))))}(),T=w.data,A=w.isLoading,q=null===T||void 0===T||null===(e=T.data)||void 0===e?void 0:e.bank_details,B=null===T||void 0===T||null===(t=T.data)||void 0===t?void 0:t.education,D=null===T||void 0===T?void 0:T.statics,R=Object(n.useState)([]),I=Object(L.a)(R,2),F=I[0],P=I[1],U=Object(n.useState)("pending"),M=Object(L.a)(U,2),z=M[0],Q=M[1];function G(){return(G=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(null===D||void 0===D?void 0:D.total_pending_qc);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return G.apply(this,arguments)}),[T]),Object(E.jsx)(E.Fragment,{children:k.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Tutor Details"})}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsx)("div",{className:"col-md-12 row",children:Object(E.jsx)("button",{className:"btn btn-sm dark",onClick:function(e){return _.push("/all-tutors/all/all/all")},children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})})})}),A&&Object(E.jsx)("span",{className:"fa fa-spinner"}),!A&&Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsx)("div",{className:"subject-main-container pl-0 pt-0 pr-0 pb-0",children:Object(E.jsxs)("div",{className:"row col-md-12 pr-0",children:[Object(E.jsx)("div",{className:"col-md-5",children:Object(E.jsxs)("div",{className:"module-card",style:{width:"100%"},children:[Object(E.jsx)("h4",{children:"Personal Details"}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),Object(E.jsxs)("div",{className:"admin-name mb-1",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-user fa-1x mr-2 pt-1"}),"\xa0 Name:"]}),Object(E.jsxs)("div",{className:"name-main",children:[null===T||void 0===T||null===(a=T.data)||void 0===a?void 0:a.fname,"\xa0 ",null===T||void 0===T||null===(c=T.data)||void 0===c?void 0:c.lname]})]}),Object(E.jsxs)("div",{className:"admin-name mb-1",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-envelope fa-1x mr-2 pt-1"}),"\xa0 Email:"]}),Object(E.jsx)("div",{className:"name-main",children:null===T||void 0===T||null===(s=T.data)||void 0===s?void 0:s.email})]}),Object(E.jsxs)("div",{className:"admin-name mb-1",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Address:"]}),Object(E.jsxs)("div",{className:"name-main",children:[null===T||void 0===T||null===(i=T.data)||void 0===i?void 0:i.house_name,",\xa0",null===T||void 0===T||null===(r=T.data)||void 0===r?void 0:r.street_name,",\xa0",null===T||void 0===T||null===(o=T.data)||void 0===o?void 0:o.city,",\xa0",null===T||void 0===T||null===(d=T.data)||void 0===d?void 0:d.zipcode,",\xa0",null===T||void 0===T||null===(j=T.data)||void 0===j?void 0:j.country,",\xa0 ",null===T||void 0===T||null===(m=T.data)||void 0===m?void 0:m.country_full]})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsx)("h4",{className:"mt-1 mb-1",children:"Education Details"}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),null===B||void 0===B?void 0:B.map((function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"admin-name mb-1",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-book fa-1x mr-2 pt-1"}),"\xa0 Class:"]}),Object(E.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.class})]}),Object(E.jsxs)("div",{className:"admin-name mb-1",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-book fa-1x mr-2 pt-1"}),"\xa0 Subject:"]}),Object(E.jsxs)("div",{className:"name-main",children:["(",null===e||void 0===e?void 0:e.subject,")"]})]}),Object(E.jsxs)("div",{className:"admin-name mb-1",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-book fa-1x mr-2 pt-1"}),"\xa0 Grade:"]}),Object(E.jsxs)("div",{className:"name-main",children:[null===e||void 0===e?void 0:e.grade,"%"]})]}),Object(E.jsxs)("div",{className:"admin-name mb-1",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-book fa-1x mr-2 pt-1"}),"\xa0 Passing Year:"]}),Object(E.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.year})]})]})})),Object(E.jsxs)("div",{className:"admin-name mb-1",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-book fa-1x mr-2 pt-1"}),"\xa0 Master Subject:"]}),Object(E.jsx)("div",{className:"name-main",children:null===T||void 0===T||null===(v=T.data)||void 0===v?void 0:v.master_subject})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsx)("h4",{className:"mt-1 mb-1",children:"Bank Details"}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),"NULL"!==(null===T||void 0===T||null===(h=T.data)||void 0===h?void 0:h.paypal)?Object(E.jsxs)("div",{className:"admin-name mb-1",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-dollar fa-1x mr-2 pt-1"}),"\xa0 Paypal:"]}),Object(E.jsx)("div",{className:"name-main",children:null===T||void 0===T||null===(O=T.data)||void 0===O?void 0:O.paypal})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"admin-name mb-1",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Bank Name:"]}),Object(E.jsx)("div",{className:"name-main",children:null===q||void 0===q?void 0:q.Bank_Name})]}),Object(E.jsxs)("div",{className:"admin-name mb-1",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Account Name:"]}),Object(E.jsx)("div",{className:"name-main",children:null===q||void 0===q?void 0:q.Account_Name})]}),Object(E.jsxs)("div",{className:"admin-name mb-1",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Bank Country:"]}),Object(E.jsx)("div",{className:"name-main",children:null===q||void 0===q?void 0:q.Bank_Country})]}),Object(E.jsxs)("div",{className:"admin-name mb-1",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Account Type:"]}),Object(E.jsx)("div",{className:"name-main",children:null===q||void 0===q?void 0:q.Account_Type})]}),Object(E.jsxs)("div",{className:"admin-name mb-1",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Account_Number:"]}),Object(E.jsx)("div",{className:"name-main",children:null===q||void 0===q?void 0:q.Account_Number})]}),Object(E.jsxs)("div",{className:"admin-name mb-1",children:[Object(E.jsxs)("div",{className:"name-label",children:[Object(E.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Bank Address:"]}),Object(E.jsx)("div",{className:"name-main",children:null===q||void 0===q?void 0:q.Bank_Address})]})]})]})}),Object(E.jsx)("div",{className:"col-md-7 pl-0 pr-0",children:Object(E.jsxs)("div",{className:"module-card",style:{width:"100%"},children:[Object(E.jsx)("h4",{children:"Freelance Question Answer"}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),Object(E.jsxs)("div",{className:"row col-md-12 mb-3",children:[Object(E.jsx)("div",{className:"col-md-3 pl-0",children:Object(E.jsxs)("button",{className:"counter btn-success p-2 ".concat("pending"===z?"active":""),onClick:function(e){P(null===D||void 0===D?void 0:D.total_pending_qc),Q("pending")},children:["Total Answered: \xa0",null===D||void 0===D||null===(x=D.total_pending_qc)||void 0===x?void 0:x.length]})}),Object(E.jsx)("div",{className:"col-md-3 pl-0",children:Object(E.jsxs)("button",{className:"counter btn-success p-2 ".concat("solved"===z?"active":""),onClick:function(e){P(null===D||void 0===D?void 0:D.total_solved),Q("solved")},children:["Total Solved: \xa0",null===D||void 0===D||null===(f=D.total_solved)||void 0===f?void 0:f.length]})}),Object(E.jsx)("div",{className:"col-md-3 pl-0",children:Object(E.jsxs)("button",{className:"counter btn-success p-2 ".concat("reworked"===z?"active":""),onClick:function(e){P(null===D||void 0===D?void 0:D.total_reworked),Q("reworked")},children:["Total Reworked: \xa0",null===D||void 0===D||null===(N=D.total_reworked)||void 0===N?void 0:N.length]})})]}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),(null===F||void 0===F?void 0:F.length)>0&&Object(E.jsx)("div",{className:"row col-md-12 mr-0 pl-0 pr-3",style:{height:"300px",overflowY:"scroll"},children:null===F||void 0===F?void 0:F.map((function(e){return Object(E.jsxs)("div",{className:"ml-3 mr-0 pr-0 mb-2",children:[Object(E.jsxs)("div",{className:"pl-0",children:[Object(E.jsxs)("p",{className:"mb-1",children:["Book Name: ",null===e||void 0===e?void 0:e.book_name]}),Object(E.jsxs)("p",{className:"mb-1",children:["Chapter No: ",null===e||void 0===e?void 0:e.chapter_no,".\xa0 ",null===e||void 0===e?void 0:e.chapter_name," "]})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsx)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:Object(E.jsxs)("div",{className:"name-label pt-1",children:[Object(E.jsxs)("strong",{children:["Q.No: ",null===e||void 0===e?void 0:e.problem_no,". \xa0",Object(E.jsx)("span",{className:"badge badge-success pull-right",style:{textTransform:"capitalize"},children:null===e||void 0===e?void 0:e.flag})]}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),null===e||void 0===e?void 0:e.question,Object(E.jsx)("div",{className:"mt-1 p-2",style:{border:"1px solid #ddd"},children:Object(E.jsxs)("div",{className:"name-label pt-1",children:[Object(E.jsx)("strong",{children:"Answer: \xa0 "}),null===e||void 0===e?void 0:e.temp_answer]})})]})})]})}))}),"0"==(null===F||void 0===F?void 0:F.length)&&Object(E.jsx)("div",{className:"mr-0 pr-0 mb-2",children:Object(E.jsxs)("h3",{className:"p-3 text-center",style:{fontSize:"1.5rem",margin:"0 auto",background:"yellow"},children:[" Not any single Question Solved By ",null===T||void 0===T||null===(g=T.data)||void 0===g?void 0:g.fname]})})]})})]})})})]})})})})}},{path:"/qa-data/:subject?/:subject_id?/:sub_subject?/:sub_subject_id?/:status?/:chield_subject_id?/:chield_subject?/:page?",component:function(){var e,t=[{key:"true",value:"Mongo Database"},{key:"false",value:"MySql Database"}],a=Object(l.i)(),c=Object(l.g)(),s=Object(n.useContext)(u.a).state,i=Object(I.useToasts)().addToast,r=M(),o=r.data,d=r.isLoading,j=he(),m=j.data,h=j.isLoading,O=function(){var e=Object(l.i)(),t=e.subject_id,a=e.sub_subject_id,c=null===e||void 0===e?void 0:e.status,s=Object(n.useContext)(u.a).state,i="";return i=S.a,Object(y.a)(["chield_subjects-".concat(t,"-").concat(a,"-").concat(c)],Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===c){e.next=5;break}return e.next=3,C.a.get("".concat(i,"chield-subject/all/").concat(t,"/").concat(a,"/").concat(c),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+s.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}(),x=O.data,f=O.isLoading,N=Object(n.useState)([]),g=Object(L.a)(N,2),_=g[0],k=g[1],w=Object(n.useState)({}),T=Object(L.a)(w,2),A=T[0],q=T[1],B=Object(n.useState)(0),D=Object(L.a)(B,2),R=D[0],F=D[1],P=Object(n.useState)(!1),U=Object(L.a)(P,2),z=U[0],Q=U[1],G="";G=S.a;var V={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+s.access_token}},K=Object(n.useState)(!1),H=Object(L.a)(K,2),J=H[0],Y=H[1],W=Object(n.useState)(!1),X=Object(L.a)(W,2),Z=X[0],$=X[1],ee=Object(n.useState)(!1),te=Object(L.a)(ee,2),ae=te[0],ce=te[1];Object(n.useEffect)((function(){!0===Z&&Y(!1)}),[null===a||void 0===a?void 0:a.page]);var ne=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,s,i,r,o,l,d,u,j,m,p,v,h,O,x,f;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),Q(!0),Y(!0),s="","false"!=(null===a||void 0===a?void 0:a.status)){e.next=16;break}return v="",v=void 0===(null===a||void 0===a?void 0:a.page)?0:null===a||void 0===a?void 0:a.page,e.next=9,C.a.get("https://www.crazyforstudy.com/api/get-question-and-answer.php?accessKey=crazyforstudy&id=".concat(null===a||void 0===a?void 0:a.chield_subject_id,"&page=").concat(v));case 9:n=e.sent,s=null===(i=n)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.data,q(null===(o=n)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.pagination),F(null===(d=n)||void 0===d||null===(u=d.data)||void 0===u||null===(j=u.pagination)||void 0===j?void 0:j.itemCount),(null===(m=n)||void 0===m||null===(p=m.data)||void 0===p?void 0:p.pagination)&&(h="",h=void 0===(null===a||void 0===a?void 0:a.page)?1:null===a||void 0===a?void 0:a.page,c.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(null===a||void 0===a?void 0:a.status,"/").concat(null===a||void 0===a?void 0:a.chield_subject_id,"/").concat(null===a||void 0===a?void 0:a.chield_subject,"/").concat(h))),e.next=21;break;case 16:return e.next=18,C.a.get("".concat(G,"question/chield-question/").concat(null===a||void 0===a?void 0:a.chield_subject_id),V);case 18:n=e.sent,s=null===(O=n)||void 0===O||null===(x=O.data)||void 0===x?void 0:x.data,q({});case 21:n?(null===(f=s)||void 0===f||f.forEach((function(e){e.uuid=Object(Ae.a)()})),k(s)):k([]),Q(!1);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Y(!0),ce(!0),$(!0),_.forEach((function(e){e.subject=null===a||void 0===a?void 0:a.subject,e.subject_id=null===a||void 0===a?void 0:a.subject_id,e.sub_subject=null===a||void 0===a?void 0:a.sub_subject,e.sub_subject_id=null===a||void 0===a?void 0:a.sub_subject_id,e.chield_subject_id=null===a||void 0===a?void 0:a.chield_subject_id})),n={questions:_,chield_subject_id:null===a||void 0===a?void 0:a.chield_subject_id,totalQuestion:R,pageCount:null===A||void 0===A?void 0:A.pageCount,perPage:null===A||void 0===A?void 0:A.perPage,page:+(null===a||void 0===a?void 0:a.page)},e.next=8,C.a.post("".concat(G,"question/import-data"),n,V);case 8:201===(s=e.sent).status&&(ce(!1),i("Questions Uploaded successfully",{appearance:"success",autoDismiss:!0}),k([]),setTimeout((function(){if("1"==(null===A||void 0===A?void 0:A.pageCount))document.getElementById("chield_subject").selectedIndex="0",c.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(null===a||void 0===a?void 0:a.status)),$(!1),Y(!1),Q(!1);else if((null===A||void 0===A?void 0:A.pageCount)>"1"){null===s||void 0===s||s.totalQuestion,null===s||void 0===s||s.uploadedQuestion;$(!1),Y(!1),Q(!1),c.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(null===a||void 0===a?void 0:a.status,"/").concat(null===a||void 0===a?void 0:a.chield_subject_id,"/").concat(null===a||void 0===a?void 0:a.chield_subject,"/").concat(null===a||void 0===a?void 0:a.page))}}),1500));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Question and Answers"})}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"col-md-12 row",children:[Object(E.jsx)("button",{className:"btn btn-sm dark",children:Object(E.jsx)("span",{className:"fa fa-arrow-left"})}),Object(E.jsxs)("select",{className:"col-md-2 ml-2 form-control",onChange:function(e){var t=e.target.value.split("_"),a=t[1],n=t[0];document.getElementById("sub_subject").selectedIndex="0",document.getElementById("status").selectedIndex="0",document.getElementById("chield_subject").selectedIndex="0",void 0===a?c.push("/qa-data"):c.push("/qa-data/".concat(a,"/").concat(n))},children:[Object(E.jsx)("option",{children:d?"loading...":"Select Subjects"}),null===o||void 0===o?void 0:o.map((function(e){return Object(E.jsx)("option",{value:"".concat(null===e||void 0===e?void 0:e._id,"_").concat(v(null===e||void 0===e?void 0:e.subject)),selected:(null===e||void 0===e?void 0:e._id)===(null===a||void 0===a?void 0:a.subject_id)?"selected":"",children:null===e||void 0===e?void 0:e.subject},null===e||void 0===e?void 0:e._id)}))]}),Object(E.jsxs)("select",{className:"col-md-2 ml-2 form-control",id:"sub_subject",onChange:function(e){var t=e.target.value.split("_"),n=t[1],s=t[0];document.getElementById("status").selectedIndex="0",document.getElementById("chield_subject").selectedIndex="0",k([]),void 0===n||void 0===(null===a||void 0===a?void 0:a.subject)?c.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id)):c.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(n,"/").concat(s))},children:[Object(E.jsx)("option",{children:h?"loading...":"Select Sub Subjects"}),null===m||void 0===m?void 0:m.map((function(e){return Object(E.jsx)("option",{value:"".concat(null===e||void 0===e?void 0:e._id,"_").concat(v(null===e||void 0===e?void 0:e.sub_subject)),selected:(null===e||void 0===e?void 0:e._id)===(null===a||void 0===a?void 0:a.sub_subject_id)?"selected":"",children:null===e||void 0===e?void 0:e.sub_subject},null===e||void 0===e?void 0:e._id)}))]}),Object(E.jsxs)("select",{className:"col-md-2 ml-2 form-control",id:"status",onChange:function(e){var t=e.target.value;document.getElementById("chield_subject").selectedIndex="0",k([]),q({}),"0"==t?c.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id)):c.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(t))},children:[Object(E.jsx)("option",{value:"0",children:"Status"}),(null===m||void 0===m?void 0:m.length)>0&&(null===a||void 0===a?void 0:a.sub_subject_id)&&(null===t||void 0===t?void 0:t.map((function(e){return Object(E.jsx)("option",{value:e.key,selected:(null===a||void 0===a?void 0:a.status)===e.key,children:e.value})})))]}),Object(E.jsxs)("select",{className:"col-md-2 ml-2 form-control",id:"chield_subject",onChange:function(e){var t=e.target.value.split("_"),n=t[1],s=t[0];k([]),q({}),Y(!1),void 0===n?c.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(null===a||void 0===a?void 0:a.status)):c.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(null===a||void 0===a?void 0:a.status,"/").concat(s,"/").concat(n))},children:[Object(E.jsx)("option",{children:f?"loading...":"Select Chield Subjects"}),null===x||void 0===x?void 0:x.map((function(e){return Object(E.jsx)("option",{value:"".concat(null===e||void 0===e?void 0:e.chield_subject_id,"_").concat(v(null===e||void 0===e?void 0:e.chield_subject)),selected:(null===e||void 0===e?void 0:e.chield_subject_id)==(null===a||void 0===a?void 0:a.chield_subject_id)?"selected":"",children:null===e||void 0===e?void 0:e.chield_subject},null===e||void 0===e?void 0:e.uuid)}))]}),(null===a||void 0===a?void 0:a.chield_subject_id)&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("button",{className:"btn btn-sm dark ml-2",onClick:ne,disabled:!0===J,children:z?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner mr-2"}),"importing data..."]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-upload mr-2"}),"Import Data"]})}),Object(E.jsxs)("button",{className:"btn btn-sm dark ml-2",onClick:function(e){e.preventDefault(),document.getElementById("chield_subject").selectedIndex="0",k([]),q({}),c.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(null===a||void 0===a?void 0:a.status))},children:[Object(E.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})}),Object(E.jsxs)("div",{className:"dash-cont-start",children:[Object(E.jsxs)("div",{className:"col-md-12 row",children:[Object(E.jsx)("div",{className:"col-md-4",children:Object(E.jsxs)("h2",{children:["All Questions - ",null===_||void 0===_?void 0:_.length," outof ",null!==(e=null===A||void 0===A?void 0:A.itemCount)&&void 0!==e?e:0]})}),A&&(null===_||void 0===_?void 0:_.length)>0&&Object(E.jsx)("div",{className:"col-md-2",children:Object(E.jsx)(Ie,{pagination:A})}),(null===_||void 0===_?void 0:_.length)>0&&"false"==(null===a||void 0===a?void 0:a.status)&&Object(E.jsxs)("div",{className:"col-md-6 pr-0 pull-right text-right",style:{position:"absolute",right:"10px",top:"0px"},children:[Object(E.jsx)("button",{className:"btn btn-sm dark p-2",onClick:se,disabled:!0===Z,children:ae?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner mr-2"})," Uploading data.... "]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-download mr-2"})," Upload ",null===_||void 0===_?void 0:_.length," Questions"]})}),Object(E.jsxs)("button",{className:"btn btn-sm red p-2 ml-2",onClick:function(e){e.preventDefault(),document.getElementById("chield_subject").selectedIndex="0",k([]),q({}),c.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(null===a||void 0===a?void 0:a.status))},children:[Object(E.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel Upload"]})]})]}),Object(E.jsx)("div",{className:"col-md-12 p-0 ",children:Object(E.jsx)("hr",{className:"mt-2 mb-2"})}),(null===_||void 0===_?void 0:_.length)>0&&"true"===(null===a||void 0===a?void 0:a.status)&&Object(E.jsxs)("div",{className:"col-md-12 row bg-info ml-1 text-white pl-2",children:[Object(E.jsx)("div",{className:"col-md-1",children:"Old QID"}),Object(E.jsx)("div",{className:"col-md-6",children:"Question"})]}),Object(E.jsx)("div",{style:{height:"400px",overflowY:"scroll",overflowX:"hidden"},children:"true"===(null===a||void 0===a?void 0:a.status)&&(null===_||void 0===_?void 0:_.map((function(e){return Object(E.jsxs)("div",{className:"col-md-12 row table-bordered border-right mt-2 ml-1 pl-2",id:null===e||void 0===e?void 0:e.uuid,children:[Object(E.jsx)("div",{className:"col-md-1",children:null===e||void 0===e?void 0:e.old_qid}),Object(E.jsx)("div",{className:"col-md-11 pl-0",dangerouslySetInnerHTML:{__html:"".concat(Le()(null===e||void 0===e?void 0:e.question))}})]},null===e||void 0===e?void 0:e.uuid)})))})]})]})})})}},{path:"/manage-vendor/:vendor_id?",component:function(){var e=this,t=Object(l.g)(),a=Object(n.useContext)(u.a).state,c=ze(),s=c.data,i=c.isLoading,r=function(){var e=Object(p.a)(b.a.mark((function e(a){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.id,t.push("delete-data/master-vendor/delete/".concat(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(p.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/app-vendors/update/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(p.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/".concat(v(a)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(p.a)(b.a.mark((function e(a){var c,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.id,n=a.vendor_name.toLowerCase().replace(" ","-"),t.push("/view-data/master-vendor/".concat(n,"/view/").concat(c));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:a.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[i&&Object(E.jsx)(U,{}),Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Vendor List"})}),Object(E.jsx)("div",{className:"dash-con-heading"}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"col-md-12 row pr-0",children:[Object(E.jsx)("div",{className:"col-md-3 pl-0",children:Object(E.jsx)(Ge,{})}),Object(E.jsxs)("div",{className:"col-md-9 pr-0",children:[Object(E.jsx)("p",{className:"mt-1 mb-1",children:Object(E.jsxs)("b",{children:[Object(E.jsx)("span",{className:"fa fa-gears"})," All Vendors"]})}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),Object(E.jsxs)("div",{className:"org-main-area",children:[Object(E.jsxs)("div",{className:"dark mb-2",style:{display:"flex",justifyContent:"space-between"},children:[Object(E.jsx)("div",{className:"col-md-4 pl-2",children:Object(E.jsx)("span",{children:"vendor Name"})}),Object(E.jsx)("div",{className:"col-md-6 pl-2",children:Object(E.jsx)("span",{children:"vendor Email"})}),Object(E.jsx)("div",{className:"col-md-2 pl-2",children:Object(E.jsx)("span",{children:"vendor Action"})})]}),!i&&Object(E.jsx)("div",{className:"pr-2",style:{height:"420px",overflow:"scroll"},children:null===s||void 0===s?void 0:s.map((function(t){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},className:"card mb-2 mb-2",id:"card-".concat(t._id),children:[Object(E.jsx)("div",{className:"col-md-4 pl-2 pr-0",children:t.fullname}),Object(E.jsx)("div",{className:"col-md-6 pl-2 pr-0",children:t.email}),Object(E.jsxs)("div",{className:"col-md-2 pl-2 pr-0",children:[Object(E.jsx)(F.a,{className:"delBtn pl-1 pr-1 ",onClick:d.bind(e,t.vendor_name),children:Object(E.jsx)("span",{className:"fa fa-eye mr-2 text-success"})}),Object(E.jsx)(F.a,{className:"delBtn pl-1 pr-1",onClick:o.bind(e,t._id),children:Object(E.jsx)("span",{className:"fa fa-edit mr-2 text-danger"})}),Object(E.jsx)(F.a,{className:"delBtn pl-1 pr-1",onClick:j.bind(e,{id:t._id,vendor_name:t.vendor_name}),children:Object(E.jsx)("span",{className:"fa fa-lock mr-2 text-success"})}),Object(E.jsx)(F.a,{className:"delBtn pl-1 pr-1",onClick:r.bind(e,{id:t._id,vendor_name:t.vendor_name}),children:Object(E.jsx)("span",{className:"fa fa-trash mr-2 text-danger"})})]})]},t._id)})}))})]})]})]})})]})})})})}}],jt=[{path:"/master-admin",component:function(){var e=this,t=(Object(l.i)(),Object(l.g)()),a=Object(n.useContext)(u.a).state,c=Object(n.useContext)(ae.a),s=c.state,i=c.dispatch,r=Object(n.useContext)(K.a),o=r.state,d=r.dispatch,j=Object(V.a)({method:"get",url:"master-admin/view-all"}),m=j.response,v=j.isLoading,h=function(){var e=Object(p.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("delete-data/master-admin/delete/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/master-admin/update/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(null!==m){var e=m.data;i({type:"GET_ALL_ADMIN",payload:e})}}),[m]),Object(n.useEffect)((function(){var e=setTimeout((function(){return d({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return d({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[o]),Object(E.jsx)(E.Fragment,{children:a.isLoggedIn&&s&&o&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Admin List"})}),o.success&&Object(E.jsx)(P.a,{children:o.success}),o.error&&Object(E.jsx)(P.a,{children:o.error}),v&&Object(E.jsx)(U,{}),Object(E.jsx)(ct,{data:s.Admins}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsx)("div",{className:"org-main-area",children:!v&&Object(E.jsx)("div",{className:"subject-main-container",children:s.Admins.map((function(t){return Object(E.jsxs)("div",{className:"small-card",id:"card-".concat(t._id),children:[Object(E.jsxs)("div",{className:"subject-card-body mt-2",children:[Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Name:"}),Object(E.jsx)("div",{className:"name-main",children:t.fullname})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Email:"}),Object(E.jsx)("div",{className:"textlower name-main",children:t.email})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Role:"}),Object(E.jsx)("div",{className:"name-main",children:t.role_name})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Created On:"}),Object(E.jsx)("div",{className:"name-main",children:t.created_at.split("T")[0]})]})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsxs)("div",{className:"subject-card-heading",children:[Object(E.jsx)("div",{}),Object(E.jsxs)("div",{children:[Object(E.jsx)(F.a,{className:"delBtn",onClick:O.bind(e,t._id),children:Object(E.jsx)("span",{className:"fa fa-pencil-square-o text-primary mr-2"})}),Object(E.jsx)(F.a,{className:"delBtn",onClick:h.bind(e,t._id),children:Object(E.jsx)("span",{className:"fa fa-trash text-danger ml-2"})})]})]})]},t._id)}))})})})]})})})})}},{path:"/master-admin/create",component:nt},{path:"/master-admin/update/:id",component:nt},{path:"/master-role",component:function(){var e=this,t=Object(l.g)(),a=Object(n.useContext)(u.a).state,c=Object(n.useContext)(ae.a),s=c.state,i=(c.dispatch,Object(n.useContext)(K.a)),r=i.state,d=i.dispatch,j=Qe(),m=j.data,v=j.isLoading;console.log("response ",m);var h=function(){var e=Object(p.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("delete-data/master-role/delete/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/master-role/update/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=setTimeout((function(){return d({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return d({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[r.errror,r.success]),Object(E.jsx)(E.Fragment,{children:a.isLoggedIn&&s&&r&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Role List"})}),r.success&&Object(E.jsx)(P.a,{children:r.success}),r.error&&Object(E.jsx)(P.a,{children:r.error}),v&&Object(E.jsx)(U,{}),Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)(o.b,{to:"/master-role/create",className:"btn btn-sm dark",children:[Object(E.jsx)("span",{className:"fa fa-plus-circle"}),"\xa0 Add New Role"]})}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsx)("div",{className:"org-main-area",children:!v&&Object(E.jsx)("div",{className:"subject-main-container",children:null===m||void 0===m?void 0:m.map((function(t){return Object(E.jsxs)("div",{className:"subject-card",id:"card-".concat(t._id),children:[Object(E.jsxs)("div",{className:"subject-card-body mt-2",children:[Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Role:"}),Object(E.jsx)("div",{className:"name-main",children:t.name})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Role_id:"}),Object(E.jsx)("div",{className:"name-main",children:t.role})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Status:"}),Object(E.jsx)("div",{className:"name-main",children:1==t.status?"Active":"Inactive"})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Created On:"}),Object(E.jsx)("div",{className:"name-main",children:t.created_at.split("T")[0]})]}),Object(E.jsxs)("div",{className:"admin-name",children:[Object(E.jsx)("div",{className:"name-label",children:"Description:"}),Object(E.jsx)("div",{className:"name-main desc",children:t.description})]})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsxs)("div",{className:"subject-card-heading",children:[Object(E.jsx)("div",{}),Object(E.jsxs)("div",{children:[Object(E.jsx)(o.b,{to:"role-modules/view/".concat(t.name.replaceAll(" ","-").toLowerCase().trim(),"/").concat(t._id),children:Object(E.jsx)("span",{className:"fa fa-lock text-warning mr-2"})}),Object(E.jsx)(F.a,{className:"delBtn",onClick:O.bind(e,t._id),children:Object(E.jsx)("span",{className:"fa fa-pencil-square-o text-success mr-2"})}),Object(E.jsx)(F.a,{className:"delBtn",onClick:h.bind(e,t._id),children:Object(E.jsx)("span",{className:"fa fa-trash text-danger"})})]})]})]},t._id)}))})})})]})})})})}},{path:"/app-modules/:type?/:id?",component:function(){var e=this,t=Object(l.g)(),a=Object(n.useContext)(u.a).state,c=it(),s=c.data,i=c.isLoading,r=function(){var e=Object(p.a)(b.a.mark((function e(a){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.id,t.push("delete-data/master-module/delete/".concat(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(p.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/app-modules/update/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(p.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/".concat(v(a)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(p.a)(b.a.mark((function e(a){var c,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.id,n=a.module_name.toLowerCase().replace(" ","-"),t.push("/view-data/master-module/".concat(n,"/view/").concat(c));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:a.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[i&&Object(E.jsx)(U,{}),Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Module List"})}),Object(E.jsx)("div",{className:"dash-con-heading"}),Object(E.jsx)("div",{className:"dash-cont-start",children:Object(E.jsxs)("div",{className:"col-md-12 row pr-0",children:[Object(E.jsx)("div",{className:"col-md-3 pl-0",children:Object(E.jsx)(rt,{})}),Object(E.jsxs)("div",{className:"col-md-9 pr-0",children:[Object(E.jsx)("p",{className:"mt-1 mb-1",children:Object(E.jsxs)("b",{children:[Object(E.jsx)("span",{className:"fa fa-gears"})," App Modules"]})}),Object(E.jsx)("hr",{className:"mt-1 mb-2"}),Object(E.jsxs)("div",{className:"org-main-area",children:[Object(E.jsxs)("div",{className:"dark mb-2",style:{display:"flex",justifyContent:"space-between"},children:[Object(E.jsx)("div",{className:"col-md-4 pl-2",children:Object(E.jsx)("span",{children:"Module Name"})}),Object(E.jsx)("div",{className:"col-md-6 pl-2",children:Object(E.jsx)("span",{children:"Module Slug"})}),Object(E.jsx)("div",{className:"col-md-2 pl-2",children:Object(E.jsx)("span",{children:"Module Action"})})]}),!i&&Object(E.jsx)("div",{className:"pr-2",style:{height:"420px",overflow:"scroll"},children:null===s||void 0===s?void 0:s.map((function(t){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},className:"card mb-2 mb-2",id:"card-".concat(t._id),children:[Object(E.jsxs)("div",{className:"col-md-4 pl-2 pr-0",children:[Object(E.jsx)("span",{className:"fa ".concat(null===t||void 0===t?void 0:t.icon," mr-2 mt-1")}),t.module_name]}),Object(E.jsx)("div",{className:"col-md-6 pl-2 pr-0",children:O(t.module_slug,100)}),Object(E.jsxs)("div",{className:"col-md-2 pl-2 pr-0",children:[Object(E.jsx)(F.a,{className:"delBtn pl-1 pr-1 ",onClick:d.bind(e,t.module_name),children:Object(E.jsx)("span",{className:"fa fa-eye mr-2 text-success"})}),Object(E.jsx)(F.a,{className:"delBtn pl-1 pr-1",onClick:o.bind(e,t._id),children:Object(E.jsx)("span",{className:"fa fa-edit mr-2 text-danger"})}),Object(E.jsx)(F.a,{className:"delBtn pl-1 pr-1",onClick:j.bind(e,{id:t._id,module_name:t.module_name}),children:Object(E.jsx)("span",{className:"fa fa-lock mr-2 text-success"})}),Object(E.jsx)(F.a,{className:"delBtn pl-1 pr-1",onClick:r.bind(e,{id:t._id,module_name:t.module_name}),children:Object(E.jsx)("span",{className:"fa fa-trash mr-2 text-danger"})})]})]},t._id)})}))})]})]})]})})]})})})})}},{path:"/app-module/set-password/:module_name?/:module_id?/:module_method?/:id?",component:ot.a},{path:"/master-role/create",component:st},{path:"/master-role/update/:id",component:st},{path:"/role-modules/:type?/:role?/:role_name?/:role_id?/:email?",component:function(){var e=this,t=Object(l.g)(),a=Object(l.i)(),s=(et(),tt(),Object(n.useRef)("")),i=(Object(n.useRef)(""),Object(I.useToasts)().addToast),r=Object(n.useContext)(u.a).state,o=function(e,t){var a=Object(l.i)(),c=Object(n.useContext)(u.a).state,s="";return s=S.a,Object(y.a)("rolemodules-".concat(null===a||void 0===a?void 0:a.role,"-").concat(null===a||void 0===a?void 0:a.email),Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===a||void 0===a?void 0:a.role)||!(null===a||void 0===a?void 0:a.email)){e.next=5;break}return e.next=3,C.a.get("".concat(s,"role-module/view/").concat(null===a||void 0===a?void 0:a.role,"/").concat(null===a||void 0===a?void 0:a.email),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+c.access_token}});case 3:return t=e.sent,e.abrupt("return",t.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,d=function(){var e=Object(l.i)(),t=(Object(l.h)(),Object(n.useContext)(u.a).state),a="";a=S.a;var c=null===e||void 0===e?void 0:e.role,s=null===e||void 0===e?void 0:e.email;return Object(y.a)("all-permissions-".concat(c,"-").concat(s),Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===c){e.next=5;break}return e.next=3,C.a.get("".concat(a,"role-module/all-permissions/").concat(c,"/").concat(s),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)}))))}().data,j=function(){var e=Object(l.i)(),t=Object(n.useContext)(u.a).state,a="";return a=S.a,Object(y.a)("roleusers-".concat(null===e||void 0===e?void 0:e.role),Object(p.a)(b.a.mark((function c(){var n;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!(null===e||void 0===e?void 0:e.role)){c.next=5;break}return c.next=3,C.a.get("".concat(a,"role-module/users/").concat(null===e||void 0===e?void 0:e.role),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return n=c.sent,c.abrupt("return",n.data.data);case 5:case"end":return c.stop()}}),c)}))))}(null===a||void 0===a||a.role).data;console.log(d);var m=[{key:"create",value:"Create",icon:'<span class="bi bi-plus-circle-fill"></span>'},{key:"update",value:"Update",icon:'<span class="bi bi-pencil-fill"></span>'},{key:"delete",value:"Delete",icon:'<span class="bi bi-trash-fill"></span>'},{key:"upload",value:"Upload",icon:'<span class="bi bi-cloud-upload-fill"></span>'},{key:"view",value:"View",icon:'<span class="bi bi-eye-fill"></span>'}],h=it(),O=h.data,x=h.isLoading,f=Object(n.useState)([]),N=Object(L.a)(f,2),g=N[0],w=N[1],T=Object(n.useState)(!1),A=Object(L.a)(T,2),q=A[0],B=A[1];function D(){return(D=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===O||void 0===O||O.map((function(e){var t=null===o||void 0===o?void 0:o.some((function(t){return t.module_id==(null===e||void 0===e?void 0:e._id)}));e.checked=t})),w(O);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(!0),null===O||void 0===O||O.map((function(e){(null===e||void 0===e?void 0:e._id)===t&&(e.checked=!0)})),w(O),B(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){return D.apply(this,arguments)}),[O,o]),Object(n.useEffect)((function(e){return R.apply(this,arguments)}),[q]);var P=Qe().data,U=Object(n.useState)(!1),M=Object(L.a)(U,2),z=M[0],Q=M[1],G="";G=S.a;var V={headers:{"Content-Type":"application/json",Authorization:"Bearer "+r.access_token}},K=function(){var e=Object(p.a)(b.a.mark((function e(){var t,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=document.getElementById("checkAll").checked,a=document.querySelectorAll("input[type=checkbox]"),c=0;c<a.length;c++)"checkbox"==a[c].type&&(a[c].checked=!!t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function H(){document.getElementById("role").selectedIndex="0",document.querySelectorAll("input[type=checkbox]").forEach((function(e){e.checked=!1}))}var J=Object(se.b)(),Y=Object(ie.a)((function(e){return C.a.post("".concat(G,"master-role-module/create"),e,V)}),{onSuccess:function(){J.invalidateQueries("roledmoules-".concat(null===a||void 0===a?void 0:a.role,"-").concat(null===a||void 0===a?void 0:a.email)),J.invalidateQueries("all-permissions-".concat(null===a||void 0===a?void 0:a.role,"-").concat(null===a||void 0===a?void 0:a.email)),Q(!1),H(),t.push("/role-modules/update/".concat(null===a||void 0===a?void 0:a.role,"/").concat(null===a||void 0===a?void 0:a.role_name,"/").concat(null===a||void 0===a?void 0:a.role_id,"/").concat(null===a||void 0===a?void 0:a.email)),i("Module Modified successfully",{appearance:"success",autoDismiss:!0})}}),W=function(){var e=Object(p.a)(b.a.mark((function e(){var t,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q(!0),""!==s.current.value){e.next=6;break}Q(!1),i("Please Select role to give permissions",{appearance:"error",autoDismiss:!0}),e.next=12;break;case 6:return t=[],Array.from(document.querySelectorAll(".module-methods")).map((function(e){if(!0===e.checked){var c=e.value.split("_");t.push({role_id:null===a||void 0===a?void 0:a.role_id,role_name:null===a||void 0===a?void 0:a.role_name,role:null===a||void 0===a?void 0:a.role,email:null===a||void 0===a?void 0:a.email,module_id:c[0],module_name:c[1],module_slug:c[2],module_icon:c[3],method_name:c[4]})}})),c=[],Array.from(document.querySelectorAll(".module")).map((function(e){if(!0===e.checked){var t=e.value.split("_");c.push({role_id:null===a||void 0===a?void 0:a.role_id,role_name:null===a||void 0===a?void 0:a.role_name,role:null===a||void 0===a?void 0:a.role,email:null===a||void 0===a?void 0:a.email,module_id:t[0],module_name:t[1],module_slug:t[2],module_icon:t[3]})}})),e.next=12,Y.mutate({module:c,method:t});case 12:H();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function X(e){var t="module-"+e,a="method-"+e,c=document.getElementById(t).checked;Array.from(document.getElementsByName(a)).map((function(e){e.checked=!!c}))}var Z=function(e){var t=Object(l.h)().pathname,a=Object(l.i)(),c=Object(l.g)(),s=Object(se.b)(),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(u.a).state.access_token}},r="";r=S.a;var o=Object(I.useToasts)().addToast;return Object(ie.a)((function(e){return C.a.post("".concat(r,"role-module/delete"),e,i)}),{onSuccess:function(){s.invalidateQueries("roledmoules-".concat(null===a||void 0===a?void 0:a.role,"-").concat(null===a||void 0===a?void 0:a.email)),s.invalidateQueries("all-permissions-".concat(null===a||void 0===a?void 0:a.role,"-").concat(null===a||void 0===a?void 0:a.email)),c.push("".concat(t)),o("Module deleted successfully",{appearance:"success",autoDismiss:!0})}})}();function $(){return($=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert(t),e.next=3,Z.mutate({id:t});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=function(e){var t=Object(l.h)().pathname,a=Object(l.i)(),c=Object(l.g)(),s=Object(se.b)(),i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+Object(n.useContext)(u.a).state.access_token}},r="";r=S.a;var o=Object(I.useToasts)().addToast;return Object(ie.a)((function(e){return C.a.post("".concat(r,"role-module/delete-all"),e,i)}),{onSuccess:function(){s.invalidateQueries("roledmoules-".concat(null===a||void 0===a?void 0:a.role,"-").concat(null===a||void 0===a?void 0:a.email)),s.invalidateQueries("all-permissions-".concat(null===a||void 0===a?void 0:a.role,"-").concat(null===a||void 0===a?void 0:a.email)),c.push("".concat(t)),o("Module deleted successfully",{appearance:"success",autoDismiss:!0})}})}();function te(){return(te=Object(p.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.mutate({module_slug:t,email:a});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(E.jsx)(E.Fragment,{children:r.isLoggedIn&&Object(E.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(E.jsx)("div",{className:"main-area-all",children:Object(E.jsxs)("div",{className:"dashboard_main-container",children:[Object(E.jsx)("div",{className:"dash-main-head",children:Object(E.jsx)("h2",{children:"Permission List"})}),!x&&Object(E.jsx)("div",{className:"dash-con-heading",children:Object(E.jsxs)("div",{className:"col-md-6 flex pl-0",children:[Object(E.jsxs)("select",{name:"role",id:"role",ref:s,value:"".concat(null===a||void 0===a?void 0:a.role_name,"_").concat(null===a||void 0===a?void 0:a.role_id,"_").concat(null===a||void 0===a?void 0:a.role),className:"roles col-md-6 form-control",onChange:function(e){var a=e.target.value.split("_"),c=a[0],n=a[1],s=a[2];t.push("/role-modules/update/".concat(s,"/").concat(c,"/").concat(n))},children:[Object(E.jsx)("option",{value:"",children:"Select Roles"}),null===P||void 0===P?void 0:P.map((function(e){return Object(E.jsx)("option",{value:"".concat(null===c||void 0===c?void 0:v(e.name),"_").concat(e._id,"_").concat(null===e||void 0===e?void 0:e.role),children:e.name},e._id)}))]}),Object(E.jsxs)("select",{className:"form-control",value:null===a||void 0===a?void 0:a.email,onChange:function(e){return t.push("/role-modules/update/".concat(null===a||void 0===a?void 0:a.role,"/").concat(null===a||void 0===a?void 0:a.role_name,"/").concat(null===a||void 0===a?void 0:a.role_id,"/").concat(e.target.value))},children:[Object(E.jsx)("option",{value:"",children:"Select User"}),null===j||void 0===j?void 0:j.map((function(e){return Object(E.jsx)("option",{value:e.email,children:e.fullname})}))]})]})}),!x&&Object(E.jsxs)("div",{className:"dash-cont-start",children:[Object(E.jsx)("h4",{className:"mt-2",children:"All Module Permissions"}),Object(E.jsxs)("div",{className:"col-md-12 row",children:[Object(E.jsx)("input",{type:"checkbox",className:"checkall",id:"checkAll",name:"CheckAll",onChange:K}),Object(E.jsx)("label",{htmlFor:"checkAll",children:"Check All "})]}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{className:"flex col-md-12 pl-0 pr-0",style:{justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",height:"360px",overflow:"hidden scroll"},children:null===g||void 0===g?void 0:g.map((function(t,a){var c=_(d,"module_slug","".concat(null===t||void 0===t?void 0:t.module_slug));return Object(E.jsxs)("div",{className:"col-md-6 mb-2 card pl-0 pr-0",children:[Object(E.jsxs)("div",{className:"col-md-12 dark flex pt-2 pb-2",children:[Object(E.jsxs)("label",{className:"mb-0",htmlFor:"module-".concat(null===t||void 0===t?void 0:t.module_slug),children:[Object(E.jsx)("input",{type:"checkbox",name:"module-".concat(null===t||void 0===t?void 0:t.module_slug),className:"mr-2 module checkbox",id:"module-".concat(null===t||void 0===t?void 0:t.module_slug),value:"".concat(null===t||void 0===t?void 0:t._id,"_").concat(null===t||void 0===t?void 0:t.module_name,"_").concat(null===t||void 0===t?void 0:t.module_slug,"_").concat(null===t||void 0===t?void 0:t.icon),onChange:X.bind(e,null===t||void 0===t?void 0:t.module_slug),onClick:function(e){return B(!0)},disabled:c}),null===t||void 0===t?void 0:t.module_name]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{children:c?Object(E.jsx)("span",{className:"fa fa-check-circle text-success"}):Object(E.jsx)("span",{className:"fa fa-check-circle text-danger"})}),Object(E.jsx)("span",{className:"pointer pl-2 pull-right bi bi-trash text-white",style:{cursor:"pointer",fontSize:"0.90rem"},onClick:function(e){return function(e,t){return te.apply(this,arguments)}(null===t||void 0===t?void 0:t.module_slug,r.email)}})]})]}),Object(E.jsx)("div",{className:"row ml-2 mr-2 pt-2 pb-2",children:null===m||void 0===m?void 0:m.map((function(e){var a=_(d,"method_name","".concat(null===e||void 0===e?void 0:e.key,"-").concat(null===t||void 0===t?void 0:t.module_slug)),c=k(d,"method_name","".concat(null===e||void 0===e?void 0:e.key,"-").concat(null===t||void 0===t?void 0:t.module_slug),"_id");if("dashboard"!==(null===t||void 0===t?void 0:t.module_slug))return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"col-md-4 card pl-2 pr-2 flex pt-1 pb-1",children:[Object(E.jsxs)("label",{className:"mb-0",style:{fontSize:"0.85rem"},children:[Object(E.jsx)("input",{type:"checkbox",name:"method-".concat(null===t||void 0===t?void 0:t.module_slug),className:"checkbox module-methods mr-1 mr-1",value:"".concat(null===t||void 0===t?void 0:t._id,"_").concat(null===t||void 0===t?void 0:t.module_name,"_").concat(null===t||void 0===t?void 0:t.module_slug,"_").concat(null===t||void 0===t?void 0:t.icon,"_").concat(null===e||void 0===e?void 0:e.key,"-").concat(null===t||void 0===t?void 0:t.module_slug),disabled:a}),Object(E.jsx)("span",{className:"ml-0 mr-1",style:{fontSize:"0.80rem"},dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.icon}}),null===e||void 0===e?void 0:e.value]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{children:a?Object(E.jsx)("span",{className:"fa fa-check-circle text-success"}):Object(E.jsx)("span",{className:"fa fa-check-circle text-danger"})}),a&&Object(E.jsx)("span",{className:"pointer pl-2 pull-right bi bi-trash text-danger",style:{cursor:"pointer",fontSize:"0.90rem"},onClick:function(e){return function(e){return $.apply(this,arguments)}(c)}})]})]},null===e||void 0===e?void 0:e._id)})}))})]},null===t||void 0===t?void 0:t._id)}))}),Object(E.jsxs)("div",{className:"row col-md-12 pl-2 mt-4",children:[Object(E.jsx)(F.a,{onClick:W,className:"btn btn-sm dark ml-2",children:z?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-spinner"})," Processing"]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"fa fa-save mr-2"})," Save"]})}),(null===a||void 0===a?void 0:a.role_id)&&Object(E.jsx)(F.a,{onClick:function(e){t.push("/role-modules"),H()},className:"btn dark bg-danger ml-2",children:Object(E.jsx)("span",{className:"fa fa-times"})})]})]})]})})})})}}],bt=new(a(250).a)({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});var mt=function(){return Object(E.jsx)(o.a,{children:Object(E.jsx)("div",{className:"wrapper",children:Object(E.jsx)("div",{className:"row no-gutters",children:Object(E.jsx)(se.a,{client:bt,children:Object(E.jsx)(u.b,{children:Object(E.jsx)(ae.b,{children:Object(E.jsx)(Y,{children:Object(E.jsx)(K.b,{children:Object(E.jsxs)(I.ToastProvider,{children:[Object(E.jsx)(A,{}),Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsxs)(l.d,{children:[dt&&dt.map((function(e){return Object(E.jsx)(l.b,{exact:!0,path:e.path,component:e.component},e.path)})),ut&&ut.map((function(e){return Object(E.jsx)(D,{exact:!0,path:e.path,component:e.component},e.path)})),jt&&jt.map((function(e){return Object(E.jsx)(R,{exact:!0,path:e.path,component:e.component},e.path)}))]})})]})})})})})})})})})};r.a.render(Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsx)(mt,{})}),document.getElementById("root"))},26:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var c=a(2),n=a.n(c),s=a(3),i=a(4),r=a(1),o=a(7),l=a.n(o),d=a(5),u=a(21);function j(e){var t=e.method,a=e.url,c=e.data,o=void 0===c?null:c,j=Object(r.useState)(null),b=Object(i.a)(j,2),m=b[0],p=b[1],v=Object(r.useState)(null),h=Object(i.a)(v,2),O=h[0],x=h[1],f=Object(r.useContext)(d.a).state,N=Object(r.useContext)(u.a),g=(N.state,N.dispatch),_="https://cfs-admin.herokuapp.com/api/v1/",k=l.a.create({baseURL:_,headers:{"Content-Type":"Application/json",Authorization:"Bearer "+f.access_token}});return Object(r.useEffect)((function(){(function(){var e=Object(s.a)(n.a.mark((function e(){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=a.split("/"),"undefined"===c.pop()){e.next=7;break}return x(!0),e.next=7,k[t](a,JSON.parse(o)).then((function(e){p(e.data)})).finally((function(){x(!1)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),g({type:"SET_ERROR",payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[t,a,o]),{response:m,isLoading:O}}},27:function(e,t,a){"use strict";a.d(t,"b",(function(){return j})),a.d(t,"d",(function(){return m})),a.d(t,"c",(function(){return v})),a.d(t,"a",(function(){return O}));var c=a(2),n=a.n(c),s=a(3),i=(a(1),a(7)),r=a.n(i),o=a(10),l=localStorage.getItem("access_token"),d="";d=o.a;var u=r.a.create({baseURL:d,headers:{"Content-Type":"Application/json",Authorization:"Bearer "+l}});function j(e){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(n.a.mark((function e(t,a){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.post(t,a);case 3:return c=e.sent,e.abrupt("return",c);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function v(e,t){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(n.a.mark((function e(t,a){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.patch(t,a);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(n.a.mark((function e(t,a){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.delete(t,a);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},5:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var c=a(4),n=a(6),s=a(1),i=a.n(s),r=a(0),o=localStorage.getItem("fullname"),l=localStorage.getItem("email"),d=localStorage.getItem("role"),u=localStorage.getItem("created_at"),j=localStorage.getItem("isLoggedIn"),b=localStorage.getItem("access_token"),m=localStorage.getItem("refresh_token"),p={isLoggedIn:j||!1,fullname:o||null,email:l||null,role:d||null,created_at:u||null,access_token:b||null,refresh_token:m||null},v=i.a.createContext(p),h=function(e,t){switch(t.type){case"LOGIN":return Object(n.a)(Object(n.a)({},e),{},{isLoggedIn:t.payload.isLoggedIn,fullname:t.payload.fullname,email:t.payload.email,role:t.payload.role,created_at:t.payload.created_at,access_token:t.payload.access_token,refresh_token:t.payload.refresh_token});case"LOGOUT":return localStorage.clear(),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("fullname"),localStorage.removeItem("email"),Object(n.a)(Object(n.a)({},e),{},{isLoggedIn:!1,fullname:null,email:null,access_token:null,refresh_token:null});default:return e}};t.b=function(e){var t=e.children,a=Object(s.useReducer)(h,p),n=Object(c.a)(a,2),i=n[0],o=n[1];return Object(r.jsx)(v.Provider,{value:{state:i,dispatch:o},children:t})}},58:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var c=a(2),n=a.n(c),s=a(3),i=a(4),r=a(1);function o(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],o=function(){var e=Object(s.a)(n.a.mark((function e(){var t,a,s,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$&*",s=1;s<=12;s++)i=Math.floor(Math.random()*a.length+1),t+=a.charAt(i);c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return o()}),[]),{randomPassword:a,generateRandomPassword:o}}}},[[246,1,2]]]);
//# sourceMappingURL=main.b25736a9.chunk.js.map