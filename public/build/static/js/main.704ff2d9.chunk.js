(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{102:function(e,a,t){},13:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var c="https://cfs-admin-panel.herokuapp.com/api/v1/"},139:function(e,a,t){},14:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var c=t(4),s=t(7),n=t(1),r=t(0),i=Object(n.createContext)(),l=function(e,a){switch(a.type){case"GET_ALL_ADMIN":return Object(s.a)(Object(s.a)({},e),{},{Admins:a.payload});case"GET_ALL_ROLE":return Object(s.a)(Object(s.a)({},e),{},{Roles:a.payload});case"GET_ALL_MODLISTS":return Object(s.a)(Object(s.a)({},e),{},{ModLists:a.payload});case"GET_REMOVE_ALL_DATA":return Object(s.a)(Object(s.a)({},e),{},{RemoveAllDatas:a.payload});case"GET_MODLIST":return Object(s.a)(Object(s.a)({},e),{},{ModList:a.payload});case"SET_USER":return Object(s.a)(Object(s.a)({},e),{},{user:a.payload});case"GET_ROLE":return Object(s.a)(Object(s.a)({},e),{},{role:a.paylaod});case"GET_ALL_PERMISSION_GROUPS":return Object(s.a)(Object(s.a)({},e),{},{permissionGroups:a.payload});case"SET_SELECTED_METHOD":return Object(s.a)(Object(s.a)({},e),{},{selected_methods:a.payload});case"SET_SA_ROUTES":return Object(s.a)(Object(s.a)({},e),{},{superAdminRoutes:a.payload});case"SET_A_ROUTES":return Object(s.a)(Object(s.a)({},e),{},{adminRoutes:a.payload});case"GET_ALL_ROLE_PERMISSION":return Object(s.a)(Object(s.a)({},e),{},{RolePermissions:a.payload});case"GET_ROLE_PERMISSIONS":return Object(s.a)(Object(s.a)({},e),{},{AllRolePermissions:a.payload});case"GET_ALL_BOOKS":return Object(s.a)(Object(s.a)({},e),{},{AllBooks:a.payload});case"Book_CurrentPage":return Object(s.a)(Object(s.a)({},e),{},{CurrentPage:a.payload});default:return e}},o=localStorage.getItem("pageno");a.b=function(e){var a=e.children,t=Object(n.useReducer)(l,{Admins:[],Roles:[],RolePermissions:[],AllRolePermissions:[],ModLists:[],RemoveAllDatas:[],permissionGroups:[],role:{id:"",name:"",description:"",role:""},ModList:{id:"",module_name:"",description:""},methods:[{name:"create",value:"Create Module",checked:!1},{name:"update",value:"Update Module",checked:!1},{name:"delete",value:"Delete Module",checked:!1},{name:"view",value:"View Module",checked:!1},{name:"view-all",value:"View All Module",checked:!1},{name:"delete-all",value:"Delete All Module",checked:!1},{name:"upload",value:"Uplaod Module",checked:!1}],selected_methods:[],superAdminRoutes:[],adminRoutes:[],AllBooks:[],CurrentPage:void 0===o?1:o}),s=Object(c.a)(t,2),d=s[0],j=s[1];return Object(r.jsx)(i.Provider,{value:{state:d,dispatch:j},children:a})}},141:function(e,a,t){},16:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var c=t(4),s=t(7),n=t(1),r=t(0),i=Object(n.createContext)(),l=function(e,a){switch(a.type){case"SET_ERROR":return Object(s.a)(Object(s.a)({},e),{},{error:a.payload});case"SET_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{success:a.payload});default:return e}};a.b=function(e){var a=e.children,t=Object(n.useReducer)(l,{error:null}),s=Object(c.a)(t,2),o=s[0],d=s[1];return Object(r.jsx)(i.Provider,{value:{state:o,dispatch:d},children:a})}},17:function(e,a,t){"use strict";t.d(a,"a",(function(){return u}));var c=t(2),s=t.n(c),n=t(3),r=t(4),i=t(1),l=t(10),o=t.n(l),d=t(6),j=t(16);function u(e){var a=e.method,t=e.url,c=e.data,l=void 0===c?null:c,u=Object(i.useState)(null),b=Object(r.a)(u,2),m=b[0],h=b[1],p=Object(i.useState)(null),O=Object(r.a)(p,2),x=O[0],f=O[1],v=Object(i.useContext)(d.a).state,N=Object(i.useContext)(j.a),g=(N.state,N.dispatch),_="https://cfs-admin.herokuapp.com/api/v1/",y=o.a.create({baseURL:_,headers:{"Content-Type":"Application/json",Authorization:"Bearer "+v.access_token}});return Object(i.useEffect)((function(){(function(){var e=Object(n.a)(s.a.mark((function e(){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=t.split("/"),"undefined"===c.pop()){e.next=7;break}return f(!0),e.next=7,y[a](t,JSON.parse(l)).then((function(e){h(e.data)})).finally((function(){f(!1)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),g({type:"SET_ERROR",payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[a,t,l]),{response:m,isLoading:x}}},187:function(e,a){},189:function(e,a){},206:function(e,a,t){},21:function(e,a,t){"use strict";t.d(a,"b",(function(){return u})),t.d(a,"d",(function(){return m})),t.d(a,"c",(function(){return p})),t.d(a,"a",(function(){return x}));var c=t(2),s=t.n(c),n=t(3),r=(t(1),t(10)),i=t.n(r),l=t(13),o=localStorage.getItem("access_token"),d="";d=l.a;var j=i.a.create({baseURL:d,headers:{"Content-Type":"Application/json",Authorization:"Bearer "+o}});function u(e){return b.apply(this,arguments)}function b(){return(b=Object(n.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get(a);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,a){return h.apply(this,arguments)}function h(){return(h=Object(n.a)(s.a.mark((function e(a,t){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.post(a,t);case 3:return c=e.sent,e.abrupt("return",c);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function p(e,a){return O.apply(this,arguments)}function O(){return(O=Object(n.a)(s.a.mark((function e(a,t){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.patch(a,t);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,a){return f.apply(this,arguments)}function f(){return(f=Object(n.a)(s.a.mark((function e(a,t){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete(a,t);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},22:function(e,a,t){},222:function(e,a,t){"use strict";t.r(a);var c=t(1),s=t.n(c),n=t(38),r=t.n(n),i=(t(139),t(8)),l=t(25),o=t(2),d=t.n(o),j=t(3),u=(t(141),t(225)),b=t(6),m=t(14),h=t(10),p=t.n(h),O=t(13),x=t(0);function f(){var e=Object(l.g)(),a=Object(c.useContext)(b.a),t=a.state,s=a.dispatch,n=Object(c.useContext)(m.a),r=n.state,o=n.dispatch;return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var a,c,s,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isLoggedIn){e.next=8;break}return console.log("app Load",t.isLoggedIn),a="",a=O.a,e.next=6,p.a.get("".concat(a,"master-module/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 6:null!==(c=e.sent)&&(s=c.data.data,n=s.filter((function(e){return 1===e.role_access})),o({type:"SET_SA_ROUTES",payload:n}),r=s.filter((function(e){return 2===e.role_access})),o({type:"SET_A_ROUTES",payload:r}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t.isLoggedIn]),Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&Object(x.jsxs)("div",{className:"login_menu col-lg-2 col-md-2 col-12",bg:"dark",variant:"dark",expand:"lg",children:[Object(x.jsx)("div",{className:"webLogo",children:Object(x.jsx)("img",{src:"/logo.png",alt:"User"})}),Object(x.jsxs)("div",{className:"user_area",children:[Object(x.jsx)("div",{className:"user_icon",children:Object(x.jsx)("img",{src:"/user.png",alt:"User"})}),Object(x.jsxs)("div",{className:"user_details",children:[Object(x.jsx)("span",{className:"user_name",children:t.fullname}),Object(x.jsx)("span",{className:"user_name"})]}),Object(x.jsx)("div",{className:"user_options",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{as:i.b,onClick:function(a){e.push("/my-profile")},children:"My Profile"}),Object(x.jsx)("li",{children:"|"}),Object(x.jsx)("li",{as:i.b,children:Object(x.jsx)("span",{className:"badge-success p-1 pt-0 pb-0 m-0",style:{borderRadius:"3px"},children:1==t.role?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-lock"})," S Admin"]}):" Admin"})}),Object(x.jsx)("li",{children:"|"}),Object(x.jsx)("li",{as:i.b,onClick:function(){s({type:"LOGOUT"}),e.push("/")},alt:"Logout",children:Object(x.jsx)("span",{className:"fa fa-power-off"})})]})})]}),Object(x.jsx)("div",{className:"navbar_menus",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)(u.a,{className:"ml-auto",children:Object(x.jsxs)(i.c,{to:"/dashboard",children:[" ",Object(x.jsx)("span",{className:"fa fa-dashboard"})," Dashboard"]})})}),1==t.role&&r.superAdminRoutes.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(u.a,{className:"ml-auto",children:Object(x.jsx)(i.c,{to:"/".concat(e.module_name.trim().toLowerCase().replaceAll(" ","-")),children:e.module_name})})},e._id)})),(1==t.role||2==t.role)&&r.adminRoutes.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(u.a,{className:"ml-auto",children:Object(x.jsx)(i.c,{to:"/".concat(e.module_name.trim().toLowerCase().replaceAll(" ","-")),children:e.module_name})})},e._id)}))]})})]})})}t(165);var v=t(7),N=t(67),g=function(e){var a=e.component,t=Object(N.a)(e,["component"]),s=Object(c.useContext)(b.a).state;return Object(x.jsx)(l.b,Object(v.a)(Object(v.a)({},t),{},{render:function(e){return s.isLoggedIn?Object(x.jsx)(a,Object(v.a)({},e)):Object(x.jsx)(l.a,{to:{pathname:"/login"}})}}))},_=function(e){var a=e.component,t=Object(N.a)(e,["component"]),s=Object(c.useContext)(b.a).state;return Object(x.jsx)(l.b,Object(v.a)(Object(v.a)({},t),{},{render:function(e){return 1==s.role?Object(x.jsx)(a,Object(v.a)({},e)):Object(x.jsx)(l.a,{to:{pathname:"/403"}})}}))},y=t(4),k=t(34),w=t(69),C=t(21),S=t(17);t(102);function E(){var e=Object(l.g)(),a=Object(c.useRef)(),t=Object(c.useRef)(),s=Object(c.useState)(null),n=Object(y.a)(s,2),r=n[0],o=n[1],u=(Object(c.useContext)(m.a).dispatch,Object(c.useContext)(b.a)),h=(u.state,u.dispatch),p=Object(c.useState)(!1),O=Object(y.a)(p,2),f=O[0],v=O[1],N=function(){var c=Object(j.a)(d.a.mark((function c(s){var n,r,i,l,j,u,b,m,p,O,x;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(s.preventDefault(),n=a.current.value,r=t.current.value,""!==n){c.next=8;break}return o("Please enter email address"),c.abrupt("return",!1);case 8:if(""!==r){c.next=13;break}return o("Please enter password"),c.abrupt("return",!1);case 13:return v(!0),i={email:a.current.value,password:t.current.value},c.next=17,C.d("admin/login",i);case 17:(l=c.sent).response&&l.response.status?(o("Email or password not matched"),v(!1)):(j=l.data.accessToken,u=l.data.refreshToken,b=l.data.admin.fullname,m=l.data.admin.email,p=l.data.admin.role,O=l.data.admin.created_at,x=!0,localStorage.setItem("access_token",j),localStorage.setItem("refresh_token",u),localStorage.setItem("fullname",b),localStorage.setItem("email",m),localStorage.setItem("role",p),localStorage.setItem("created_at",O),localStorage.setItem("isLoggedIn",x),h({type:"LOGIN",payload:{isLoggedIn:x,fullname:b,email:m,role:p,created_at:O,access_token:j,refresh_token:u}}),e.push("/dashboard"));case 19:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=setTimeout((function(){return o(null)}),2500);return function(){clearTimeout(e)}}),[r]),Object(x.jsxs)("div",{className:"container-fluid p-0 m-0 text-center LoginBg",children:[Object(x.jsx)(i.c,{to:"/",children:Object(x.jsx)("img",{className:"logo",src:"/logo.png"})}),Object(x.jsxs)("div",{className:"row no-gutter mt-3",children:[Object(x.jsx)("div",{className:"col-md-6 offset-1",children:Object(x.jsx)("img",{src:"/bg_img.jpeg",style:{width:"100%"}})}),Object(x.jsxs)("div",{className:"col-md-3 card pl-3 pr-3 pt-3 pb-3",children:[Object(x.jsx)("h4",{children:"Login "}),r&&Object(x.jsx)("p",{style:{color:"red",margin:"0px"},children:r}),Object(x.jsx)("hr",{}),Object(x.jsxs)(k.a,{autoComplete:"new-password",onSubmit:N,children:[Object(x.jsxs)(k.a.Group,{controlId:"formBasicEmail",className:"text-left",children:[Object(x.jsx)(k.a.Label,{children:"Email address"}),Object(x.jsx)(k.a.Control,{type:"email",autoComplete:"nope",ref:a,placeholder:"Enter email"}),Object(x.jsx)(k.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(x.jsxs)(k.a.Group,{controlId:"formBasicPassword",className:"text-left",children:[Object(x.jsx)(k.a.Label,{children:"Password"}),Object(x.jsx)(k.a.Control,{type:"password",autoComplete:"nope",ref:t,placeholder:"Password"})]}),Object(x.jsx)(w.a,{className:"btn btn-md btn-block dark mt-3",type:"submit",children:f?"Authenticating...":"Login"})]}),Object(x.jsxs)("div",{className:"col-md-12 text-center mt-3",children:["Forgot Password ?",Object(x.jsx)(i.c,{className:"ml-2",to:"/forgot-password",children:"change password"})]})]})]})]})}t(22);var T=t(9);function R(){return Object(x.jsx)("div",{className:"animation"})}var L=t(227);function A(){var e=Object(c.useContext)(b.a).state,a="";return a=O.a,Object(L.a)("Subjects",Object(j.a)(d.a.mark((function t(){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("".concat(a,"subject/all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return c=t.sent,t.abrupt("return",c.data.data);case 4:case"end":return t.stop()}}),t)}))))}var B=t(130),q=function(e){var a,t,c;return null===e||void 0===e||null===(a=e.trim())||void 0===a||null===(t=a.toLowerCase())||void 0===t||null===(c=t.replace(/[^\w ]+/g,""))||void 0===c?void 0:c.replace(/ +/g,"-")},I=function(e,a){return e.substr(0,a)},P=function(e){return e?e.replaceAll("-"," "):""},D=function(){var e=Object(j.a)(d.a.mark((function e(a){var t,c,s,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],c=Object.keys(a[0]),t.push(c.join(",")),s=Object(B.a)(a);try{for(r=function(){var e=n.value,a=c.map((function(a){var t=(""+e[a]).replace(/"/g,'\\"');return'"'.concat(t,'"')}));t.push(a.join(","))},s.s();!(n=s.n()).done;)r()}catch(i){s.e(i)}finally{s.f()}return e.abrupt("return",t.join("\n"));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),U=function(){var e=Object(j.a)(d.a.mark((function e(a,t){var c,s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=new Blob([a],{type:"text/csv"}),s=window.URL.createObjectURL(c),(n=document.createElement("a")).setAttribute("hidden",""),n.setAttribute("href",s),n.setAttribute("download","".concat(t,".csv")),document.body.appendChild(n),n.click(),document.body.removeChild(n);case 9:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();var G=function(e){var a=e.sub,t=Object(c.useContext)(b.a).state,s=Object(l.g)(),n=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.push("delete-data/subject/delete/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"subject-card",id:"card-".concat(a._id),children:[Object(x.jsxs)("div",{className:"subject-card-body",children:[Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Subject Id:"}),Object(x.jsx)("div",{className:"name-main",children:a._id})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Subject Name:"}),Object(x.jsx)("div",{className:"name-main",children:a.subject})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Created On:"}),Object(x.jsx)("div",{className:"name-main date",children:a.created_at.split("T")[0]})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Status:"}),Object(x.jsx)("div",{className:"name-main",children:1==a.status?"Active":"Inactive"})]})]}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsxs)("div",{className:"subject-card-heading",children:[Object(x.jsx)("div",{}),Object(x.jsxs)("div",{children:[Object(x.jsx)(w.a,{className:"delBtn",onClick:function(e){return s.push("sub-subject/".concat(q(a.subject),"/").concat(a._id))},children:Object(x.jsx)("span",{className:"fa fa-eye text-success mr-2"})}),Object(x.jsx)(w.a,{className:"delBtn",onClick:function(e){return s.push("/subject-update/".concat(a._id))},children:Object(x.jsx)("span",{className:"fa fa-edit text-success mr-2"})}),1==t.role&&Object(x.jsx)(w.a,{className:"delBtn",onClick:n.bind(this,a._id),children:Object(x.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})]},a._id)};var F=t(16),M=Object(c.createContext)(),z=function(e,a){switch(a.type){case"GET_ALL_SUBJECT":return Object(v.a)(Object(v.a)({},e),{},{Subjects:a.payload});case"GET_ALL_SUB_SUBJECT":return Object(v.a)(Object(v.a)({},e),{},{SubSubjects:a.payload});case"SET_SUBJECT":return Object(v.a)(Object(v.a)({},e),{},{singleSubject:a.payload});default:return e}};var Q=function(e){var a=e.children,t=Object(c.useReducer)(z,{Subjects:[],SubSubjects:[],singleSubject:null}),s=Object(y.a)(t,2),n=s[0],r=s[1];return Object(x.jsx)(M.Provider,{value:{state:n,dispatch:r},children:a})};function V(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(c.useContext)(b.a).state,s=Object(c.useContext)(F.a),n=s.state,r=s.dispatch,o=Object(c.useContext)(M),u=o.state,m=o.dispatch,h=Object(c.useState)(""),p=Object(y.a)(h,2),O=p[0],f=p[1];function N(){return(N=Object(j.a)(d.a.mark((function t(c){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),s=null,""!=O){t.next=6;break}r({type:"SET_ERROR",payload:"Please Enter Subject Name"}),t.next=17;break;case 6:if(!a.id){t.next=12;break}return t.next=9,C.c("subject/update/".concat(a.id),O);case 9:s=t.sent,t.next=15;break;case 12:return t.next=14,C.d("subject/create",O);case 14:s=t.sent;case 15:r({type:"SET_SUCCESS",payload:s.message}),e.push("/subject");case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=Object(j.a)(d.a.mark((function e(a){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.value,c=t.replace(/[^a-zA-Z0-9, ]/g,""),f(Object(v.a)(Object(v.a)({},O),{},{subject:c}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=Object(S.a)({method:"get",url:"subject/view/".concat(a.id)}).response,E=Object(c.useState)(""),R=Object(y.a)(E,2),L=R[0],A=R[1];return Object(c.useEffect)((function(){if(null!==_){var e=_.data;m({type:"SET_SUBJECT",payload:e}),u&&A(e.subject)}}),[a.id,_]),Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[n.error,n.success]),Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&n&&u&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Create New Subject"})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsxs)("div",{className:"org-main-area",children:[Object(x.jsx)("div",{className:"col-md-3 pl-0",children:Object(x.jsx)(i.b,{to:"/subject",className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})})}),Object(x.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[n.error&&Object(x.jsx)(T.a,{children:n.error}),n.success&&Object(x.jsx)(T.a,{children:n.success}),Object(x.jsxs)(k.a,{method:"POST",className:"col-md-6 p-0",children:[Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Subject Name"}),Object(x.jsx)(k.a.Control,{name:"subject",autoComplete:"off",defaultValue:L,onChange:function(e){return g.apply(this,arguments)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Subject Name"})]}),Object(x.jsx)(k.a.Group,{children:Object(x.jsx)(w.a,{onClick:function(e){return N.apply(this,arguments)},className:"btn dark btn-sm",children:a.id?"Update Subject":"Save Subject"})})]})]})]})})]})})})})}var K=function(e){var a=e.sub,t=Object(l.g)(),c=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("delete-data/sub-subject/delete/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"small-card",id:"card-".concat(a._id),children:[Object(x.jsxs)("div",{className:"subject-card-body",children:[Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Subject:"}),Object(x.jsx)("div",{className:"name-main date",children:a.subject})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Sub Subject Id:"}),Object(x.jsx)("div",{className:"name-main date",children:a._id})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Sub Subject:"}),Object(x.jsx)("div",{className:"name-main date",children:a.sub_subject})]})]}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsxs)("div",{className:"subject-card-heading",children:[Object(x.jsx)("div",{}),Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{className:"delBtn",onClick:function(e){return t.push("/books/".concat(q(a.subject),"/").concat(q(a.sub_subject),"/").concat(a._id))},children:Object(x.jsx)("span",{className:"fa fa-eye text-success mr-2"})}),Object(x.jsx)("button",{className:"delBtn",onClick:function(e){return t.push("/sub-subject/update/".concat(a._id))},children:Object(x.jsx)("span",{className:"fa fa-edit text-success mr-2"})}),Object(x.jsx)(w.a,{className:"delBtn",onClick:c.bind(this,a._id),children:Object(x.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})]},a._id)};var J=t(24);function H(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(c.useContext)(b.a).state,s=Object(c.useContext)(F.a),n=s.state,r=s.dispatch,o=Object(c.useContext)(M),u=o.state,m=o.dispatch,h=Object(c.useState)(""),p=Object(y.a)(h,2),O=p[0],f=p[1];function N(){return(N=Object(j.a)(d.a.mark((function t(c){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),s=null,""!=O){t.next=6;break}r({type:"SET_ERROR",payload:"Please Enter Subject Name"}),t.next=19;break;case 6:if(O.subject=a.subject_name,O.subject_id=a.subject_id,!a.id){t.next=14;break}return t.next=11,C.c("subject/update/".concat(a.id),O);case 11:s=t.sent,t.next=17;break;case 14:return t.next=16,C.d("sub-subject/create",O);case 16:s=t.sent;case 17:r({type:"SET_SUCCESS",payload:s.message}),e.push("/sub-subject/".concat(a.subject_name,"/").concat(a.subject_id));case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(e){return _.apply(this,arguments)}function _(){return(_=Object(j.a)(d.a.mark((function e(a){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.value,c=t.replace(/[^a-zA-Z0-9, ]/g,""),f(Object(v.a)(Object(v.a)({},O),{},Object(J.a)({},a.target.name,c)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=Object(S.a)({method:"get",url:"subject/all"}).response,R=Object(c.useState)([]),L=Object(y.a)(R,2),A=L[0],B=L[1];return Object(c.useEffect)((function(){if(null!==E){var e=E.data;m({type:"GET_ALL_SUBJECT",payload:e}),e&&B(e)}}),[E,A]),Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[n.error,n.success]),Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&n&&u.Subjects&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Create New Subject"})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsxs)("div",{className:"org-main-area",children:[Object(x.jsx)("div",{className:"col-md-3 pl-0",children:a.subject_name?Object(x.jsx)(i.b,{to:"/sub-subject/".concat(a.subject_name,"/").concat(a.subject_id),className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})}):Object(x.jsx)(i.b,{to:"/sub-subject",className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})})}),Object(x.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[n.error&&Object(x.jsx)(T.a,{children:n.error}),n.success&&Object(x.jsx)(T.a,{children:n.success}),Object(x.jsxs)(k.a,{method:"POST",className:"col-md-6 p-0",children:[Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Subject Name"}),a.subject_name?Object(x.jsx)(k.a.Control,{name:"subject",autoComplete:"off",defaultValue:a.subject_name,onChange:g,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Subject Name"}):Object(x.jsxs)("select",{className:"form-control",name:"subject",autoComplete:"off",onChange:function(a){var t=a.target.value,c=t.split("_")[0],s=t.split("_")[1];e.push("/sub-subject/".concat(c.trim().replace(" ","-").toLowerCase(),"/create/").concat(s))},children:[Object(x.jsx)("option",{children:"Select Subject"}),u.Subjects.map((function(e){return Object(x.jsx)("option",{value:e.subject+"_"+e._id,children:e.subject},e._id)}))]})]}),Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Sub Subject Name"}),Object(x.jsx)(k.a.Control,{name:"sub_subject",autoComplete:"off",onChange:g,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"E.g subject1, subject1, subject3"})]}),Object(x.jsx)(k.a.Group,{children:Object(x.jsx)(w.a,{onClick:function(e){return N.apply(this,arguments)},className:"btn dark btn-sm",children:a.id?"Update Subject":"Save Subject"})})]})]})]})})]})})})})}function Y(){var e=Object(c.useContext)(b.a).state,a="";return a=O.a,Object(L.a)("SubSubjects",Object(j.a)(d.a.mark((function t(){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("".concat(a,"sub-subject/all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return c=t.sent,t.abrupt("return",c.data.data);case 4:case"end":return t.stop()}}),t)}))))}function Z(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(c.useContext)(b.a).state,s=Object(c.useContext)(F.a),n=s.state,r=s.dispatch,o=Object(c.useContext)(M),u=o.state,m=o.dispatch,h=new FormData;function p(){return(p=Object(j.a)(d.a.mark((function t(c){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),s=null,""!=h){t.next=6;break}r({type:"SET_ERROR",payload:"Please Enter Subject Name"}),t.next=14;break;case 6:return h.append("subject",a.subject_name),h.append("subject_id",a.subject_id),t.next=10,C.d("sub-subject/upload",h);case 10:s=t.sent,console.log(s),r({type:"SET_SUCCESS",payload:s.message}),e.push("/sub-subject/".concat(a.subject_name,"/").concat(a.subject_id));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(e){return f.apply(this,arguments)}function f(){return(f=Object(j.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.files[0].name,"csv"===t.split(".")[1]?h.append("file",a.target.files[0]):r({type:"SET_ERROR",payload:"Only .csv files are allowed"});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=Object(S.a)({method:"get",url:"subject/all"}).response,N=Object(c.useState)([]),g=Object(y.a)(N,2),_=g[0],E=g[1];return Object(c.useEffect)((function(){if(null!==v){var e=v.data;m({type:"GET_ALL_SUBJECT",payload:e}),e&&E(e)}}),[v,_]),Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[n.error,n.success]),Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&n&&u.Subjects&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Upload SubSubject"})}),n.error&&Object(x.jsx)(T.a,{children:n.error}),n.success&&Object(x.jsx)(T.a,{children:n.success}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-md-1 pl-3",children:a.subject_name?Object(x.jsx)(i.b,{to:"/sub-subject/".concat(a.subject_name,"/").concat(a.subject_id),className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})}):Object(x.jsx)(i.b,{to:"/sub-subject",className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})})}),Object(x.jsx)("div",{className:"col-md-5 pl-0",children:Object(x.jsx)("a",{href:"/sampledata/sub_subject_sample.csv",download:!0,children:"Download Sample File"})})]})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsx)("div",{className:"org-main-area",children:Object(x.jsxs)(k.a,{method:"POST",className:"col-md-6 p-0",encType:"multipart/form-data",children:[Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Subject Name"}),a.subject_name?Object(x.jsx)(k.a.Control,{name:"subject",autoComplete:"off",defaultValue:a.subject_name,onChange:O,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Subject Name"}):Object(x.jsxs)("select",{className:"form-control",name:"subject",autoComplete:"off",onChange:function(a){var t=a.target.value,c=t.split("_")[0],s=t.split("_")[1];e.push("/sub-subject/".concat(c.trim().replace(" ","-").toLowerCase(),"/upload/").concat(s))},children:[Object(x.jsx)("option",{children:"Select Subject"}),u.Subjects.map((function(e){return Object(x.jsx)("option",{value:e.subject+"_"+e._id,children:e.subject},e._id)}))]})]}),Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Upload Sub Subject Name File .csv format only"}),Object(x.jsx)(k.a.Control,{name:"sub_subject",autoComplete:"off",type:"file",accept:".csv,",onChange:O,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(x.jsx)(k.a.Group,{children:Object(x.jsx)(w.a,{onClick:function(e){return p.apply(this,arguments)},className:"btn dark btn-sm",children:a.id?"Update Subject":"Save Subject"})})]})})})]})})})})}function W(){var e=Object(c.useContext)(b.a).state,a=Object(l.i)(),t=Object(c.useContext)(m.a).state,s="";s=O.a;var n=null===t.CurrentPage?1:t.CurrentPage,r="";return r=a.sub_subject_id?"".concat(s,"books/view-all/").concat(a.sub_subject_id,"/").concat(n,"/").concat(30):"".concat(s,"books/view-all/").concat(n,"/").concat(30),Object(L.a)(["books/".concat(a.sub_subject_id),n],Object(j.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.get(r,{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return t=a.sent,a.abrupt("return",{data:t.data.data,pagination:{currentPage:t.data.currentPage,hasNextPage:t.data.hasNextPage,hasPrevPage:t.data.hasPrevPage,next:t.data.next,pageCount:t.data.pageCount,itemCount:t.data.itemCount,prev:t.data.prev}});case 4:case"end":return a.stop()}}),a)}))))}var X=function(e){var a=e.isbn,t=e.width,s=Object(c.useState)(""),n=Object(y.a)(s,2),r=n[0],i=n[1];return Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("https://pictures.abebooks.com/isbn/".concat(a,"-us-300.jpg"),{header:{"Cotnent-Type":"application/json","Access-Control-Allow-Origin":"*",origin:"https://pictures.abebooks.com/"}});case 3:200===e.sent.status&&i("https://pictures.abebooks.com/isbn/".concat(a,"-us-300.jpg")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i("https://www.crazyforstudy.com/uploads/book-images-with-text/IMG-".concat(a,".jpg"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),Object(x.jsxs)(x.Fragment,{children:[r&&Object(x.jsx)("img",{src:r,style:{width:t}}),!r&&Object(x.jsx)("div",{className:"book_image_container",children:Object(x.jsx)("img",{src:r,style:{width:t}})})]})},$=t(64),ee=t(228),ae=t(48),te=t.n(ae),ce=t(29);var se=function(e){var a=e.books,t=Object(l.g)(),s=(Object(l.i)(),Object(ce.useToasts)().addToast),n=Object(l.h)().pathname,r=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("delete-data/books/delete/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),i=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/books-create/".concat(q(a.subject_name),"/").concat(a.subject_id,"/").concat(a.book_id));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),o=function(){var e=Object(j.a)(d.a.mark((function e(a,c,s){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=q(c),t.push("/upload-chapters/".concat(a,"/").concat(n,"/").concat(s));case 2:case"end":return e.stop()}}),e)})));return function(a,t,c){return e.apply(this,arguments)}}(),u=Object(c.useContext)(b.a).state,m="";m=O.a;var h={headers:{"Content-Type":"application/json",Authorization:"Bearer "+u.access_token}},f=function(){var e=Object(j.a)(d.a.mark((function e(a,c,s){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=q(c),t.push("/book-chapters/".concat(a,"/").concat(n,"/").concat(s));case 2:case"end":return e.stop()}}),e)})));return function(a,t,c){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(d.a.mark((function e(a,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/book-rating-review/".concat(a,"/").concat(c));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(d.a.mark((function e(a,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/book-check-quality/".concat(a,"/").concat(c));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),g=Object($.b)(),_=Object(ee.a)((function(e){return p.a.post("".concat(m,"books/update-published-status"),e,h)}),{onSuccess:function(){g.invalidateQueries("books"),t.push("".concat(n)),s("Freelancer Published status updated",{appearance:"success",autoDismiss:!0})}}),k=Object(c.useState)(!1),C=Object(y.a)(k,2),S=C[0],E=C[1],T=function(){var e=Object(j.a)(d.a.mark((function e(a){var t,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.book_id,c=a.status,E(c),s={book_id:t,published:c},e.next=5,_.mutate(s);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"subject-card-heading mt-2",children:[Object(x.jsx)("div",{children:Object(x.jsx)(te.a,{onChange:T.bind(this,{book_id:a._id,status:!S}),checked:a.published?a.published:S,className:"react-switch displayIcon mr-2",height:20,width:48,handleDiameter:22,onHandleColor:"#f00",boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.5)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",title:"freelance tutoring"})}),Object(x.jsxs)("div",{children:[Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1",title:"QC Details",onClick:N.bind(this,a.ISBN13,a._id),children:Object(x.jsx)("span",{className:"fa fa-thumbs-up displayIcon text-warning mr-2"})}),Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1",title:"Review and Rating",onClick:v.bind(this,a.ISBN13,a._id),children:Object(x.jsx)("span",{className:"fa fa-star displayIcon text-danger mr-2"})}),Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1",title:"View chapters & Questions",onClick:f.bind(this,a.ISBN13,a.BookName,a._id),children:Object(x.jsx)("span",{className:"fa fa-eye displayIcon text-secondary mr-2"})}),Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1",title:"Upload Chapters and Questions",onClick:o.bind(this,a.ISBN13,a.BookName,a._id),children:Object(x.jsx)("span",{className:"fa fa-cloud displayIcon text-success mr-2"})}),Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1",title:"Update Books",onClick:i.bind(this,{subject_name:a.subject_name,subject_id:a.subject_id,book_id:a._id}),children:Object(x.jsx)("span",{className:"fa fa-pencil-square-o displayIcon text-secondary mr-2"})}),Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1",title:"Delete Books",onClick:r.bind(this,a._id),children:Object(x.jsx)("span",{className:"fa fa-trash displayIcon text-danger mr-2"})})]})]})};function ne(e){var a=e.books,t=e.width,c=e.heading;return Object(x.jsxs)("div",{className:"subject-card",style:{width:t+"%"},id:"card-".concat(a._id),children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-md-3 pr-0",children:Object(x.jsx)(X,{isbn:a.ISBN13,width:"100%"})}),Object(x.jsx)("div",{className:"col-md-9",children:Object(x.jsxs)("div",{className:"subject-card-body",children:[Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"BookName:"}),Object(x.jsx)("div",{className:"name-main",children:I(a.BookName,20)})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Subject:"}),Object(x.jsx)("div",{className:"name-main",children:a.subject_name})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Sub Subject:"}),Object(x.jsx)("div",{className:"name-main",children:P(a.sub_subject_name)})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"ISBN13:"}),Object(x.jsx)("div",{className:"name-main",children:a.ISBN13})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Book Edition:"}),Object(x.jsx)("div",{className:"name-main",children:a.Edition})]})]})})]}),c&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsx)(se,{books:a})]})]},a._id)}var re=function(){Object(l.g)();var e=Object(c.useContext)(b.a).state,a=s.a.useState(""),t=Object(y.a)(a,2),n=t[0],r=t[1],i=s.a.useState([]),o=Object(y.a)(i,2),u=o[0],m=o[1],h=s.a.useState(!1),f=Object(y.a)(h,2),v=f[0],N=f[1],g="";return g=O.a,s.a.useEffect((function(){function a(){return(a=Object(j.a)(d.a.mark((function a(t){var c,s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t&&t.length>=3)){a.next=9;break}return N(!0),a.next=4,p.a.get("".concat(g,"books/search/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 4:c=a.sent,(s=c.data.data).length?(m(s),N(!1)):(N(!0),m([])),a.next=11;break;case 9:N(!0),m([]);case 11:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(e){a.apply(this,arguments)}(n)}),[n,u.length]),Object(x.jsxs)("div",{style:{position:"relative",width:"250px"},children:[Object(x.jsx)("div",{children:Object(x.jsx)(k.a,{children:Object(x.jsx)(k.a.Group,{style:{margin:"0px 10px"},children:Object(x.jsx)(k.a.Control,{name:"isbn",value:n,placeholder:"Search Book by ISBN 13",autoFocus:!0,autoComplete:"off",maxLength:"13",onChange:function(e){r(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})})})}),!v&&Object(x.jsx)("div",{className:"search-result",children:Object(x.jsx)("ul",{children:u&&u.map((function(e){return Object(x.jsxs)("li",{className:"items pb-2",children:[Object(x.jsxs)("div",{className:"row p-2",children:[Object(x.jsx)("div",{className:"col-md-3 pl-0",children:Object(x.jsx)(X,{isbn:e.ISBN13,width:"100%"})}),Object(x.jsx)("div",{className:"col-md-9",children:Object(x.jsxs)("div",{className:"subject-card-body",children:[Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"BookName:"}),Object(x.jsx)("div",{className:"name-main",children:I(e.BookName,20)})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Subject:"}),Object(x.jsx)("div",{className:"name-main",children:e.subject_name})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Sub Subject:"}),Object(x.jsx)("div",{className:"name-main",children:P(e.sub_subject_name)})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"ISBN13:"}),Object(x.jsx)("div",{className:"name-main",children:e.ISBN13})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Book Edition:"}),Object(x.jsx)("div",{className:"name-main",children:e.Edition})]})]})})]}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsx)(se,{books:e})]},e._id)}))})}),0===u.length&&n.length>3&&Object(x.jsx)("div",{className:"col-md-12 search-result",children:Object(x.jsx)("ul",{children:Object(x.jsx)("li",{className:"items",children:Object(x.jsx)("p",{className:"book_item",children:"No Matching Results Found"})})})})]})};var ie=function(){var e=Object(l.g)(),a=Object(c.useContext)(m.a).dispatch,t=Object(l.i)(),s=Y().data;return Object(x.jsx)("div",{style:{width:"220px"},className:"mr-1",children:Object(x.jsxs)("select",{className:"form-control",name:"category",onChange:function(t){if("1"===t.target.value)e.push("/books");else{var c=function(e){var a=e.split("-");return{id:a[0],value:q(a[1]),value2:q(a[2])}}(t.target.value);window.localStorage.setItem("pageno",1),a({type:"Book_CurrentPage",payload:1}),e.push("/books/".concat(c.value2,"/").concat(c.value,"/").concat(c.id))}},children:[Object(x.jsx)("option",{value:"1",children:"Subject"}),s&&s.map((function(e){return Object(x.jsx)("option",{value:"".concat(e._id,"-").concat(e.sub_subject,"-").concat(e.subject),selected:t.sub_subject_id===e._id?"selected":"",children:e.sub_subject})}))]})})},le=t(133);var oe=function(e){var a=e.pagination,t=Object(c.useState)(1),s=Object(y.a)(t,2),n=s[0],r=s[1],i=Object(c.useContext)(m.a).dispatch,l=W().isLoading;return Object(c.useEffect)((function(){i({type:"Book_CurrentPage",payload:n}),void 0===window.localStorage.getItem("pageno")||null===window.localStorage.getItem("pageno")?window.localStorage.setItem("pageno",1):window.localStorage.setItem("pageno",n)}),[n]),Object(x.jsxs)("div",{style:{display:"flex",flexContent:"space-between"},children:[Object(x.jsxs)(w.a,{className:"dark",disabled:a&&!a.hasPrevPage,value:a&&a.prev,onClick:function(e){return r(e.target.value)},children:[" ",Object(x.jsx)("span",{className:"fa fa-arrow-circle-o-left text-success"})]}),Object(x.jsxs)("select",{className:"form-control",onChange:function(e){return r(e.target.value)},children:[Object(x.jsx)("option",{value:"1",children:l?"Pro...":"Page"}),Object(le.a)(Array(a&&a.pageCount).fill().map((function(e,t){return Object(x.jsx)("option",{value:t+1,selected:a&&a.currentPage===+t+1?"selected":"",children:t+1},t+1)})))]}),Object(x.jsxs)(w.a,{className:"dark",value:a&&a.next,disabled:a&&!a.hasNextPage,onClick:function(e){return r(e.target.value)},children:[" ",Object(x.jsx)("span",{className:"fa fa-arrow-circle-o-right text-success"})]})]})};function de(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(c.useContext)(b.a).state,s=Object(c.useContext)(F.a),n=s.state,r=s.dispatch,o=Object(c.useContext)(M),u=o.state,m=o.dispatch,h=new FormData,f=Object(c.useState)(null),v=Object(y.a)(f,2),N=v[0],g=v[1],_=Object(c.useState)(null),C=Object(y.a)(_,2),E=C[0],R=C[1],L=Object(c.useState)(!1),A=Object(y.a)(L,2),B=A[0],q=A[1],I="";I=O.a;var P={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}};function D(){return(D=Object(j.a)(d.a.mark((function t(c){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),console.log(h.file),s=null,""!=h.sub_subject_name){t.next=7;break}r({type:"SET_ERROR",payload:"Please Select sub subject"}),t.next=18;break;case 7:return h.append("subject_name",a.subject_name),h.append("subject_id",a.subject_id),h.append("sub_subject_name",N),h.append("sub_subject_id",E),h.append("file",W),q(!0),Q(!0),t.next=16,p.a.post("".concat(I,"books/upload"),h,P);case 16:200===(s=t.sent).status?e.push("/books/".concat(a.subject_name,"/").concat(N,"/").concat(E)):(r({type:"SET_SUCCESS",payload:s.message}),Q(!1),q(!1),e.push("/books-upload/".concat(N,"/").concat(E)));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var U=Object(c.useState)(!0),G=Object(y.a)(U,2),z=G[0],Q=G[1],V=Object(c.useState)(!0),K=Object(y.a)(V,2),J=K[0],H=K[1],Y=Object(c.useState)(null),Z=Object(y.a)(Y,2),W=Z[0],X=Z[1];function $(){return($=Object(j.a)(d.a.mark((function e(a){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.files[0].name,console.log("file onchange ",t),c=t.split(".")[1],console.log(c),"csv"===c?(Q(!1),X(a.target.files[0]),h.append("file",a.target.files[0])):(Q(!0),r({type:"SET_ERROR",payload:"Only .csv files are allowed"}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=Object(S.a)({method:"get",url:"subject/all"}).response,ae=Object(S.a)({method:"get",url:"sub-subject/subject/".concat(a.subject_id)}).response,te=Object(c.useState)([]),ce=Object(y.a)(te,2),se=ce[0],ne=ce[1];return Object(c.useEffect)((function(){if(null!==ee){var e=ee.data;m({type:"GET_ALL_SUBJECT",payload:e}),e&&ne(e)}if(null!==ae){var a=ae.data;m({type:"GET_ALL_SUB_SUBJECT",payload:a})}}),[ee,se,ae]),Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[n.error,n.success]),Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&n&&u.Subjects&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsxs)("h2",{children:["Upload Books ",a.subject_name]})}),n.error&&Object(x.jsx)(T.a,{children:n.error}),n.success&&Object(x.jsx)(T.a,{children:n.success}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-md-1 pl-3",children:a.subject_name?Object(x.jsx)(i.b,{to:"/books-upload",className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})}):Object(x.jsx)(i.b,{to:"/books",className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(x.jsx)("div",{className:"col-md-5 pl-0",children:Object(x.jsx)("a",{href:"/sampledata/book_simple_upload.csv",download:!0,children:"Download Sample File"})})]})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsx)("div",{className:"org-main-area",children:Object(x.jsx)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:Object(x.jsxs)(k.a,{method:"POST",className:"col-md-6 p-0",encType:"multipart/form-data",children:[Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Subject Name"}),a.subject_name?Object(x.jsx)(k.a.Control,{name:"subject",autoComplete:"off",defaultValue:a.subject_name,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Subject Name"}):Object(x.jsxs)("select",{className:"form-control",name:"subject",autoComplete:"off",onChange:function(a){var t=a.target.value,c=t.split("_")[0],s=t.split("_")[1];e.push("/books-upload/".concat(c.trim().replace(" ","-").toLowerCase(),"/").concat(s))},children:[Object(x.jsx)("option",{children:"Select Subject"}),u.Subjects.map((function(e){return Object(x.jsx)("option",{value:e.subject+"_"+e._id,children:e.subject},e._id)}))]})]}),a.subject_name&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"SubSubject Name"}),Object(x.jsxs)("select",{className:"form-control",name:"sub_subject",autoComplete:"off",onChange:function(e){var a=e.target.value,t=a.split("_")[0],c=a.split("_")[1],s=t.trim().replace(" ","-").toLowerCase();g(s),R(c),H(!1)},children:[Object(x.jsx)("option",{children:"Select Sub Subject"}),u.SubSubjects.map((function(e){var a=e.sub_subject.toLowerCase().trim().replaceAll(" ","-"),t=a+"_"+e._id;return Object(x.jsx)("option",{value:t,children:a},e._id)}))]})]})}),Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Upload Books File .csv format only"}),Object(x.jsx)(k.a.Control,{name:"books",autoComplete:"off",type:"file",accept:".csv,",disabled:J,onChange:function(e){return $.apply(this,arguments)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(x.jsx)(k.a.Group,{children:Object(x.jsx)(w.a,{onClick:function(e){return D.apply(this,arguments)},disabled:B&&z,className:"btn dark btn-sm",children:B?"processing...":"Upload Books"})})]})})})})]})})})})}function je(){var e=Object(l.i)().book_id,a=Object(c.useContext)(b.a).state,t="";return t=O.a,Object(L.a)(["books",e],Object(j.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,p.a.get("".concat(t,"books/view/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data.data);case 4:case"end":return c.stop()}}),c)}))))}function ue(){var e=Object(l.i)().isbn,a=Object(c.useContext)(b.a).state,t="";return t=O.a,Object(L.a)(["chapters",e],Object(j.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,p.a.get("".concat(t,"chapter/questions/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data);case 4:case"end":return c.stop()}}),c)}))))}var be=t(131),me=t.n(be);t(206);var he=function(e){var a=e.problem,t=(e.search,Object(l.g)()),c=me()(a.question);return void 0!==c.problem?c&&c.props.children[0]:a.question,Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"card col-md-12 mb-2",children:[Object(x.jsx)("div",{className:"card-title col-md-12 p-0 mb-0",id:a.problem_no,children:Object(x.jsxs)("div",{className:"subject-card-heading pt-2",children:[Object(x.jsxs)("div",{className:"problem_no",children:["Q.No: ",a.problem_no," "]}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{className:"btn btn-sm dark",onClick:function(e){t.push("/book-chapter-add-question/".concat(e.q_id))}.bind(this,{q_id:a.q_id}),children:"Manage Question"})})]})}),a&&""!=a.question&&Object(x.jsxs)("div",{className:"card-body",style:{padding:"0px 0px 10px 0px"},children:[Object(x.jsx)("hr",{style:{padding:"0px",margin:"5px 0px"}}),Object(x.jsx)("div",{className:"card-text question",id:"high",dangerouslySetInnerHTML:{__html:a&&a.question}}),a.image&&Object(x.jsx)("div",{style:{height:"130px",overflow:"hidden",marginTop:"10px"},children:Object(x.jsx)("img",{src:a&&a.image})}),Object(x.jsx)("div",{className:"answer",dangerouslySetInnerHTML:{__html:a&&a.answer}})]})]},a.problem_no)})};var pe=t(91);var Oe=function(e){var a=e.review,t=Object(l.g)(),s=Object(l.i)(),n=Object(ce.useToasts)().addToast,r=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/book-rating-review/".concat(s.isbn,"/").concat(s.book_id,"/").concat(a));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),i=Object(c.useContext)(b.a).state,o="";o=O.a;var u={headers:{"Content-Type":"application/json",Authorization:"Bearer "+i.access_token}},m=Object($.b)(),h=Object(ee.a)((function(e){return p.a.post("".concat(o,"books/update-review-status"),e,u)}),{onSuccess:function(){m.invalidateQueries("reviews"),t.push("/book-rating-review/".concat(s.isbn,"/").concat(s.book_id)),n("Status Updated Successfully",{appearance:"success",autoDismiss:!0}),document.getElementById("reviewDiv").scrollTop=0}}),f=Object(c.useState)(!1),v=Object(y.a)(f,2),N=v[0],g=v[1],_=function(){var e=Object(j.a)(d.a.mark((function e(a){var t,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.review_id,c=a.status,g(c),n={book_id:s.book_id,review_id:t,status:c},e.next=5,h.mutate(n);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),k=Object(c.useState)(!1),C=Object(y.a)(k,2),S=C[0],E=C[1],T=Object(ee.a)((function(e){return p.a.delete("".concat(o,"books/delete-review/").concat(s.book_id,"/").concat(e.review_id),u)}),{onSuccess:function(){m.invalidateQueries("reviews"),t.push("/book-rating-review/".concat(s.isbn,"/").concat(s.book_id)),n("Deleted Successfully",{appearance:"success",autoDismiss:!0}),document.getElementById("reviewDiv").scrollTop=0}}),R=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,T.mutate({review_id:a});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"subject-card-heading",children:[Object(x.jsx)("div",{children:Object(x.jsx)(te.a,{onChange:_.bind(this,{review_id:a._id,status:!N}),checked:a.status?a.status:N,className:"react-switch mr-2",height:20,width:48,handleDiameter:22,onHandleColor:"#f00",boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.5)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)"})}),Object(x.jsxs)("div",{children:[Object(x.jsx)(w.a,{className:"delBtn mr-2 ml-2",title:"Update Review",onClick:r.bind(this,a._id),children:Object(x.jsx)("span",{className:"fa fa-pencil-square-o text-secondary mr-2"})}),Object(x.jsx)(w.a,{className:"delBtn ml-2 mr-2",title:"Delete Review",onClick:R.bind(this,a._id),children:S?Object(x.jsx)("span",{className:"fa fa-spinner text-danger mr-2"}):Object(x.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})};function xe(e){var a=e.data,t=e.qc_data;return Object(x.jsxs)("div",{className:"subject-card",style:{width:"90%"},children:[Object(x.jsxs)("div",{className:"row col-md-12 pr-0",children:[Object(x.jsx)("div",{className:"col-md-4 pl-0 pr-0",children:Object(x.jsx)(X,{isbn:a.ISBN13,width:"76%"})}),Object(x.jsxs)("div",{className:"col-md-8 pr-0 pl-0",children:[Object(x.jsxs)("div",{className:"admin-name mt-0 mb-3",children:[Object(x.jsx)("div",{className:"name-label",children:"Author:"}),Object(x.jsx)("div",{className:"name-main",children:a.Author1})]}),Object(x.jsxs)("div",{className:"admin-name mt-3 mb-3",children:[Object(x.jsx)("div",{className:"name-label",children:"ISBN-13:"}),Object(x.jsx)("div",{className:"name-main",children:a.ISBN13})]}),Object(x.jsxs)("div",{className:"admin-name mt-3 mb-3",children:[Object(x.jsx)("div",{className:"name-label",children:"Subject:"}),Object(x.jsxs)("div",{className:"name-main",children:[a.subject_name,"/",a.sub_subject_name]})]}),Object(x.jsxs)("div",{className:"admin-name mt-1 mb-1",children:[Object(x.jsx)("div",{className:"name-label",children:"Total Reviews:"}),Object(x.jsx)("div",{className:"name-main",children:a.reviews.length})]})]})]}),Object(x.jsx)("hr",{className:"pt-1 pb-0"}),Object(x.jsxs)("div",{className:"admin-name mt-1 p-2",style:{border:"1px solid #ddd"},children:[Object(x.jsx)("div",{className:"name-label pt-1",children:"Total Question:"}),Object(x.jsx)("div",{className:"name-main",children:Object(x.jsxs)("button",{className:"counter",children:["Total - ",null===t||void 0===t?void 0:t.total_question]})})]}),Object(x.jsxs)("div",{className:"admin-name mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(x.jsx)("div",{className:"name-label pt-1",children:"Pending For QC:"}),Object(x.jsx)("div",{className:"name-main",children:Object(x.jsxs)("button",{className:"counter btn-danger",children:["Total - ",(null===t||void 0===t?void 0:t.total_pending_qc)?null===t||void 0===t?void 0:t.total_pending_qc:"0"]})})]}),Object(x.jsxs)("div",{className:"admin-name mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(x.jsx)("div",{className:"name-label pt-1",children:"Solved:"}),Object(x.jsx)("div",{className:"name-main",children:Object(x.jsxs)("button",{className:"counter btn-success",children:["Total - ",(null===t||void 0===t?void 0:t.total_solved)?null===t||void 0===t?void 0:t.total_solved:"0"]})})]}),Object(x.jsxs)("div",{className:"admin-name mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(x.jsx)("div",{className:"name-label pt-1",children:"Total Reworked:"}),Object(x.jsx)("div",{className:"name-main",children:Object(x.jsxs)("button",{className:"counter btn-primary",children:["Total -  ",(null===t||void 0===t?void 0:t.total_reworked)?null===t||void 0===t?void 0:t.total_reworked:"0"]})})]}),Object(x.jsxs)("div",{className:"admin-name mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(x.jsx)("div",{className:"name-label pt-1",children:"Total Rejected:"}),Object(x.jsx)("div",{className:"name-main",children:Object(x.jsxs)("button",{className:"counter btn-info",children:["Total -  ",(null===t||void 0===t?void 0:t.total_rejected)?null===t||void 0===t?void 0:t.total_rejected:"0"]})})]})]})}function fe(e){var a=e.data,t=Object(l.g)(),c=Object(l.i)();return Object(x.jsxs)("div",{className:"mt-2 pl-2 pr-2 pt-1 pb-1",style:{border:"1px solid #ddd"},children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsxs)("strong",{children:[a._id.chapter_no,". \xa0 "]}),a._id.chapter_name]}),Object(x.jsx)("div",{className:"clearfix"}),Object(x.jsxs)("div",{className:"admin-name",style:{display:"flex",justifyContent:"start",marginTop:"15px"},children:[(null===a||void 0===a?void 0:a.answered)>0&&Object(x.jsxs)("button",{className:"counter btn-danger mr-2",onClick:function(e){return t.push("/book-check-quality/".concat(c.isbn,"/").concat(c.book_id,"/chapter/").concat(a._id.chapter_no,"/answered"))},children:["Pending QC -- ",a.answered]}),(null===a||void 0===a?void 0:a.approved)>0&&Object(x.jsxs)("button",{className:"counter btn-success mr-2",onClick:function(e){return t.push("/book-check-quality/".concat(c.isbn,"/").concat(c.book_id,"/chapter/").concat(a._id.chapter_no,"/approved"))},children:["Approved -- ",a.approved]}),(null===a||void 0===a?void 0:a.reworked)>0&&Object(x.jsxs)("button",{className:"counter btn-success mr-2",onClick:function(e){return t.push("/book-check-quality/".concat(c.isbn,"/").concat(c.book_id,"/chapter/").concat(a._id.chapter_no,"/reworked"))},children:["Reworked -- ",a.reworked]}),(null===a||void 0===a?void 0:a.rejected)>0&&Object(x.jsxs)("button",{className:"counter btn-success mr-2",onClick:function(e){return t.push("/book-check-quality/".concat(c.isbn,"/").concat(c.book_id,"/chapter/").concat(a._id.chapter_no,"/rejected"))},children:["Rejected -- ",a.rejected]}),(null===a||void 0===a?void 0:a.count)>0&&Object(x.jsxs)("button",{className:"counter btn-primary",onClick:function(e){return t.push("/book-check-quality/".concat(c.isbn,"/").concat(c.book_id,"/chapter/").concat(a._id.chapter_no,"/notassigned"))},children:["Not Assigned -- ",a.count]})]})]})}var ve=t(57),Ne=t(58);var ge=function(e){var a=e.student,t=Object(l.g)(),c=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("delete-data/all-students/delete/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),s=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/student-update/".concat(a.student_id));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"subject-card-heading",children:[Object(x.jsx)("div",{}),Object(x.jsxs)("div",{children:[Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1",onClick:s.bind(this,{student_id:a._id}),children:Object(x.jsx)("span",{className:"fa fa-pencil-square-o text-secondary mr-2"})}),Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1",onClick:c.bind(this,a._id),children:Object(x.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})};var _e=function(e){var a=e.student;return Object(x.jsx)("div",{className:"subject-card",id:"card-".concat(a._id),children:Object(x.jsxs)("div",{className:"subject-card-body",children:[Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Name:"}),Object(x.jsx)("div",{className:"name-main",children:a.fullname})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Email:"}),Object(x.jsx)("div",{className:"name-main",children:a.email})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"School / Colledge:"}),Object(x.jsx)("div",{className:"name-main",children:a.school})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Registered:"}),Object(x.jsx)("div",{className:"name-main",children:a.created_at})]}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsx)(ge,{student:a})]})},a._id)};function ye(e){var a=e.tutor,t=Object(ce.useToasts)().addToast,s=Object(l.h)(),n=Object(l.i)(),r=s.pathname,i=Object(l.g)(),o=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.push("/tutor-details/".concat(a.tutor_id));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),u=Object(c.useContext)(b.a).state,m="";m=O.a;var h={headers:{"Content-Type":"application/json",Authorization:"Bearer "+u.access_token}},f=Object($.b)(),v=Object(ee.a)((function(e){return p.a.post("".concat(m,"tutor/update-status"),e,h)}),{onSuccess:function(){f.invalidateQueries(["tutors/".concat(null===n||void 0===n?void 0:n.status,"/").concat(n.master_subject)]),i.push("".concat(r)),t("Freelancer Published status updated",{appearance:"success",autoDismiss:!0})}}),N=Object(c.useState)(!1),g=Object(y.a)(N,2),_=g[0],k=g[1],C=function(){var e=Object(j.a)(d.a.mark((function e(a){var t,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.tutor_id,c=a.status,k(c),s={tutor_id:t,status:c},e.next=5,v.mutate(s);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"subject-card-heading",children:[Object(x.jsx)("div",{children:Object(x.jsx)(te.a,{onChange:C.bind(this,{tutor_id:a._id,status:!_}),checked:"1"==a.status,className:"react-switch displayIcon mr-2",height:20,width:48,handleDiameter:22,onHandleColor:"#f00",boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.5)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",title:"freelance tutoring"})}),Object(x.jsx)("div",{children:Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1",alt:"See Details",onClick:o.bind(this,{tutor_id:a._id}),children:Object(x.jsx)("span",{className:"fa fa-eye text-success mr-2"})})})]})}function ke(e){var a=e.tutor,t=a.education[0];return Object(x.jsx)("div",{className:"subject-card",id:"card-".concat(a._id),children:Object(x.jsxs)("div",{className:"subject-card-body",children:[Object(x.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(x.jsx)("div",{className:"name-label",children:"Name:"}),Object(x.jsxs)("div",{className:"name-main",children:[a.fname," ",a.lname]})]}),Object(x.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(x.jsx)("div",{className:"name-label",children:"Email:"}),Object(x.jsx)("div",{className:"name-main",children:a.email})]}),Object(x.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(x.jsx)("div",{className:"name-label",children:"Master Subject:"}),Object(x.jsx)("div",{className:"name-main",children:a.master_subject})]}),Object(x.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(x.jsx)("div",{className:"name-label",children:"College:"}),Object(x.jsx)("div",{className:"name-main",children:null===t||void 0===t?void 0:t.college})]}),Object(x.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(x.jsx)("div",{className:"name-label",children:"Class:"}),Object(x.jsx)("div",{className:"name-main",children:null===t||void 0===t?void 0:t.class})]}),Object(x.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(x.jsx)("div",{className:"name-label",children:"Subject:"}),Object(x.jsx)("div",{className:"name-main",children:null===t||void 0===t?void 0:t.subject})]}),Object(x.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(x.jsx)("div",{className:"name-label",children:"Year:"}),Object(x.jsx)("div",{className:"name-main",children:null===t||void 0===t?void 0:t.year})]}),Object(x.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(x.jsx)("div",{className:"name-label",children:"City:"}),Object(x.jsx)("div",{className:"name-main",children:a.city})]}),Object(x.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(x.jsx)("div",{className:"name-label",children:"ZipCode:"}),Object(x.jsx)("div",{className:"name-main",children:a.zipcode})]}),Object(x.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(x.jsx)("div",{className:"name-label",children:"Country:"}),Object(x.jsxs)("div",{className:"name-main",children:[null===a||void 0===a?void 0:a.country,",\xa0 ",null===a||void 0===a?void 0:a.country_full]})]}),Object(x.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(x.jsx)("div",{className:"name-label",children:"Status:"}),Object(x.jsx)("div",{className:"name-main",children:"1"==a.status?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-lock text-success pr-2 pt-1"}),Object(x.jsx)("span",{className:"text-success",children:"Active"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-ban text-danger pr-2 pt-1"}),Object(x.jsx)("span",{className:"text-danger",children:"Blocked"})]})})]}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsx)(ye,{tutor:a})]})},a._id)}function we(){Object(l.i)();var e=Object(c.useContext)(b.a).state,a=Object(c.useContext)(m.a).state,t="";t=O.a;var s=null===a.CurrentPage?1:a.CurrentPage;return Object(L.a)(["faq",s],Object(j.a)(d.a.mark((function a(){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.get("".concat(t,"faq/all/").concat(s,"/").concat(10),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return c=a.sent,a.abrupt("return",{data:c.data.data,pagination:{currentPage:c.data.currentPage,hasNextPage:c.data.hasNextPage,hasPrevPage:c.data.hasPrevPage,next:c.data.next,pageCount:c.data.pageCount,itemCount:c.data.itemCount,prev:c.data.prev}});case 4:case"end":return a.stop()}}),a)}))))}var Ce=function(e){var a=e.faq,t=Object(l.g)(),c=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("delete-data/manage-faq/delete/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),s=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/faq-update/".concat(a.faq_id));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/add-faq-question/".concat(q(a.faq_category),"/").concat(a.faq_id));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"subject-card-heading",children:[Object(x.jsx)("div",{}),Object(x.jsxs)("div",{children:[Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1 text-black",onClick:n.bind(this,{faq_category:a.faq_category,faq_id:a._id}),children:Object(x.jsx)("span",{className:"fa fa-plus-circle text-success mr-2"})}),Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1",onClick:s.bind(this,{faq_id:a._id}),children:Object(x.jsx)("span",{className:"fa fa-pencil-square-o text-secondary mr-2"})}),Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1",onClick:c.bind(this,a._id),children:Object(x.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})};var Se=function(e){var a=e.faq;return Object(x.jsxs)("div",{className:"small-card",id:"card-".concat(a._id),children:[Object(x.jsx)("div",{className:"subject-card-body ",children:Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("img",{src:a.faq_image,style:{width:"100px"}}),Object(x.jsx)("div",{className:"name-main",children:a.faq_category})]})}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsx)(Ce,{faq:a})]},a._id)};var Ee=function(e){var a=e.data,t=Object(l.g)(),c=Object(l.i)();return Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsxs)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:[Object(x.jsx)(w.a,{className:"dark mr-1",onClick:function(e){return t.push("/manage-faq")},children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})}),Object(x.jsxs)(w.a,{className:"dark mr-1",onClick:function(e){return t.push("/manage-faq-category")},children:[Object(x.jsx)("span",{className:"fa fa-plus-circle"}),"\xa0 Add Faq Category"]}),!c.faq_id&&Object(x.jsx)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:Object(x.jsx)(oe,{pagination:a&&a.pagination})})]})})};var Te=function(){var e=Object(l.g)(),a=Object(c.useContext)(b.a).state,t=window.URL||window.webkitURL,s=Object(c.useState)(""),n=Object(y.a)(s,2),r=n[0],i=n[1],o=Object(c.useState)({}),u=Object(y.a)(o,2),m=u[0],h=u[1],f="";f=O.a;var N={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},g=Object(c.useState)(!1),_=Object(y.a)(g,2),k=_[0],w=_[1],C=Object(ee.a)((function(e){return p.a.post("".concat(f,"faq/add-category"),e,N)}),{onSuccess:function(){w(!1),e.push("/manage-faq")}}),S=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),w(!0),e.next=4,C.mutate(m);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Category Name"}),Object(x.jsx)("input",{name:"faq_category",onChange:function(e){return h(Object(v.a)(Object(v.a)({},m),{},{faq_category:e.target.value}))},className:"form-control",autoComplete:"off"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Category Image"}),Object(x.jsx)("input",{onChange:function(e){var a,c,s,n,r;e.preventDefault(),(a=e.target.files[0])&&(c=new Image,n=new Blob([a],{type:a.type}),c.src=t.createObjectURL(n),(r=new FileReader).readAsDataURL(n),r.onload=function(){s=r.result,i(s),h(Object(v.a)(Object(v.a)({},m),{},{faq_image:s}))})},type:"file",name:"faq_image",className:"form-control",autoComplete:"off"}),Object(x.jsx)("div",{style:{height:"130px",overflow:"hidden"},children:Object(x.jsx)("img",{src:r||""})})]}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsxs)("button",{type:"button",className:"dark btn btn-md",onClick:S,children:[" ",k?"Processing...":"Save Category"]})})]})};var Re=function(e){var a=e.data,t=Object(l.g)(),s=Object(l.i)(),n=Object(c.useContext)(b.a).state,r=Object(c.useState)({}),i=Object(y.a)(r,2),o=i[0],u=i[1];Object(c.useEffect)((function(){var e=a.filter((function(e){return e._id===s.question_id}));u(e[0]);var t=document.getElementById("questionDiv");t.scrollTop=t.scrollHeight}),[s.question_id]);var m=Object(c.useState)({}),h=Object(y.a)(m,2),f=h[0],N=h[1],g="";g=O.a;var _={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+n.access_token}},k=Object(c.useState)(!1),w=Object(y.a)(k,2),C=w[0],S=w[1],E=Object($.b)(),T=Object(c.useRef)(null),R=Object(c.useRef)(null),L=Object(ee.a)((function(e){return e.question_id=s.question_id,e.question=""!==e.question?T.current.value:e.question,e.answer=""!==e.answer?R.current.value:e.answer,p.a.post("".concat(g,"faq/add-question/").concat(s.faq_id),e,_)}),{onSuccess:function(){E.invalidateQueries("singlefaq"),S(!1),T.current.value="",R.current.value="",t.push("/add-faq-question/".concat(s.faq_category,"/").concat(s.faq_id));var e=document.getElementById("questionDiv");e.scrollTop=e.scrollHeight}}),A=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),S(!0),e.next=4,L.mutate(f);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(x.jsxs)("form",{children:[Object(x.jsxs)("h4",{children:["Add Faq Question - ",s.faq_category]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Question"}),Object(x.jsx)("input",{type:"text",name:"question",ref:T,defaultValue:o&&o.question,onChange:function(e){return N(Object(v.a)(Object(v.a)({},f),{},{question:e.target.value}))},className:"form-control",autoComplete:"off"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Answer"}),Object(x.jsx)("input",{type:"text",name:"answer",ref:R,defaultValue:o&&o.answer,onChange:function(e){return N(Object(v.a)(Object(v.a)({},f),{},{answer:e.target.value}))},className:"form-control",autoComplete:"off"})]}),Object(x.jsx)("div",{className:"form-group",children:s.question_id?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{type:"button",className:"dark btn btn-md",onClick:A,children:C?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-spinner"})," Processing"]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-save"})," Update Category"]})}),Object(x.jsx)("button",{type:"button",className:"btn btn-danger ml-2",onClick:function(e){return t.push("/add-faq-question/".concat(s.faq_category,"/").concat(s.faq_id))},children:"Cancel"})]}):Object(x.jsxs)("button",{type:"button",className:"dark btn btn-md",onClick:A,children:[" ",C?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-spinner"})," Processing"]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-save"})," Save Category"]})]})})]})};var Le=function(e){var a=e.content,t=Object(c.useContext)(b.a).state,s=Object(l.g)(),n=Object(l.i)(),r="";r=O.a;var i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}},o=Object(c.useState)(!1),u=Object(y.a)(o,2),m=u[0],h=u[1],f=Object($.b)(),v=Object(ee.a)((function(e){return p.a.get("".concat(r,"faq/delete-question/").concat(n.faq_id,"/").concat(e.question_id),i)}),{onSuccess:function(){f.invalidateQueries("singlefaq"),h(!1),s.push("/add-faq-question/".concat(n.faq_category,"/").concat(n.faq_id));var e=document.getElementById("questionDiv");e.scrollTop=e.scrollHeight}}),N=function(){var e=Object(j.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),t={question_id:a.ques_id},e.next=4,v.mutate(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.push("/add-faq-question/".concat(a.faq_category,"/").concat(a.faq_id,"/").concat(a.ques_id));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"subject-card-heading",children:[Object(x.jsx)("div",{}),Object(x.jsxs)("div",{children:[Object(x.jsx)(w.a,{className:"delBtn btn btn-sm pl-1 pr-2",onClick:g.bind(this,{faq_category:n.faq_category,faq_id:n.faq_id,ques_id:a._id}),children:Object(x.jsx)("span",{className:"fa fa-pencil-square-o text-primary"})}),Object(x.jsx)(w.a,{className:"delBtn text-danger pl-1 pr-1",onClick:N.bind(this,{ques_id:a._id}),children:m?Object(x.jsx)("span",{className:"fa fa-spinner"}):Object(x.jsx)("span",{className:"fa fa-trash"})})]})]})};var Ae=function(e){var a=e.faqLists,t=Object(l.i)();return Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsxs)("h4",{children:["All Faq Question - ",t.faq_category]}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{id:"questionDiv",style:{height:"400px",overflow:"scroll",paddingRight:"15px"},children:a&&a.map((function(e){return Object(x.jsxs)("div",{className:"card p-2 mb-2",children:[Object(x.jsxs)("div",{className:"card-heading",children:[Object(x.jsx)("strong",{children:"Question"}),": ",e.question]}),Object(x.jsxs)("div",{className:"card-body p-0",children:[Object(x.jsx)("strong",{children:"Answer"}),": ",e.answer]}),Object(x.jsx)("hr",{style:{margin:"5px 0px"}}),Object(x.jsx)(Le,{content:e})]},e._id)}))})]})};var Be=t(55);var qe=function(e){var a=e.data,t=Object(l.g)(),c=Object(l.i)();return Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsxs)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:[Object(x.jsx)(w.a,{className:"dark mr-1",onClick:function(e){return t.push("/manage-faq")},children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})}),Object(x.jsxs)(w.a,{className:"dark mr-1",onClick:function(e){return t.push("/master-admin/create")},children:[Object(x.jsx)("span",{className:"fa fa-plus-circle"}),"\xa0 Add New Admin"]}),!c.faq_id&&Object(x.jsx)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:Object(x.jsx)(oe,{pagination:a&&a.pagination})})]})})};function Ie(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(c.useContext)(b.a).state,s=Object(c.useContext)(F.a),n=s.state,r=s.dispatch,o=Object(c.useContext)(m.a),u=(o.state,o.dispatch),h=Object(c.useState)(""),p=Object(y.a)(h,2),O=p[0],f=p[1];function N(){return(N=Object(j.a)(d.a.mark((function t(c){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),s=null,""!=O){t.next=6;break}r({type:"SET_ERROR",payload:"Please Enter Subject Name"}),t.next=17;break;case 6:if(!a.id){t.next=12;break}return t.next=9,C.c("master-admin/update/".concat(a.id),O);case 9:s=t.sent,t.next=15;break;case 12:return t.next=14,C.d("master-admin/create",O);case 14:s=t.sent;case 15:r({type:"SET_SUCCESS",payload:s.message}),e.push("/master-admin");case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(e){return _.apply(this,arguments)}function _(){return(_=Object(j.a)(d.a.mark((function e(a){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.value,c=t.replace(/[^a-zA-Z0-9, ]/g,""),f(Object(v.a)(Object(v.a)({},O),{},Object(J.a)({},a.target.name,c)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=Object(S.a)({method:"get",url:"master-admin/view/".concat(a.id)}).response,R=Object(c.useState)({}),L=Object(y.a)(R,2),A=L[0],B=L[1];return Object(c.useEffect)((function(){if(null!==E){var e=E.data;e.status?(u({type:"SET_USER",payload:e}),B(e)):u({type:"SET_USER",payload:{}})}}),[a.id,E,A]),Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[n.error,n.success]),Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&n&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Create New Admin"})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsxs)("div",{className:"org-main-area",children:[Object(x.jsx)("div",{className:"col-md-3 pl-0",children:Object(x.jsx)(i.b,{to:"/master-admin",className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(x.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[n.error&&Object(x.jsx)(T.a,{children:n.error}),n.success&&Object(x.jsx)(T.a,{children:n.success}),Object(x.jsxs)(k.a,{autoComplete:"off",className:"col-md-6 p-0",children:[Object(x.jsxs)(k.a.Group,{method:"POST",children:[Object(x.jsx)(k.a.Label,{children:"Admin Full Name"}),Object(x.jsx)(k.a.Control,{name:"fullname",autoComplete:"off",defaultValue:A&&A.fullname,onChange:g,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Admin Name"})]}),Object(x.jsxs)(k.a.Group,{method:"POST",children:[Object(x.jsx)(k.a.Label,{children:"Admin Email"}),Object(x.jsx)(k.a.Control,{name:"email",autoComplete:"nope",defaultValue:A&&A.email,onChange:g,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Admin Email"})]}),Object(x.jsxs)(k.a.Group,{method:"POST",children:[Object(x.jsx)(k.a.Label,{children:"Admin Password"}),Object(x.jsx)(k.a.Control,{name:"password",autoComplete:"off",type:"password",onChange:g,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Admin Password"})]}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("label",{children:" Role"}),Object(x.jsx)("select",{className:"form-control",name:"role",children:Object(x.jsx)("option",{children:"Select Role"})})]}),Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("label",{children:" Status"}),Object(x.jsxs)("select",{className:"form-control",name:"role",children:[Object(x.jsx)("option",{children:"Select Stauts"}),Object(x.jsx)("option",{value:"true",children:"Active"}),Object(x.jsx)("option",{value:"false",children:"InActive"})]})]})]}),Object(x.jsx)(k.a.Group,{className:"mt-3",children:Object(x.jsx)(w.a,{onClick:function(e){return N.apply(this,arguments)},className:"btn dark btn-sm",children:a.id?"Update Admin":"Save Admin"})})]})]})]})})]})})})})}function Pe(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(c.useContext)(b.a).state,s=Object(c.useContext)(F.a),n=s.state,r=s.dispatch,o=Object(c.useContext)(m.a),u=o.state,h=o.dispatch,p=Object(c.useState)(""),O=Object(y.a)(p,2),f=O[0],N=O[1];function g(){return(g=Object(j.a)(d.a.mark((function t(c){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),s=null,console.log(f),""!=f){t.next=7;break}r({type:"SET_ERROR",payload:"Please Enter Subject Name"}),t.next=18;break;case 7:if(!a.id){t.next=13;break}return t.next=10,C.c("master-role/update/".concat(a.id),f);case 10:s=t.sent,t.next=16;break;case 13:return t.next=15,C.d("master-role/create",f);case 15:s=t.sent;case 16:r({type:"SET_SUCCESS",payload:s.message}),e.push("/master-role");case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(e){return E.apply(this,arguments)}function E(){return(E=Object(j.a)(d.a.mark((function e(a){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.value,c=t.replace(/[^a-zA-Z0-9, ]/g,""),N(Object(v.a)(Object(v.a)({},f),{},Object(J.a)({},a.target.name,c)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=Object(S.a)({method:"get",url:"master-role/view/".concat(a.id)}).response,L=Object(c.useState)(""),A=Object(y.a)(L,2),B=A[0],q=A[1];return Object(c.useEffect)((function(){if(null!==R){var e=R.data;h({type:"SET_ROLE",payload:e}),q(e)}}),[a.id,R,B]),Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[n.error,n.success]),Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&n&&u.role&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Create New Admin"})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsxs)("div",{className:"org-main-area",children:[Object(x.jsx)("div",{className:"col-md-3 pl-0",children:Object(x.jsx)(i.b,{to:"/master-role",className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(x.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[n.error&&Object(x.jsx)(T.a,{children:n.error}),n.success&&Object(x.jsx)(T.a,{children:n.success}),Object(x.jsxs)(k.a,{autoComplete:"off",className:"col-md-6 p-0",children:[Object(x.jsxs)(k.a.Group,{method:"POST",children:[Object(x.jsx)(k.a.Label,{children:"Role Name"}),Object(x.jsx)(k.a.Control,{name:"name",autoComplete:"off",defaultValue:B.name,onChange:_,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Role Name"})]}),Object(x.jsxs)(k.a.Group,{method:"POST",children:[Object(x.jsx)(k.a.Label,{children:"Role Description"}),Object(x.jsx)(k.a.Control,{name:"description",autoComplete:"off",defaultValue:B.description,onChange:_,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter role description"})]}),Object(x.jsxs)(k.a.Group,{method:"POST",children:[Object(x.jsx)(k.a.Label,{children:"Role No"}),Object(x.jsx)(k.a.Control,{name:"role",autoComplete:"off",defaultValue:B.role,onChange:_,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter role description"})]}),Object(x.jsx)(k.a.Group,{className:"mt-3",children:Object(x.jsx)(w.a,{onClick:function(e){return g.apply(this,arguments)},className:"btn dark btn-sm",children:a.id?"Update Role":"Save Role"})})]})]})]})})]})})})})}function De(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(c.useContext)(b.a).state,s=Object(c.useContext)(F.a),n=s.state,r=s.dispatch,o=Object(c.useContext)(m.a),u=o.state,h=o.dispatch,p=Object(c.useState)(""),O=Object(y.a)(p,2),f=O[0],N=O[1];function g(){return(g=Object(j.a)(d.a.mark((function t(c){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),s=null,""!=f.module_name){t.next=6;break}r({type:"SET_ERROR",payload:"Please Enter Module Name"}),t.next=17;break;case 6:if(!a.id){t.next=12;break}return t.next=9,C.c("master-module/update/".concat(a.id),f);case 9:s=t.sent,t.next=15;break;case 12:return t.next=14,C.d("master-module/create",f);case 14:s=t.sent;case 15:r({type:"SET_SUCCESS",payload:s.message}),e.push("/master-module");case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(e){return E.apply(this,arguments)}function E(){return(E=Object(j.a)(d.a.mark((function e(a){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.value,c=t.replace(/[^a-zA-Z0-9, ]/g,""),N(Object(v.a)(Object(v.a)({},f),{},Object(J.a)({},a.target.name,c)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=Object(S.a)({method:"get",url:"master-module/view/".concat(a.id)}).response,L=Object(S.a)({method:"get",url:"master-role/view-all"}).response,A=Object(c.useState)(""),B=Object(y.a)(A,2),q=B[0],I=B[1];return Object(c.useEffect)((function(){if(null!==R){var e=R.data;h({type:"GET_MODLIST",payload:e}),u&&I(e)}if(null!==L){console.log(L);var a=L.data;h({type:"GET_ALL_ROLE",payload:a})}}),[R,q,L]),Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[n.error,n.success]),Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Create New Module"})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsxs)("div",{className:"org-main-area",children:[Object(x.jsx)("div",{className:"col-md-3 pl-0",children:Object(x.jsx)(i.b,{to:"/master-module",className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})})}),Object(x.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[n.error&&Object(x.jsx)(T.a,{children:n.error}),n.success&&Object(x.jsx)(T.a,{children:n.success}),Object(x.jsxs)(k.a,{autoComplete:"off",className:"col-md-6 p-0",children:[Object(x.jsxs)(k.a.Group,{method:"POST",children:[Object(x.jsx)(k.a.Label,{children:"Module Name"}),Object(x.jsx)(k.a.Control,{name:"module_name",autoComplete:"off",defaultValue:q.module_name,onChange:_,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Module Name"})]}),Object(x.jsxs)(k.a.Group,{method:"POST",children:[Object(x.jsx)(k.a.Label,{children:"Module Description"}),Object(x.jsx)(k.a.Control,{name:"description",autoComplete:"off",defaultValue:q.description,onChange:_,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Module description"})]}),Object(x.jsxs)(k.a.Group,{method:"POST",children:[Object(x.jsx)(k.a.Label,{children:"Module Access"}),Object(x.jsxs)("select",{name:"role_access",className:"form-control",onChange:_,children:[Object(x.jsx)("option",{children:"Select Module Access"}),u.Roles.map((function(e){return Object(x.jsx)("option",{value:e.role,children:e.name})}))]})]}),Object(x.jsx)(k.a.Group,{className:"mt-3",children:Object(x.jsx)(w.a,{onClick:function(e){return g.apply(this,arguments)},className:"btn dark btn-sm",children:a.id?"Update Module":"Save Module"})})]})]})]})})]})})})})}var Ue=t(92),Ge=function(){var e=Object(c.useState)({}),a=Object(y.a)(e,2),t=a[0],s=a[1],n=function(){var e=Object(j.a)(d.a.mark((function e(a){var c,n,r,i,l,o,j,u,b,m,h,p,O;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}if(c=a.target.value,n=[],r=[],i=c.replace(/[^a-zA-Z0-9-_, ]/g,""),"text"==a.target.type)s(Object(v.a)(Object(v.a)({},t),{},Object(J.a)({},a.target.name,i)));else if("select-one"==a.target.type){if(i){for(l=i.split("_"),o=0;o<l.length;o++)0==o?r.push(Object(J.a)({},a.target.name+"_name",l[o])):1==o&&r.push(Object(J.a)({},a.target.name+"_id",l[o]));for(i=r,j=0;j<l.length;j++)s(Object(v.a)(Object(v.a)({},t),{},(u={},Object(J.a)(u,a.target.name+"_name",i[0][a.target.name+"_name"]),Object(J.a)(u,a.target.name+"_id",i[1][a.target.name+"_id"]),u)))}}else if("checkbox"==a.target.type)for(b=document.getElementsByTagName("input"),m=0;m<b.length;m++)if(b[m].checked)if((h=b[m].value).includes("_")){for(p=h.split("_"),O=0;O<p.length;O++)0==O?r.push(Object(J.a)({},"method_name",p[O])):1==O&&r.push(Object(J.a)({},"module_name",p[O]));n.push({method_name:p[0],module_name:p[1]}),i=n,s(Object(v.a)(Object(v.a)({},t),{},Object(J.a)({},a.target.name,i)))}else"on"!=b[m].value&&(n.push({name:b[m].value}),i=n,s(Object(v.a)(Object(v.a)({},t),{},Object(J.a)({},a.target.name,i))));return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){n()}),[t]),{formData:t,handleChange:n,setFormData:s}},Fe=function(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(c.useContext)(m.a),s=t.state,n=t.dispatch,r=Object(c.useContext)(F.a),i=r.state,o=r.dispatch,u=Ge(),b=u.formData,h=u.handleChange;function p(){document.getElementById("module").selectedIndex="0",document.querySelectorAll('input[name="module_method"]').forEach((function(e){e.checked=!1}))}var O=function(){var a=Object(j.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0===b.module_name||void 0===b.module_id){a.next=7;break}return a.next=3,C.d("/master-permission-group/create",b);case 3:200===(t=a.sent).data.status?(n({type:"GET_ALL_PERMISSION_GROUPS",payload:t.data.data}),o({type:"SET_SUCCESS",payload:t.data.message}),p(),e.push("/master-permission-group")):o({type:"SET_ERROR",payload:t.data.message}),a.next=8;break;case 7:o({type:"SET_ERROR",payload:"Please Select Modules to create permision group"});case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),f=Object(S.a)({method:"get",url:"master-permission-group/view/".concat(a.id)}).response,v=Object(c.useState)({}),N=Object(y.a)(v,2),g=N[0],_=N[1];Object(c.useEffect)((function(){if(null!==f){var e=f.data.module_method;n({type:"SET_SELECTED_METHOD",payload:e}),_(e)}}),[a.module_name,f,g]);var E=Object(S.a)({method:"get",url:"master-module/view-all"}).moduleResponse,R=Object(c.useState)(),L=Object(y.a)(R,2),A=L[0],B=L[1];return Object(c.useEffect)((function(){if(null!==f){var e=f.data;n({type:"GET_ALL_MODLISTS",payload:e}),e&&B(e)}}),[E,A]),Object(c.useEffect)((function(){var e=setTimeout((function(){return o({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return o({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[i.error,i.success]),Object(x.jsxs)(x.Fragment,{children:[i.error&&Object(x.jsx)(T.a,{children:i.error}),i.success&&Object(x.jsx)(T.a,{children:i.success}),Object(x.jsxs)(k.a,{children:[Object(x.jsx)(k.a.Group,{children:Object(x.jsxs)("select",{name:"module",id:"module",type:"select",onChange:h,className:"form-control",children:[Object(x.jsx)("option",{children:"Select Modules"}),s.ModLists.map((function(e){var t=e.module_name.replaceAll(" ","-").toLowerCase().trim(),c=e._id;return Object(x.jsx)("option",{value:"".concat(t,"_").concat(c),selected:t===a.module_name?"selected":"",children:e.module_name},e._id)}))]})}),Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"App Methods List"}),s.methods.map((function(e){var t=s.selected_methods&&s.selected_methods.find((function(a){return a.name===e.name}));return Object(x.jsx)("div",{className:"methods label",children:Object(x.jsxs)("label",{htmlFor:"".concat(e.name),children:[a.module_name?Object(x.jsx)("input",{name:"module_method",type:"checkbox",className:"check  checkbox",value:"".concat(e.name),checked:t&&t,onChange:h,id:"".concat(e.name)}):Object(x.jsx)("input",{name:"module_method",type:"checkbox",className:"check  checkbox",value:"".concat(e.name),onChange:h,id:"".concat(e.name)}),Object(x.jsx)("span",{style:{marginLeft:"5px"},children:e.value})]})},e.name)}))]}),Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(w.a,{varient:"dark",className:"dark",onClick:O,children:"Submit"}),a.id&&Object(x.jsx)(w.a,{onClick:function(){p(),e.push("/master-permission-group")},className:"btn dark btn-md ml-2",children:"Cancel"})]})]})]})};var Me=function(e){var a=e.permission_group,t=Object(l.g)(),c=(Object(l.i)(),function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("delete-data/master-permission-group/delete/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),s=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/master-permission-group/".concat(a.module_name,"/update/").concat(a.id));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"subject-card",id:"card-".concat(a._id),children:[Object(x.jsxs)("div",{className:"subject-card-body mt-2",children:[Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Module ID:"}),Object(x.jsx)("div",{className:"name-main",children:a.module_name})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Status:"}),Object(x.jsx)("div",{className:"name-main",children:1==a.status?"Active":"Inactive"})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Created On:"}),Object(x.jsx)("div",{className:"name-main",children:a.created_at.split("T")[0]})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Methods:"}),Object(x.jsx)("div",{className:"name-main-method",children:a.module_method.map((function(e){return Object(x.jsx)("p",{children:e.name})}))})]})]}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsxs)("div",{className:"subject-card-heading",children:[Object(x.jsx)("div",{}),Object(x.jsxs)("div",{children:[Object(x.jsx)(w.a,{className:"delBtn",onClick:s.bind(this,{id:a._id,module_name:a.module_name}),children:Object(x.jsx)("span",{className:"fa fa-pencil-square-o text-success mr-2"})}),Object(x.jsx)(w.a,{className:"delBtn",onClick:c.bind(this,a._id),children:Object(x.jsx)("span",{className:"fa fa-trash text-danger"})})]})]})]})})},ze=function(){var e=Object(c.useContext)(m.a),a=e.state,t=e.dispatch,s=Object(S.a)({method:"get",url:"master-permission-group/view-all"}),n=s.response;s.isLoading;return Object(c.useEffect)((function(){null!==n&&t({type:"GET_ALL_PERMISSION_GROUPS",payload:n.data})}),[n]),Object(x.jsx)(x.Fragment,{children:a.permissionGroups.map((function(e){return Object(x.jsx)(Me,{permission_group:e},e._id)}))})};function Qe(){Object(l.g)();var e=Object(c.useContext)(b.a).state,a=Object(c.useContext)(m.a),t=a.state,s=a.dispatch,n=Object(c.useContext)(F.a),r=n.state,i=n.dispatch,o=Object(S.a)({method:"get",url:"master-module/view-all"}),d=o.response,j=o.isLoading;o.error;return Object(c.useEffect)((function(){null!==d&&s({type:"GET_ALL_MODLISTS",payload:d.data})}),[d]),Object(c.useEffect)((function(){var e=setTimeout((function(){return i({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return i({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[r.errors,r.success]),Object(x.jsx)(x.Fragment,{children:e.isLoggedIn&&r&&t.ModLists&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Permission Group List"})}),j&&Object(x.jsx)(R,{}),!j&&Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsxs)("div",{className:"row col-md-12",children:[Object(x.jsx)("div",{className:"col-md-3 card p-2",style:{position:"fixed",width:"320px"},children:Object(x.jsx)(Fe,{})}),Object(x.jsx)("div",{className:"col-md-9",style:{position:"relative",left:"330px"},children:Object(x.jsx)("div",{className:"subject-main-container",children:Object(x.jsx)(ze,{})})})]})})]})})})})}function Ve(){var e=this,a=Object(l.g)(),t=Object(l.i)(),s=Object(c.useContext)(b.a).state,n=Object(c.useContext)(m.a),r=n.state,i=n.dispatch,o=Object(c.useContext)(F.a),u=o.state,h=o.dispatch,p=Ge(),O=p.formData,f=p.handleChange,v=Object(S.a)({method:"get",url:"master-permission-group/view-all"}),N=v.response,g=v.isLoading,_=Object(S.a)({method:"get",url:"master-role-permission/view/".concat(t.role_id,"/").concat(t.role_name)}).response,k=Object(S.a)({method:"get",url:"master-role/view-all"}).response,E=Object(c.useState)(),L=Object(y.a)(E,2),A=L[0],B=L[1],q=Object(c.useState)(),I=Object(y.a)(q,2),P=I[0],D=I[1];Object(c.useEffect)((function(){if(null!==N){var e=N.data;i({type:"GET_ALL_PERMISSION_GROUPS",payload:e}),e&&B(e)}if(null!==k){var a=k.data;i({type:"GET_ALL_ROLE",payload:a}),a&&D(a)}if(null!==_){var t=_.data.permissions;i({type:"GET_ROLE_PERMISSIONS",payload:t})}}),[N,A,k,P,_]),Object(c.useEffect)((function(){var e=setTimeout((function(){return h({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return h({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[u.error,u.success]);var U=function(){var e=Object(j.a)(d.a.mark((function e(){var a,t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById("checkAll").checked){for(a=document.getElementsByName("permissions"),t=0;t<a.length;t++)"checkbox"==a[t].type&&(a[t].checked=!0);for(c=document.getElementsByName("moduleAll"),t=0;t<c.length;t++)"checkbox"==c[t].type&&(c[t].checked=!0)}else{for(a=document.getElementsByName("permissions"),t=0;t<a.length;t++)"checkbox"==a[t].type&&(a[t].checked=!1);for(c=document.getElementsByName("moduleAll"),t=0;t<c.length;t++)"checkbox"==c[t].type&&(c[t].checked=!1)}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(j.a)(d.a.mark((function e(a){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById(a).checked)for(t=document.getElementsByClassName(a),c=0;c<t.length;c++)"checkbox"==t[c].type&&(t[c].checked=!0);else for(t=document.getElementsByClassName(a),c=0;c<t.length;c++)"checkbox"==t[c].type&&(t[c].checked=!1);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();var M=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==O.role_name){e.next=4;break}h({type:"SET_ERROR",payload:"Please Select role to give permissions"}),e.next=12;break;case 4:if(void 0!==O.permissions){e.next=8;break}h({type:"SET_ERROR",payload:"Please click on atleast single permission."}),e.next=12;break;case 8:return e.next=10,C.d("/master-role-permission/create",O);case 10:200===(t=e.sent).data.status?(i({type:"GET_ALL_ROLE_PERMISSION",payload:t.data.data}),h({type:"SET_SUCCESS",payload:t.data.message}),document.getElementById("role").selectedIndex="0",document.querySelectorAll("input[type=checkbox]").forEach((function(e){e.checked=!1})),a.push("/role-permission")):h({type:"SET_ERROR",payload:t.data.message});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:s.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Permission List"})}),u.success&&Object(x.jsx)(T.a,{children:u.success}),u.error&&Object(x.jsx)(T.a,{children:u.error}),g&&Object(x.jsx)(R,{}),!g&&Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsxs)("div",{className:"col-md-12 row",children:[Object(x.jsxs)("select",{name:"role",id:"role",className:"roles col-md-6 form-control",onChange:f,children:[Object(x.jsx)("option",{value:"",children:"Select Roles"}),r.Roles.map((function(e){return Object(x.jsx)("option",{selected:e._id===t.role_id?"selected":"",value:"".concat(e.name.toLowerCase().trim().replaceAll(" ","-"),"_").concat(e._id),children:e.name},e._id)}))]}),Object(x.jsx)(w.a,{onClick:M,className:"btn btn-sm dark",children:"Save Permission"})]})}),!g&&Object(x.jsxs)("div",{className:"dash-cont-start",children:[Object(x.jsx)("h4",{className:"mt-2",children:"All Permission Groups"}),Object(x.jsxs)("div",{className:"col-md-12 row",children:[Object(x.jsx)("input",{type:"checkbox",className:"checkall",id:"checkAll",name:"CheckAll",onChange:U}),Object(x.jsx)("label",{htmlFor:"checkAll",children:"Check All "})]}),Object(x.jsx)("hr",{}),r.permissionGroups.map((function(a){var t,c,s=a.module_name.replaceAll("-"," "),n=(t=r.AllRolePermissions,c=a.module_name,t.some((function(e){return e.module_name===c})));return Object(x.jsxs)("div",{className:"mb-2",children:[Object(x.jsxs)("h5",{className:"module_name cursor",children:[Object(x.jsx)("input",{type:"checkbox",className:"moduleAll",id:a._id,checked:n,name:"moduleAll",onChange:G.bind(e,a._id)}),Object(x.jsx)("label",{style:{marginLeft:"5px"},htmlFor:a._id,children:s})]}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{className:"col-md-12 row",children:a.module_method.map((function(e){var t="".concat(e.name,"_").concat(a.module_name),c=function(e,a){return e.some((function(e){return e.method_name+"_"+e.module_name===a}))}(r.AllRolePermissions,t);return Object(x.jsxs)("div",{className:"col-md-2 subject-card",children:[Object(x.jsx)("input",{className:a._id,type:"checkbox",name:"permissions",onChange:f,id:e._id,checked:c,value:t}),Object(x.jsx)("label",{htmlFor:e._id,style:{marginBottom:"0px",marginLeft:"5px"},children:e.name})]},e._id)}))})]},a._id)}))]})]})})})})}var Ke=[{path:"/",component:E},{path:"/login",component:E},{path:"/403",component:function(){var e=Object(c.useContext)(b.a).state;return Object(x.jsx)(x.Fragment,{children:e.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container pt-5 text-center",children:[Object(x.jsx)("img",{src:"/403.jpg"}),Object(x.jsx)("p",{children:"You are not authorized to access this resource"}),Object(x.jsxs)(i.b,{to:"/dashboard",children:[Object(x.jsx)("span",{className:"fa fa-home"}),Object(x.jsx)("span",{className:"ml-3",children:"Go to Dashboard"})]})]})})})})}}],Je=[{path:"/dashboard",component:function(){var e=Object(c.useContext)(b.a).state;return Object(x.jsx)(x.Fragment,{children:e.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Dashboard"})}),Object(x.jsxs)("div",{className:"dash_over_view",children:[Object(x.jsx)("h5",{children:"Overviews"}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-md-12 pl-0",children:1==e.role&&Object(x.jsx)("div",{className:"col-md-3 card ml-3  pt-2 pb-2 main-box gradient-ibiza",children:Object(x.jsxs)("div",{className:"card-body pt-0 pb-0 pl-0",children:[Object(x.jsxs)("div",{className:"box-head",children:[Object(x.jsx)("h4",{children:"Admin"}),Object(x.jsx)("div",{className:"box-icon",children:Object(x.jsx)("span",{className:"fa fa-users"})})]}),Object(x.jsx)("div",{className:"main-box-text",children:Object(x.jsx)("b",{children:"Total: 1 "})})]})})})})]})]})})})})}},{path:"/my-profile",component:function(){Object(l.g)();var e=Object(c.useContext)(b.a).state;return Object(x.jsx)(x.Fragment,{children:e.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"My Profile"})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsxs)("div",{className:"org-main-area",children:[Object(x.jsx)("div",{className:"org-main-head",children:Object(x.jsxs)("span",{className:"org-main-head-name",children:["Hi ",Object(x.jsxs)("span",{children:[e.fullname,"!"]})]})}),Object(x.jsx)("div",{className:"org-main-head-sub",children:Object(x.jsx)("p",{children:"You are a part of the following organizations. Go to the organization which you wish to access now."})}),Object(x.jsxs)("div",{className:"org-main-part",children:[Object(x.jsx)("div",{className:"org-main-img",children:Object(x.jsx)("img",{src:"/user.png",alt:"profile"})}),Object(x.jsxs)("div",{className:"org-main-details",children:[Object(x.jsx)("div",{className:"org-admin-name",children:Object(x.jsxs)("span",{className:"org-admin-name-txt",children:["Full Name: ",Object(x.jsx)("b",{children:e.fullname})]})}),Object(x.jsx)("div",{className:"org-main-created",children:Object(x.jsxs)("span",{children:["Organization created on ",Object(x.jsx)("b",{children:e.created_at})]})}),Object(x.jsx)("div",{className:"org-main-id",children:Object(x.jsxs)("span",{children:["Role:",Object(x.jsxs)("b",{children:[" ",1==e.role?"Master Admin":"Admin"]})]})}),Object(x.jsx)("div",{className:"org-main-editor",children:Object(x.jsxs)("span",{children:["Email Address:",Object(x.jsxs)("b",{children:[" ",e.email]})]})}),Object(x.jsx)("div",{className:"org-admin-text",children:Object(x.jsx)("p",{children:"You are an admin in this organization"})})]}),Object(x.jsx)("div",{className:"org-go-btn",children:Object(x.jsx)(w.a,{variant:"primary",children:"Update Profile"})})]})]})})]})})})})}},{path:"/subject",component:function(){Object(l.g)();var e=Object(c.useContext)(b.a).state,a=A(),t=a.data,s=a.isLoading,n=a.error;return Object(x.jsx)(x.Fragment,{children:e.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"All Subject"})}),n&&Object(x.jsx)(T.a,{children:n}),s&&Object(x.jsx)(R,{}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsx)("div",{className:"col-md-12 row",children:Object(x.jsxs)(i.b,{to:"/subject-create",className:"btn btn-sm dark",children:[Object(x.jsx)("span",{className:"fa fa-plus-circle"})," \xa0 Add New Subject"]})})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsx)("div",{className:"org-main-area",children:!s&&Object(x.jsx)("div",{className:"subject-main-container",children:t.map((function(e){return Object(x.jsx)(G,{sub:e},e._id)}))})})})]})})})})}},{path:"/subject-create",component:V},{path:"/subject-update/:id",component:V},{path:"/sub-subject/:subject_name/:subject_id",component:function(){Object(l.g)();var e=Object(l.i)(),a=Object(c.useContext)(b.a).state,t=Object(L.a)("subject-subsubjects",Object(j.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.b("sub-subject/subject/".concat(e.subject_id));case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}),a)})))),s=t.data,n=t.isLoading,r=t.error;return Object(x.jsx)(x.Fragment,{children:a.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsxs)("h2",{children:["All Subject of ",e.subject_name.replace("-"," ")]})}),r&&Object(x.jsx)(T.a,{children:r}),n&&Object(x.jsx)(R,{}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsxs)("div",{className:"col-md-12 pl-0",children:[Object(x.jsx)(i.b,{to:"/subject",className:"btn btn-sm dark  mr-2",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})}),Object(x.jsx)(i.b,{to:"/sub-subject/".concat(e.subject_name,"/create/").concat(e.subject_id),className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-plus"})}),Object(x.jsx)(i.b,{to:"/sub-subject/upload",className:"btn btn-sm dark ml-2",children:Object(x.jsx)("span",{className:"fa fa-plus"})})]})}),Object(x.jsx)("div",{className:"dash-cont-start",children:!n&&Object(x.jsx)("div",{className:"subject-main-container",children:s.map((function(e){return Object(x.jsx)(K,{sub:e},e._id)}))})})]})})})})}},{path:"/sub-subject/:subject_name/create/:subject_id",component:H},{path:"/sub-subject",component:function(){Object(l.g)();var e=Object(c.useContext)(b.a).state,a=Y(),t=a.data,s=a.isLoading,n=a.error;return Object(x.jsx)(x.Fragment,{children:e.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"All Sub Subject"})}),n&&Object(x.jsx)(T.a,{children:n}),s&&Object(x.jsx)(R,{}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsxs)("div",{className:"col-md-12 row",children:[Object(x.jsxs)(i.b,{to:"/sub-subject/create",className:"btn btn-sm dark",children:[Object(x.jsx)("span",{className:"fa fa-plus-square text-success"}),"\xa0 Add Sub Subject"]}),Object(x.jsxs)(i.b,{to:"/sub-subject/upload",className:"btn btn-sm dark ml-2",children:[Object(x.jsx)("span",{className:"fa fa-cloud text-success"}),"\xa0  Upload Sub Subject"]})]})}),Object(x.jsx)("div",{className:"dash-cont-start",children:!s&&Object(x.jsx)("div",{className:"subject-main-container",children:t.map((function(e){return Object(x.jsx)(K,{sub:e},e._id)}))})})]})})})})}},{path:"/sub-subject/create",component:H},{path:"/sub-subject/:subject_name/upload/:subject_id",component:Z},{path:"/sub-subject/upload",component:Z},{path:"/delete-data/:module/:method/:id",component:function(){var e=Object(c.useContext)(F.a),a=e.state,t=e.dispatch,s=(Object(c.useContext)(m.a).dispatch,Object(l.g)()),n=Object(l.i)(),r=Object(c.useContext)(b.a).state,o=Object(c.useState)(""),u=Object(y.a)(o,2),h=u[0],p=u[1];Object(c.useEffect)((function(){p(Object(v.a)(Object(v.a)({},h),{},{id:n.id,method:n.method,module:n.module,password:""}))}),[n.id,n.method,n.module]),Object(c.useEffect)((function(){var e=setTimeout((function(){return t({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return t({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[a.error,a.success]);var O=function(){var e=Object(j.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.value,p(Object(v.a)(Object(v.a)({},h),{},Object(J.a)({},a.target.name,t)));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),f=Object(Be.a)().randomPassword,N=function(){var e=Object(j.a)(d.a.mark((function e(){var a,c,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,""!=h.password){e.next=5;break}t({type:"SET_ERROR",payload:"Please Enter password to delete this resource"}),e.next=21;break;case 5:return e.next=7,C.d("/master-delete/check-password",h);case 7:if(a=e.sent,console.log(a.data),!0!==a.data.status){e.next=20;break}return e.next=12,C.a("/".concat(h.module,"/").concat(h.method,"/").concat(h.id));case 12:return c=a.data.data,n={module_password:f,module_plain_password:f},e.next=16,C.c("/master-delete/update/".concat(c),n);case 16:r=h.module,s.push("/".concat(r)),e.next=21;break;case 20:t({type:"SET_ERROR",payload:a.data.message});case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:r.isLoggedIn&&t&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsxs)("h2",{style:{textTransform:"uppercase"},children:[n.method," Data"]})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsxs)("div",{className:"org-main-area",children:[Object(x.jsx)("div",{className:"col-md-3 pl-0",children:Object(x.jsx)(i.b,{to:"/".concat(n.module),className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(x.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[a.error&&Object(x.jsx)(T.a,{children:a.error}),a.success&&Object(x.jsx)(T.a,{children:a.success}),Object(x.jsxs)(k.a,{autoComplete:"off",className:"col-md-6 p-0",children:[Object(x.jsxs)(k.a.Group,{method:"POST",children:[Object(x.jsx)(k.a.Label,{children:"Delete Password "}),Object(x.jsx)(k.a.Control,{name:"password",autoComplete:"off",onChange:O,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Password to delete this Resource"})]}),Object(x.jsx)(k.a.Group,{className:"mt-3",children:Object(x.jsx)(w.a,{onClick:N,className:"btn dark btn-sm",children:"Delete Resource"})})]})]})]})})]})})})})}},{path:"/view-data/:module/:rmodule/:method/:id",component:function(){var e=Object(c.useContext)(F.a),a=e.state,t=e.dispatch,s=Object(l.g)(),n=Object(l.i)(),r=Object(c.useContext)(b.a).state;Object(c.useEffect)((function(){var e=setTimeout((function(){return t({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return t({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[a.error,a.success]);var o=Object(c.useState)({}),u=Object(y.a)(o,2),m=u[0],h=u[1];Object(c.useEffect)((function(){h(Object(v.a)(Object(v.a)({},m),{},{password:""}))}),[n.id,n.method,n.module]);var p=function(){var e=Object(j.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.value,h(Object(v.a)(Object(v.a)({},m),{},Object(J.a)({},a.target.name,t)));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null,""==m.password?t({type:"SET_ERROR",payload:"Please Enter password to view this resource"}):"wrongpassword"===m.password?s.push("/master-module/password/".concat(n.rmodule,"/").concat(n.id)):t({type:"SET_ERROR",payload:"you have entered a Wrong Password"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:r.isLoggedIn&&t&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsxs)("h2",{style:{textTransform:"uppercase"},children:[n.method," Data"]})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsxs)("div",{className:"org-main-area",children:[Object(x.jsx)("div",{className:"col-md-3 pl-0",children:Object(x.jsx)(i.b,{to:"/".concat(n.module),className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(x.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[a.error&&Object(x.jsx)(T.a,{children:a.error}),a.success&&Object(x.jsx)(T.a,{children:a.success}),Object(x.jsxs)(k.a,{autoComplete:"off",className:"col-md-6 p-0",children:[Object(x.jsxs)(k.a.Group,{method:"POST",children:[Object(x.jsx)(k.a.Label,{children:"View Password "}),Object(x.jsx)(k.a.Control,{name:"password",type:"password",autoComplete:"off",onChange:p,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Password to view this Resource"})]}),Object(x.jsx)(k.a.Group,{className:"mt-3",children:Object(x.jsx)(w.a,{onClick:O,className:"btn dark btn-sm",children:"View Resource"})})]})]})]})})]})})})})}},{path:"/books/:subject?/:sub_subject_name?/:sub_subject_id?",component:function(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(c.useContext)(b.a).state,s=W(),n=s.data,r=s.isLoading,o=s.error;return Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsxs)("h2",{style:{textTransform:"capitalize"},children:["All Books",Object(x.jsxs)("span",{style:{fontSize:"0.95rem"},children:["\xa0 \xa0 ",a&&"".concat(P(a.subject)),"\xa0 ",a&&P(a.sub_subject_name),"\xa0 ",n&&" (".concat(n.pagination.itemCount,")")]})]})}),o&&Object(x.jsx)(T.a,{children:o.message}),r&&Object(x.jsx)(R,{}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsxs)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:[Object(x.jsxs)(w.a,{onClick:function(a){return e.push("/books-create")},className:"btn btn-sm dark",children:[Object(x.jsx)("span",{className:"fa fa-plus-circle text-success mr-2"})," Add books"]}),Object(x.jsxs)(w.a,{onClick:function(a){return e.push("/books-upload")},className:"btn btn-sm dark ml-2",children:[Object(x.jsx)("span",{className:"fa fa-cloud text-success mr-2"})," Upload books"]}),Object(x.jsxs)(w.a,{onClick:function(a){return e.push("/books-bulk-upload")},className:"btn btn-sm dark ml-2",children:[Object(x.jsx)("span",{className:"fa fa-cloud text-success mr-2"})," Bulk Uploads books"]}),Object(x.jsx)(re,{}),Object(x.jsx)(ie,{}),Object(x.jsx)(oe,{pagination:n&&n.pagination})]})}),!r&&Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsxs)("div",{className:"subject-main-container",children:[n.data.map((function(e){return Object(x.jsx)(ne,{heading:!0,books:e},e._id)})),n.pagination&&0===n.pagination.itemCount&&Object(x.jsxs)("div",{className:"col-md-6 offset-3 p-5",children:[Object(x.jsxs)("h2",{style:{fontSize:"1.2em"},children:["No Books have been Uploaded in ",Object(x.jsx)("br",{}),Object(x.jsxs)("span",{style:{fontSize:"1.5em"},className:"text-danger",children:[a.sub_subject_name," under ",a.subject," Category!!!"]}),Object(x.jsx)("br",{}),"Please Uplaod Books in this subject category"]}),Object(x.jsx)(i.b,{to:"/books-upload",className:"btn btn-sm dark",children:"Upload Books"})]})]})})]})})})})}},{path:"/books-upload",component:de},{path:"/books-bulk-upload",component:function(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(c.useContext)(b.a).state,s=Object(c.useContext)(F.a),n=s.state,r=s.dispatch,o=Object(c.useContext)(M),u=o.state,m=o.dispatch,h=new FormData,p=Object(c.useState)(null),O=Object(y.a)(p,2),f=(O[0],O[1],Object(c.useState)(null)),v=Object(y.a)(f,2),N=(v[0],v[1],Object(c.useState)(!1)),g=Object(y.a)(N,2),_=g[0],E=g[1];function R(){return(R=Object(j.a)(d.a.mark((function a(t){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),console.log(h.file),c=null,""!=h.sub_subject_name){a.next=7;break}r({type:"SET_ERROR",payload:"Please Select sub subject"}),a.next=17;break;case 7:return h.append("file",D),E(!0),q(!0),a.next=12,C.d("books/bulk-upload",h);case 12:c=a.sent,r({type:"SET_SUCCESS",payload:c.message}),q(!1),E(!1),e.push("/books");case 17:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var L=Object(c.useState)(!0),A=Object(y.a)(L,2),B=A[0],q=A[1],I=Object(c.useState)(null),P=Object(y.a)(I,2),D=P[0],U=P[1];function G(){return(G=Object(j.a)(d.a.mark((function e(a){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.files[0].name,console.log("file onchange ",t),c=t.split(".")[1],console.log(c),"csv"===c?(q(!1),U(a.target.files[0]),h.append("file",a.target.files[0])):(q(!0),r({type:"SET_ERROR",payload:"Only .csv files are allowed"}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=Object(S.a)({method:"get",url:"subject/all"}).response,Q=Object(S.a)({method:"get",url:"sub-subject/subject/".concat(a.subject_id)}).response,V=Object(c.useState)([]),K=Object(y.a)(V,2),J=K[0],H=K[1];return Object(c.useEffect)((function(){if(null!==z){var e=z.data;m({type:"GET_ALL_SUBJECT",payload:e}),e&&H(e)}if(null!==Q){var a=Q.data;m({type:"GET_ALL_SUB_SUBJECT",payload:a})}}),[z,J,Q]),Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[n.error,n.success]),Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&n&&u.Subjects&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsxs)("h2",{children:["Upload Books ",a.subject_name]})}),n.error&&Object(x.jsx)(T.a,{children:n.error}),n.success&&Object(x.jsx)(T.a,{children:n.success}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-md-1 pl-3",children:a.subject_name?Object(x.jsx)(i.b,{to:"/books-upload",className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})}):Object(x.jsx)(i.b,{to:"/books",className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(x.jsx)("div",{className:"col-md-5 pl-0",children:Object(x.jsx)("a",{href:"/sampledata/book_bulk_upload.csv",download:!0,children:"Download Sample File"})})]})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsx)("div",{className:"org-main-area",children:Object(x.jsx)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:Object(x.jsxs)(k.a,{method:"POST",className:"col-md-6 p-0",encType:"multipart/form-data",children:[Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Upload Books File .csv format only"}),Object(x.jsx)(k.a.Control,{name:"books",autoComplete:"off",type:"file",accept:".csv,",onChange:function(e){return G.apply(this,arguments)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(x.jsx)(k.a.Group,{children:Object(x.jsx)(w.a,{onClick:function(e){return R.apply(this,arguments)},disabled:!_&&B,className:"btn dark btn-sm",children:_?"processing...":"Upload Books"})})]})})})})]})})})})}},{path:"/books-create/:subject_name?/:subject_id?/:book_id?",component:function(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(c.useContext)(b.a).state,s=Object(c.useContext)(F.a),n=(s.state,s.dispatch),r=Object(c.useContext)(M),o=(r.state,r.dispatch,A()),u=o.data,m=(o.isLoading,o.error,function(){var e=Object(l.i)().subject_id,a=Object(c.useContext)(b.a).state,t="";return t=O.a,Object(L.a)(["SubSubjects",e],Object(j.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,p.a.get("".concat(t,"sub-subject/subject/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data.data);case 4:case"end":return c.stop()}}),c)}))))}().data),h=je().data,f=new FormData,N=Object(c.useState)({}),g=Object(y.a)(N,2),_=g[0],C=g[1],S=Object(c.useState)(null),E=Object(y.a)(S,2),T=E[0],R=E[1],B=Object(c.useState)(null),I=Object(y.a)(B,2),P=I[0],D=I[1],U=Object(c.useState)(!0),G=Object(y.a)(U,2),z=G[0],Q=G[1],V="";V=O.a;var K={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}};function H(){return(H=Object(j.a)(d.a.mark((function t(c){var s,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),s=null,""!=f.sub_subject_name){t.next=6;break}n({type:"SET_ERROR",payload:"Please Select sub subject"}),t.next=23;break;case 6:if(_.subject_name=a.subject_name,_.subject_id=a.subject_id,_.sub_subject_name=T,_.sub_subject_id=P,r=a.book_id,console.log(_),!r){t.next=18;break}return t.next=15,p.a.patch("".concat(V,"books/update/").concat(r),_,K);case 15:s=t.sent,t.next=21;break;case 18:return t.next=20,p.a.post("".concat(V,"books/create"),_,K);case 20:s=t.sent;case 21:n({type:"SET_SUCCESS",payload:s.message}),e.push("/books");case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(Object(v.a)(Object(v.a)({},_),{},Object(J.a)({},a.target.name,a.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsxs)("h2",{children:["Create Books ",a.subject_name]})}),Object(x.jsx)("div",{className:"dash-con-heading",children:a.subject_name?Object(x.jsx)(i.b,{to:"/books-create",className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})}):Object(x.jsx)(i.b,{to:"/books",className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsx)("div",{className:"org-main-area",children:Object(x.jsx)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:Object(x.jsxs)(k.a,{method:"POST",className:"col-md-12 p-0",encType:"multipart/form-data",children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsxs)(k.a.Group,{style:{position:"relative"},children:[Object(x.jsx)(k.a.Label,{children:"Subject Name"}),a.subject_name&&!a.book_id?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(k.a.Control,{name:"subject",autoComplete:"off",defaultValue:a.subject_name,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Subject Name"}),Object(x.jsx)("span",{className:"dark pt-1 pb-1 pr-2 pl-2",style:{position:"absolute",right:"0%",top:"50%",cursor:"pointer"},onClick:function(a){e.push("/books-create")},children:"x"})]}):Object(x.jsxs)("select",{className:"form-control",name:"subject",autoComplete:"off",onChange:function(t){var c=t.target.value,s=q(c.split("_")[0]),n=c.split("_")[1],r="";r=a.book_id===h._id?"/books-create/".concat(s,"/").concat(n,"/").concat(a.book_id):"/books-create/".concat(s,"/").concat(n),e.push("".concat(r))},children:[Object(x.jsx)("option",{children:"Select Subject"}),u&&u.map((function(e){return Object(x.jsx)("option",{value:e.subject+"_"+e._id,selected:h&&h.subject_id===e._id?"selected":"",children:e.subject},e._id)}))]})]}),a.subject_name&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"SubSubject Name"}),Object(x.jsxs)("select",{className:"form-control",name:"sub_subject",autoComplete:"off",onChange:function(e){var a=e.target.value,t=q(a.split("_")[0]),c=a.split("_")[1];R(t),D(c),Q(!1)},children:[Object(x.jsx)("option",{children:"Select Sub Subject"}),m&&m.map((function(e){var a=e.sub_subject.toLowerCase().trim().replaceAll(" ","-"),t=a+"_"+e._id;return Object(x.jsx)("option",{value:t,selected:h&&h.sub_subject_id==e._id?"selected":"",children:a},e._id)}))]})]})}),Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Book Name"}),Object(x.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",defaultValue:h&&h.BookName,name:"BookName",onChange:Y})]}),Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Edition"}),Object(x.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"Edition",defaultValue:h&&h.Edition,onChange:Y})]})]}),Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"ISBN13"}),Object(x.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"ISBN13",defaultValue:h&&h.ISBN13,onChange:Y})]}),Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"ISBN10"}),Object(x.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"ISBN10",defaultValue:h&&h.ISBN10,onChange:Y})]}),Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Author 1"}),Object(x.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"Author1",defaultValue:h&&h.Author1,onChange:Y})]}),Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Author 2"}),Object(x.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"Author2",defaultValue:h&&h.Author2,onChange:Y})]})]}),Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Author 3"}),Object(x.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"Author3",defaultValue:h&&h.Author3,onChange:Y})]}),Object(x.jsxs)(k.a.Group,{children:[Object(x.jsx)(k.a.Label,{children:"Description"}),Object(x.jsx)("textarea",{type:"text",autoComplete:"off",className:"form-control",name:"Description",defaultValue:h&&h.Description,style:{height:"190px"},onChange:Y})]})]})]}),Object(x.jsx)(k.a.Group,{children:Object(x.jsx)(w.a,{onClick:function(e){return H.apply(this,arguments)},defaultValue:h&&h.Author1,disabled:h&&h._id?"":z,className:"btn dark btn-sm",children:h&&h._id?"Update Book":"Save Book"})})]})})})})]})})})})}},{path:"/books-upload/:subject_name?/:subject_id?",component:de},{path:"/book-chapters/:isbn/:book_name/:book_id",component:function(){Object(l.g)();var e=Object(l.i)(),a=Object(c.useContext)(b.a).state,t=ue(),s=t.data,n=t.isLoading,r=t.error,o=Object(c.useState)([]),u=Object(y.a)(o,2),m=u[0],h=u[1],f=Object(c.useState)([]),v=Object(y.a)(f,2),N=v[0],g=v[1],_=Object(c.useState)([]),k=Object(y.a)(_,2),w=k[0],C=k[1],S=Object(c.useState)([]),E=Object(y.a)(S,2),L=E[0],A=E[1],B="";B=O.a;var q={headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.access_token}},I=Object(c.useRef)(),P=Object(c.useRef)(),D=Object(c.useRef)(),U=Object(c.useRef)();Object(c.useEffect)((function(){h(s&&s.chapters),g(s&&s.sections),C(s&&s.excerise),A(s&&s.problems)}),[s,n,e]);var G=function(){var a=Object(j.a)(d.a.mark((function a(t){var c,s,n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(g([]),C([]),ae(""),c=I.current.value,void 0!==P.current){a.next=11;break}return a.next=7,p.a.get("".concat(B,"chapter/only-problem/").concat(e.isbn,"/").concat(c),q);case 7:s=a.sent,A(s.data.problems),a.next=15;break;case 11:return a.next=13,p.a.get("".concat(B,"chapter/section/").concat(e.isbn,"/").concat(c),q);case 13:n=a.sent,g(n.data.sections);case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),F=function(){var a=Object(j.a)(d.a.mark((function a(t){var c,s,n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return ae(""),c=I.current.value,s=P.current.value,a.next=5,p.a.get("".concat(B,"chapter/exercise/").concat(e.isbn,"/").concat(c,"/").concat(s),q);case 5:n=a.sent,C(n.data.excerise);case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),M=function(){var a=Object(j.a)(d.a.mark((function a(t){var c,s,n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return ae(""),c=I.current.value,s=P.current.value,n=D.current.value,a.next=6,p.a.get("".concat(B,"chapter/problem/").concat(e.isbn,"/").concat(c,"/").concat(s,"/").concat(n),q);case 6:r=a.sent,A(r.data.problems);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),z=Object(c.useState)(!1),Q=Object(y.a)(z,2),V=Q[0],K=Q[1],J=Object(c.useState)([]),H=Object(y.a)(J,2),Y=H[0],Z=H[1],W=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K(!0),ae(""),Z(L.filter((function(e){return e.problem_no===a.target.value})));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),X=Object(c.useState)(""),$=Object(y.a)(X,2),ee=$[0],ae=$[1],te=function(){var a=Object(j.a)(d.a.mark((function a(t){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.get("".concat(B,"chapter/search-question/").concat(e.isbn,"/").concat(t));case 2:c=a.sent,Z(c.data.problems);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=setTimeout((function(){ee.length>5&&""!=ee&&te(ee)}),1500);return ee.length>0&&""!=ee?K(!0):(K(!1),ae(""),ee&&A(L)),function(){return clearTimeout(e)}}),[ee]),Object(x.jsx)(x.Fragment,{children:a.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Books Chapters"})}),r&&Object(x.jsx)(T.a,{children:r.message}),n&&Object(x.jsx)(R,{}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsxs)("div",{className:"col-md-12 row",children:[Object(x.jsxs)("div",{className:"p-0",children:[Object(x.jsx)(i.b,{to:"/books",className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})}),Object(x.jsx)("br",{}),Object(x.jsx)(i.b,{to:"/upload-chapters/".concat(e.isbn,"/").concat(e.book_name,"/").concat(e.book_id),className:"btn btn-sm mt-2 dark",children:Object(x.jsx)("span",{className:"fa fa-cloud"})})]}),Object(x.jsxs)("div",{className:"row col-md-10",children:[m&&m.length>0&&Object(x.jsx)("div",{className:"col-md-6 pr-0",children:Object(x.jsx)("select",{className:"form-control",name:"chapter_no",onChange:G,ref:I,children:m&&m.map((function(e){return Object(x.jsxs)("option",{value:e.chapter_no,children:[e.chapter_no," - ",e.chapter_name]},e.chapter_name)}))})}),N&&N.length>0&&Object(x.jsx)("div",{className:"col-md-3 pr-0",children:Object(x.jsx)("select",{className:"form-control",name:"section_no",ref:P,onChange:F,children:N&&N.map((function(e,a){var t=a+1;return Object(x.jsxs)("option",{value:e.section_no,children:[e.section_no," - ",e.section_name]},t)}))})}),w&&w.length>0&&Object(x.jsx)("div",{className:"col-md-3 pr-0",children:Object(x.jsx)("select",{className:"form-control",name:"excerise",ref:D,onChange:M,children:w&&w.map((function(e,a){var t=a+1;return Object(x.jsxs)("option",{value:e.excerise,children:[t," - ",e.excerise]},e.excerise)}))})}),L&&L.length>0&&Object(x.jsx)("div",{className:"col-md-6 pr-0",children:Object(x.jsx)("select",{className:"form-control",name:"excerise",ref:U,onChange:W,children:L&&L.map((function(e,a){return Object(x.jsxs)("option",{value:e.problem_no,children:[e.problem_no," - ",e.question]},e.problem_no)}))})}),Object(x.jsx)("div",{className:"col-md-6 pr-0",children:Object(x.jsx)("input",{name:"search",className:"form-control",autoComplete:"off",placeholder:"search questions...",value:ee,onChange:function(e){return ae(e.target.value)}})})]})]})}),!n&&Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsxs)("div",{className:"subject-main-container pl-0 pt-0 pr-0 pb-0",children:[!V&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h3",{className:"mt-0",children:"Question: "}),Object(x.jsx)("div",{className:"clearfix"}),L&&L.map((function(e){return Object(x.jsx)(he,{problem:e,search:ee},e._id)}))]}),V&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("h3",{children:["Question: ",ee]}),Object(x.jsx)("div",{className:"clearfix"}),Y&&Y.map((function(e){return Object(x.jsx)(he,{problem:e,search:ee},e._id)}))]}),s.error&&Object(x.jsxs)("div",{className:"col-md-12 pl-0 text-danger",children:[Object(x.jsx)("strong",{style:{fontSize:"1.2rem"},children:s.message}),Object(x.jsx)(i.b,{to:"/upload-chapters/".concat(e.isbn,"/").concat(e.book_name,"/").concat(e.book_id),children:"Upload Books"})]})]})})]})})})})}},{path:"/upload-chapters/:isbn/:book_name/:book_id",component:function(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(c.useContext)(b.a).state,s=Object(c.useContext)(F.a),n=s.state,r=s.dispatch,o=new FormData,u=Object(c.useState)(!1),m=Object(y.a)(u,2),h=m[0],f=m[1],v="";v=O.a;var N={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}};function g(){return(g=Object(j.a)(d.a.mark((function t(c){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),s=null,o.append("file",B),o.append("book_id",a.book_id),o.append("book_name",a.book_name),o.append("book_isbn",a.isbn),f(!0),R(!0),t.prev=8,!M||void 0!==M.problems){t.next=16;break}return console.log("data created"),t.next=13,p.a.post("".concat(v,"chapter/upload"),o,N);case 13:s=t.sent,t.next=20;break;case 16:return console.log("data Updated"),t.next=19,p.a.post("".concat(v,"chapter/update-chapter-csv"),o,N);case 19:s=t.sent;case 20:console.log(s),r({type:"SET_SUCCESS",payload:s.message}),R(!1),f(!1),e.push("/book-chapters/".concat(a.isbn,"/").concat(a.book_name,"/").concat(a.book_id)),t.next=32;break;case 27:t.prev=27,t.t0=t.catch(8),r({type:"SET_ERROR",payload:t.t0.message}),R(!1),f(!1);case 32:case"end":return t.stop()}}),t,null,[[8,27]])})))).apply(this,arguments)}var _=function(){var e=Object(j.a)(d.a.mark((function e(a){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(v,"chapter/download/").concat(a.isbn),N);case 3:return t=e.sent,e.next=6,D(t.data.books);case 6:return c=e.sent,e.next=9,U(c,a.isbn);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message),r({type:"SET_ERROR",payload:e.t0.messsage});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}(),C=Object(c.useState)(!0),S=Object(y.a)(C,2),E=S[0],R=S[1],L=Object(c.useState)(null),A=Object(y.a)(L,2),B=A[0],q=A[1];function I(){return(I=Object(j.a)(d.a.mark((function e(a){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.files[0].name,console.log("file onchange ",t),c=t.split(".")[1],console.log(c),"csv"===c?(R(!1),q(a.target.files[0]),o.append("file",a.target.files[0])):(R(!0),r({type:"SET_ERROR",payload:"Only .csv files are allowed"}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[n.error,n.success]);var G=ue(),M=G.data,z=G.isLoading;return Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Upload Chapters"})}),n.error&&Object(x.jsx)(T.a,{children:n.error}),n.success&&Object(x.jsx)(T.a,{children:n.success}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-md-1 pl-3",children:a.subject_name?Object(x.jsx)(i.b,{to:"/books-upload",className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})}):Object(x.jsx)(i.b,{to:"/books",className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(x.jsx)("div",{className:"col-md-5 pl-0",children:Object(x.jsx)("a",{href:"/sampledata/chapter_upload-9780131453401.csv",download:!0,children:"Download Sample File"})})]})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsx)("div",{className:"org-main-area",children:Object(x.jsxs)("div",{className:"col-md-12 row no-gutter p-0 mt-2",children:[Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsxs)("p",{style:{fontWeight:"bold",fontSize:"1rem"},children:["Uploaded Content for ",M&&M.book_isbn&&Object(x.jsxs)(i.b,{to:"/book-chapters/".concat(a.isbn,"/").concat(a.book_name,"/").concat(a.book_id),children:["View Question: ",M&&M.book_isbn]})]}),Object(x.jsx)("hr",{}),M&&!0===M.error&&Object(x.jsx)("div",{children:Object(x.jsx)("b",{children:M&&M.message})}),Object(x.jsxs)("div",{className:"tbl tbl-responsive",children:[M&&!1===M.error&&Object(x.jsx)("div",{children:Object(x.jsx)("b",{children:"Total Problems"})}),Object(x.jsx)("div",{style:{height:"180px",minHeight:"180px",overflowY:"scroll",paddingRight:"10px"},children:M&&!1===M.error&&M.problems.map((function(e){return Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(x.jsxs)("p",{style:{fontSize:"0.95rem"},children:[Object(x.jsx)("b",{children:"Question No:"})," ",e.problem_no]}),Object(x.jsxs)("p",{style:{fontSize:"0.95rem"},children:[" ",e.question?Object(x.jsxs)("b",{children:["Question: ",Object(x.jsx)("span",{style:{color:"green"},children:" Uploaded "})]}):Object(x.jsxs)("b",{children:["Question: ",Object(x.jsx)("span",{style:{color:"red"},children:" Not Uploaded "})]})]})]})}))})]}),M&&!1===M.error&&M.problems.length>0&&""==M.problems[0].question&&Object(x.jsx)(w.a,{className:"btn btn-sm dark mt-2",onClick:_.bind(this,{isbn:a.isbn}),children:"Download Uploaded CSV"})]}),!z&&Object(x.jsxs)(k.a,{method:"POST",className:"col-md-6 pl-2",encType:"multipart/form-data",children:[Object(x.jsxs)(k.a.Group,{className:"col-md-12",children:[Object(x.jsx)("p",{style:{textTransform:"capitalize"},children:Object(x.jsx)("b",{children:P(a.book_name)})}),Object(x.jsx)("hr",{})]}),Object(x.jsxs)(k.a.Group,{className:"col-md-6",children:[Object(x.jsx)(k.a.Label,{children:"Book ISBN13"}),Object(x.jsx)("p",{children:Object(x.jsx)("b",{children:a.isbn})})]}),Object(x.jsxs)(k.a.Group,{className:"col-md-6",children:[Object(x.jsx)(k.a.Label,{children:"Choose Chapters File .csv format only"}),Object(x.jsx)(k.a.Control,{name:"books",autoComplete:"off",type:"file",accept:".csv,",onChange:function(e){return I.apply(this,arguments)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(x.jsx)(k.a.Group,{className:"col-md-6",children:Object(x.jsx)(w.a,{onClick:function(e){return g.apply(this,arguments)},disabled:E,className:"btn dark btn-sm",children:h?"processing...":"Upload Books"})})]})]})})})]})})})})}},{path:"/book-chapter-add-question/:q_id",component:function(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(c.useContext)(b.a).state,s=Object(c.useContext)(F.a),n=s.state,r=s.dispatch,o=Object(c.useState)(!1),u=Object(y.a)(o,2),m=u[0],h=u[1],f="";f=O.a;var N={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}},g=Object(c.useState)(!1),_=Object(y.a)(g,2),C=_[0],S=_[1],E=window.URL||window.webkitURL,R=Object(c.useState)(""),A=Object(y.a)(R,2),B=A[0],q=A[1],I=Object(c.useState)({}),P=Object(y.a)(I,2),D=P[0],U=P[1];function G(){return(G=Object(j.a)(d.a.mark((function t(c){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),s=null,h(!0),S(!0),t.next=6,p.a.patch("".concat(f,"chapter/add-question/").concat(a.q_id),D,N);case 6:s=t.sent,console.log(s),r({type:"SET_SUCCESS",payload:s.message}),S(!1),h(!1),e.push("/book-chapters/".concat(z&&z.book_isbn,"/").concat(z&&z.book_name,"/").concat(z&&z._id));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var M=function(){var e=Object(l.i)().q_id,a=Object(c.useContext)(b.a).state,t="";return t=O.a,Object(L.a)("question",Object(j.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,p.a.get("".concat(t,"chapter/single-question/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data.results);case 4:case"end":return c.stop()}}),c)}))))}(),z=M.data,Q=M.isLoading;return Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[n.error,n.success]),Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Add Question"})}),n.error&&Object(x.jsx)(T.a,{children:n.error}),n.success&&Object(x.jsx)(T.a,{children:n.success}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-md-1 pl-3",children:Object(x.jsx)(i.b,{to:"/book-chapters/".concat(z&&z.book_isbn,"/").concat(z&&z.book_name,"/").concat(z&&z._id),className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})})})})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsx)("div",{className:"org-main-area",children:Object(x.jsx)("div",{className:"col-md-12 row no-gutter p-0 mt-2",children:!Q&&Object(x.jsxs)(k.a,{method:"POST",className:"col-md-12 pl-2",encType:"multipart/form-data",children:[Object(x.jsxs)(k.a.Group,{className:"col-md-12",children:[Object(x.jsx)(k.a.Label,{children:"Question"}),Object(x.jsx)(ve.CKEditor,{editor:Ne.a,config:{toolbar:{items:["MathType","ChemType","heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","mediaEmbed","insertTable","blockQuote","undo","redo"]}},data:z&&z.question,onChange:function(e,a){var t=a.getData();U(Object(v.a)(Object(v.a)({},D),{},{question:t}))}})]}),Object(x.jsxs)(k.a.Group,{className:"col-md-12",children:[Object(x.jsx)(k.a.Label,{children:"Question Image"}),Object(x.jsx)(k.a.Control,{name:"image",type:"file",onChange:function(e){var a,t,c,s,n;e.preventDefault(),(a=e.target.files[0])&&(t=new Image,s=new Blob([a],{type:a.type}),t.src=E.createObjectURL(s),(n=new FileReader).readAsDataURL(s),n.onload=function(){c=n.result,q(c),U(Object(v.a)(Object(v.a)({},D),{},{image:c}))})}}),Object(x.jsx)("div",{style:{height:"130px",overflow:"hidden",marginTop:"10px"},children:Object(x.jsx)("img",{src:B||z&&z.image})})]}),Object(x.jsxs)(k.a.Group,{className:"col-md-12",children:[Object(x.jsx)(k.a.Label,{children:"Question Answer"}),Object(x.jsx)(ve.CKEditor,{editor:Ne.a,config:{toolbar:{items:["MathType","ChemType","heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","mediaEmbed","insertTable","blockQuote","undo","redo"]}},data:z&&z.answer,onChange:function(e,a){var t=a.getData();U(Object(v.a)(Object(v.a)({},D),{},{answer:t}))}})]}),Object(x.jsx)(k.a.Group,{className:"col-md-12",children:Object(x.jsx)(w.a,{onClick:function(e){return G.apply(this,arguments)},disabled:!m&&C,className:"btn dark btn-md",children:m?"processing...":"Update Question"})})]})})})})]})})})})}},{path:"/book-rating-review/:isbn/:book_id/:review_id?",component:function(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(ce.useToasts)().addToast,s=Object(c.useContext)(b.a).state,n=function(){var e=Object(l.i)().book_id,a=Object(c.useContext)(b.a).state,t="";return t=O.a,Object(L.a)(["reviews",e],Object(j.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,p.a.get("".concat(t,"books/all-reviews/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data);case 4:case"end":return c.stop()}}),c)}))))}(),r=n.data,o=n.isLoading,u="";u=O.a;var m={headers:{"Content-Type":"application/json",Authorization:"Bearer "+s.access_token}},h=Object(c.useState)({}),f=Object(y.a)(h,2),N=f[0],g=f[1],_=Object(c.useState)(""),k=Object(y.a)(_,2),w=k[0],C=k[1],S=Object(c.useState)(),E=Object(y.a)(S,2),A=E[0],B=E[1],q=Object(c.useState)(!1),I=Object(y.a)(q,2),P=I[0],D=I[1],U=Object($.b)(),G=Object(c.useRef)(""),F=Object(c.useRef)(""),M=Object(c.useRef)(""),z=Object(c.useState)(!1),Q=Object(y.a)(z,2),V=Q[0],K=Q[1],J=Object(ee.a)((function(e){return p.a.post("".concat(u,"books/add-review"),e,m)}),{onSuccess:function(){U.invalidateQueries("reviews"),D(!1),G.current.value="",F.current.value="",e.push("/book-rating-review/".concat(a.isbn,"/").concat(a.book_id)),document.getElementById("reviewDiv").scrollTop=0,t("Review added successfully",{appearance:"success",autoDismiss:!0})}}),H=Object(ee.a)((function(e){return p.a.post("".concat(u,"books/upload-review"),e,m)}),{onSuccess:function(){U.invalidateQueries("reviews"),D(!1),e.push("/book-rating-review/".concat(a.isbn,"/").concat(a.book_id));var c=document.getElementById("reviewDiv");t("Review Uploaded Successfully",{appearance:"success",autoDismiss:!0}),c.scrollTop=0}}),Y=function(){var e=Object(j.a)(d.a.mark((function e(c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),""!==F.current.value){e.next=5;break}return t("Please enter username",{appearance:"error",autoDismiss:!0}),F.current.focus(),e.abrupt("return");case 5:return N.book_id=a.book_id,N.isbn=a.isbn,N.review_id=a.review_id,N.userName=""!==N.userName?F.current.value:N.userName,N.review=""!==N.review?G.current.value:N.review,N.rating=w,N.stats=!0,D(!0),e.next=15,J.mutate(N);case 15:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Z=new FormData,W=Object(c.useState)(null),X=Object(y.a)(W,2),ae=X[0],te=X[1];function se(){return(se=Object(j.a)(d.a.mark((function e(a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.target.files[0].name,"csv"===c.split(".")[1]?(te(a.target.files[0]),Z.append("file",a.target.files[0])):t("Only .csv files are allowed",{appearance:"error",autoDismiss:!0});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=function(){var e=Object(j.a)(d.a.mark((function e(c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),null!==ae){e.next=4;break}return t("Please upload csv file. download sample file.",{appearance:"error",autoDismiss:!0}),e.abrupt("return",!1);case 4:return Z.append("book_id",a.book_id),Z.append("isbn",a.isbn),Z.append("upload",V),Z.append("stats",!0),Z.append("file",ae),D(!0),e.next=12,H.mutate(Z);case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=setTimeout((function(){return B("")}),1500);return function(){clearTimeout(e)}}),[A]);var re=Object(c.useState)({userName:"",review:""}),ie=Object(y.a)(re,2),le=ie[0],oe=ie[1],de=function(){var e=Object(j.a)(d.a.mark((function e(){var t,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r&&r.data,s=c&&c.filter((function(e){return e._id===a.review_id})),oe(s&&s[0]),C(s&&(null===(t=s[0])||void 0===t?void 0:t.rating));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)(de,[r,a.review_id]);var je=a&&a.review_id?"/book-rating-review/".concat(a.isbn,"/").concat(a.book_id):"/books";return Object(x.jsx)(x.Fragment,{children:s.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Books Rating and Review"})}),A&&Object(x.jsx)(T.a,{children:A.message}),o&&Object(x.jsx)(R,{}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsxs)("div",{className:"col-md-12 row",children:[Object(x.jsx)("div",{className:"p-0",children:Object(x.jsx)(i.b,{to:je,className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(x.jsx)("div",{className:"row col-md-10",children:Object(x.jsxs)("div",{className:"col-md-6 pr-0",children:[a&&!a.review_id&&Object(x.jsxs)("button",{className:"btn btn-sm mr-1 dark text-success",onClick:function(e){return K(!V)},children:[Object(x.jsx)("span",{className:"fa fa-cloud"}),"\xa0 Bulk Upload Review"]}),V&&Object(x.jsxs)("a",{className:"btn btn-sm ml-1 dark text-success",href:"/sampledata/bulk_upload_review.csv",download:!0,children:[Object(x.jsx)("span",{className:"fa fa-download"})," \xa0 Download Sample File"]})]})})]})}),!o&&Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsx)("div",{className:"subject-main-container pl-0 pt-0 pr-0 pb-0",children:Object(x.jsxs)("div",{className:"row col-md-12",children:[Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsxs)("h6",{children:[" ",Object(x.jsx)("span",{className:"fa fa-star"})," Manage Reviews"]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("form",{children:[!V&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"userName"}),Object(x.jsx)("input",{ref:F,defaultValue:le&&le.userName,onChange:function(e){return g(Object(v.a)(Object(v.a)({},N),{},{userName:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter username"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Reviews"}),Object(x.jsx)("textarea",{ref:G,className:"form-control",defaultValue:le&&le.review,onChange:function(e){return g(Object(v.a)(Object(v.a)({},N),{},{review:e.target.value}))},style:{height:"150px"}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Rating"}),Object(x.jsx)("br",{}),Object(x.jsx)(pe.a,{ref:M,initialRating:le&&le.rating,defaultValue:le&&le.rating,emptySymbol:"fa fa-star-o fa-2x",fullSymbol:"fa fa-star fa-2x",onChange:function(e){return C(e)}})]})]}),V&&Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Upload"}),Object(x.jsx)("input",{type:"file",accept:".csv,",onChange:function(e){return se.apply(this,arguments)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(x.jsxs)("div",{className:"form-group",children:[!V&&Object(x.jsxs)("button",{className:"btn btn-md text-success block dark",onClick:Y,children:[P&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-spinner"})," Processing"]}),!V&&!P&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-save"})," Save Review"]})]}),V&&Object(x.jsxs)("button",{className:"btn btn-md text-success block dark",onClick:ne,children:[P&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-spinner"})," Processing"]}),V&&!P&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-cloud"})," Upload Review"]})]}),a&&a.review_id&&Object(x.jsxs)("button",{className:"btn btn-md pull-right dark text-success",onClick:function(a){return e.push(je)},children:[" ",Object(x.jsx)("span",{className:"fa fa-times"})," Cancel "]})]})]})]}),Object(x.jsxs)("div",{className:"col-md-8 offset-1",children:[Object(x.jsxs)("h6",{children:[" ",Object(x.jsx)("span",{className:"fa fa-star"}),r&&r.data.length?r&&r.data.length:"All "," Reviews for - ISBN ",Object(x.jsx)("b",{children:a.isbn})]}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{style:{height:"420px",overflowY:"scroll",paddingRight:"15px"},id:"reviewDiv",children:r&&r.data.map((function(e){return Object(x.jsxs)("div",{className:"subject-card",style:{width:"100%"},children:[Object(x.jsxs)("div",{className:"subject-card-body",children:[Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-star fa-1x mr-2 pt-1"}),"\xa0 Ratings:"]}),Object(x.jsx)("div",{className:"name-main",children:Object(x.jsx)(pe.a,{initialRating:e&&e.rating,emptySymbol:"fa fa-star-o text-danger",fullSymbol:"fa fa-star text-success",readonly:!0,className:"displayRating"})})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-calendar fa-1x mr-2 pt-1"}),"\xa0 Review Date:"]}),Object(x.jsx)("div",{className:"name-main",children:e&&e.created_at})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-user fa-1x mr-2 pt-1"}),"\xa0 UserName:"]}),Object(x.jsx)("div",{className:"name-main",children:e&&e.userName})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-comments fa-1x mr-2 pt-1"}),"\xa0 Reviews:"]}),Object(x.jsx)("div",{className:"name-main text-justify",children:e&&e.review.substr(0,60)+"..."})]})]}),Object(x.jsx)("hr",{className:"mt-1 mb-2"}),Object(x.jsx)(Oe,{review:e})]},e._id)}))})]})]})})})]})})})})}},{path:"/book-check-quality/:isbn/:book_id/:chapter?/:chapter_no?/:status?/:remark?/:question_id?",component:function(){var e,a,t,s=Object(l.g)(),n=Object(l.i)(),r=(Object(l.h)(),Object(ce.useToasts)().addToast),o=Object(c.useContext)(b.a).state,u=je(),m=u.data,h=u.isLoading,f=function(){var e=Object(l.i)().isbn,a=Object(c.useContext)(b.a).state,t="";return t=O.a,Object(L.a)(["chapters",e],Object(j.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,p.a.get("".concat(t,"chapter/qc-data/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data.data);case 4:case"end":return c.stop()}}),c)}))))}(),N=f.data,g=f.isLoading,_=function(){var e=Object(l.i)(),a=e.isbn,t=e.chapter_no,s=e.status,n=Object(c.useContext)(b.a).state,r="";return r=O.a,Object(L.a)(["question-".concat(t),a],Object(j.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(r,"chapter/qc-chapter-questions/").concat(a,"/").concat(t,"/").concat(s),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+n.access_token}});case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)}))))}(),k=_.data,w=_.isLoading,C="";C=O.a;var S={headers:{"Content-Type":"application/json",Authorization:"Bearer "+o.access_token}},E=Object(c.useState)({}),A=Object(y.a)(E,2),B=A[0],q=A[1],I=Object(c.useState)(),P=Object(y.a)(I,2),D=P[0],U=(P[1],Object(c.useState)(!1)),G=Object(y.a)(U,2),F=G[0],M=G[1],z=Object(c.useState)({}),Q=Object(y.a)(z,2),V=Q[0],K=Q[1],J=Object(c.useRef)();function H(){return Y.apply(this,arguments)}function Y(){return(Y=Object(j.a)(d.a.mark((function e(){var a,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=null===k||void 0===k||null===(a=k.data)||void 0===a?void 0:a.filter((function(e){return e._id===n.question_id})))&&(K(t[0]),n.question_id?M(!0):M(!1));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=Object($.b)(),W=Object(c.useState)(!1),X=Object(y.a)(W,2),ae=X[0],te=X[1],se=Object(c.useState)(!1),ne=Object(y.a)(se,2),re=ne[0],ie=ne[1],le=Object(ee.a)((function(e){return p.a.post("".concat(C,"chapter/qc-answers"),e,S)}),{onSuccess:function(){Z.invalidateQueries(["chapters",n.isbn]),te(!1),ie(!1),M(!1),s.push("/book-check-quality/".concat(n.isbn,"/").concat(n.book_id)),document.getElementById("reviewDiv").scrollTop=0,r("Review added successfully",{appearance:"success",autoDismiss:!0})}}),oe=function(){var e=Object(j.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0===B.temp_answer?J.current.props.data:B.temp_answer,B.temp_answer=t,B.answer=t,B.question_id=n.question_id,B.remark=n.remark,"submit_answer"===(null===n||void 0===n?void 0:n.remark)?B.flag="submitAnswer":B.flag="approved",B.approved=!0,B.answered=!1,me(!1),te(!0),e.next=12,le.mutate(B);case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){return H(),function(){H()}}),[k,F,n.question_id]);var de=Object(c.useState)(!1),ue=Object(y.a)(de,2),be=ue[0],me=ue[1],he=Object(c.useState)(""),pe=Object(y.a)(he,2),Oe=pe[0],ge=pe[1],_e=Object(c.useState)(""),ye=Object(y.a)(_e,2),ke=ye[0],we=ye[1];console.log(ke,Oe);var Ce=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"rejected"===Oe?(B.flag=Oe,B.option=ke):"reworked"===Oe&&(B.flag=Oe,B.option=ke,B.reworked=!0),B.question_id=n.question_id,console.log(B),ie(!0),e.next=6,le.mutate(B);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=n&&n.review_id?"/book-rating-review/".concat(n.isbn,"/").concat(n.book_id):"/books/".concat(null===m||void 0===m?void 0:m.subject_name,"/").concat(null===m||void 0===m?void 0:m.sub_subject_name,"/").concat(null===m||void 0===m?void 0:m.sub_subject_id);return Object(x.jsx)(x.Fragment,{children:o.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Books Quality Check"})}),D&&Object(x.jsx)(T.a,{children:D.message}),h&&Object(x.jsx)(R,{}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsxs)("div",{className:"col-md-12 row",children:[Object(x.jsx)("div",{className:"p-0 ",children:Object(x.jsx)(i.b,{to:Se,className:"btn btn-sm dark",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(x.jsx)("div",{className:"col-md-11 pl-0 ml-2",children:Object(x.jsx)("p",{style:{fontSize:"1.2em",marginBottom:"0px"},children:m&&m.BookName})})]})}),!h&&Object(x.jsx)("div",{className:"dash-cont-start",style:{height:"100vh"},children:Object(x.jsx)("div",{className:"subject-main-container pl-0 pt-0 pr-0 pb-0",children:Object(x.jsxs)("div",{className:"row col-md-12 pl-0",children:[Object(x.jsx)("div",{className:"col-md-5 pr-0",children:Object(x.jsx)(xe,{data:m,qc_data:N})}),Object(x.jsxs)("div",{className:"col-md-7 pl-0",children:[void 0===(null===n||void 0===n?void 0:n.chapter_no)&&Object(x.jsxs)("div",{className:"subject-card",style:{height:"74vh",width:"100%",overflowY:"hidden",paddingRight:"10px",paddingBottom:"0px"},children:[Object(x.jsx)("div",{style:{display:"flex",flexContent:"space-between"},children:Object(x.jsx)("b",{children:"All Chapters:"})}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsxs)("div",{style:{height:"65vh",overflowY:"scroll",paddingRight:"10px",paddingBottom:"0px"},children:[g&&Object(x.jsx)("span",{className:"fa fa-spinner"}),!g&&(null===N||void 0===N?void 0:N.details.map((function(e){return Object(x.jsx)(fe,{data:e},e._id.chapter_no)})))]})]}),(null===n||void 0===n?void 0:n.chapter_no)&&!F&&Object(x.jsxs)("div",{className:"subject-card",style:{height:"74vh",overflow:"hidden",width:"100%"},children:[Object(x.jsxs)("div",{style:{display:"flex",flexContent:"space-between"},children:[Object(x.jsx)("button",{className:"btn btn-sm text-success pt-0 pb-0 pl-0",onClick:function(e){return s.push("/book-check-quality/".concat(n.isbn,"/").concat(n.book_id))},children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})}),Object(x.jsxs)("b",{children:["Chapter No: ",null===n||void 0===n?void 0:n.chapter_no,".\xa0 ",null===k||void 0===k||null===(e=k.data[0])||void 0===e?void 0:e.chapter_name," "]})]}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsxs)("div",{style:{height:"60vh",overflowY:"scroll",paddingRight:"10px",paddingBottom:"0px"},children:[w&&Object(x.jsx)("span",{className:"fa fa-spinner"}),!w&&(null===k||void 0===k||null===(a=k.data)||void 0===a?void 0:a.map((function(e){return Object(x.jsxs)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(x.jsxs)("div",{className:"name-label pt-1",children:[Object(x.jsxs)("strong",{children:["Q.No: ",e.problem_no,". \xa0",Object(x.jsx)("span",{className:"badge badge-success pull-right",style:{textTransform:"capitalize"},children:null===e||void 0===e?void 0:e.flag})]}),Object(x.jsx)("hr",{className:"mt-1 mb-2"}),Object(x.jsx)("p",{className:"mb-1",children:null===e||void 0===e?void 0:e.question})]}),Object(x.jsx)("hr",{className:"mt-0 mb-2"}),Object(x.jsxs)("div",{className:"name-main",children:[("answered"===e.flag||"approved"===e.flag)&&Object(x.jsxs)("button",{className:"btn btn-sm counter btn-danger",style:{borderRadius:"50%"},onClick:function(a){M(!0),s.push("/book-check-quality/".concat(n.isbn,"/").concat(n.book_id,"/chapter/").concat(n.chapter_no,"/").concat(n.status,"/").concat("answered"==n.status?"check_answer":"submit_answer","/").concat(e._id))},children:[Object(x.jsx)("span",{className:"fa fa-question-circle-o"}),"\xa0",Object(x.jsx)("b",{children:"QC the Answer"})]}),("reworked"===e.flag||"rejected"===e.flag||"notassigned"===e.flag)&&Object(x.jsxs)("button",{className:"btn btn-sm counter btn-success",style:{borderRadius:"50%"},onClick:function(a){M(!0),s.push("/book-check-quality/".concat(n.isbn,"/").concat(n.book_id,"/chapter/").concat(n.chapter_no,"/").concat(n.status,"/").concat("answered"==n.status?"check_answer":"submit_answer","/").concat(e._id))},children:[Object(x.jsx)("span",{className:"fa fa-question-circle-o"}),"\xa0",Object(x.jsx)("b",{children:"Answer The Question"})]})]})]},e._id)})))]})]}),F&&Object(x.jsxs)("div",{className:"subject-card",style:{height:"auto !important",overflowY:"scroll",overflowX:"hidden",width:"100%"},children:[Object(x.jsxs)("div",{style:{display:"flex",flexContent:"space-between"},children:[Object(x.jsx)("button",{className:"btn btn-sm text-success pt-0 pb-0 pl-0",onClick:function(e){M(!1),s.push("/book-check-quality/".concat(n.isbn,"/").concat(n.book_id,"/").concat(n.chapter,"/").concat(n.chapter_no,"/").concat(n.status))},children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})}),Object(x.jsxs)("b",{children:["Chapter No: ",null===n||void 0===n?void 0:n.chapter_no,".\xa0 ",null===k||void 0===k||null===(t=k.data[0])||void 0===t?void 0:t.chapter_name," "]})]}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsx)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:Object(x.jsxs)("div",{className:"name-label pt-1",children:[Object(x.jsxs)("strong",{children:["Q.No: ",null===V||void 0===V?void 0:V.problem_no,". \xa0",Object(x.jsx)("span",{className:"badge badge-success pull-right",style:{textTransform:"capitalize"},children:null===V||void 0===V?void 0:V.flag})]}),Object(x.jsx)("hr",{className:"mt-1 mb-2"}),null===V||void 0===V?void 0:V.question]})}),Object(x.jsx)("div",{className:"mt-1 p-2",style:{border:"1px solid #ddd"},children:Object(x.jsxs)("div",{className:"name-label pt-1",children:[Object(x.jsx)("strong",{children:"Answer: \xa0 "}),Object(x.jsx)(ve.CKEditor,{editor:Ne.a,config:{toolbar:{items:["MathType","ChemType","heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","mediaEmbed","insertTable","blockQuote","undo","redo"]}},ref:J,data:null===V||void 0===V?void 0:V.temp_answer,defaultValue:null===V||void 0===V?void 0:V.temp_answer,onChange:function(e,a){var t=a.getData();q(Object(v.a)(Object(v.a)({},B),{},{temp_answer:t}))}})]})}),"check_answer"===(null===n||void 0===n?void 0:n.remark)&&Object(x.jsx)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:Object(x.jsxs)("div",{className:"name-label pt-1",children:[Object(x.jsx)("button",{className:"btn btn-sm counter btn-success",onClick:oe,children:ae?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-spinner"}),"\xa0 processing...."]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-check-circle-o"}),"\xa0 Approve Answer"]})}),Object(x.jsxs)("button",{className:"btn btn-sm counter btn-danger ml-2 ".concat("reworked"==Oe?"active":""),onClick:function(e){we(""),ge("reworked"),me(!0)},children:[Object(x.jsx)("span",{className:"fa fa-check-circle-o"}),"\xa0 Send Back To Tutor"]}),Object(x.jsxs)("button",{className:"btn btn-sm counter btn-primary ml-2 ".concat("rejected"==Oe?"active":""),onClick:function(e){we(""),ge("rejected"),me(!0)},children:[Object(x.jsx)("span",{className:"fa fa-backward"}),"\xa0 Send Back To Pool"]}),Object(x.jsxs)("button",{className:"btn btn-sm btn-danger counter ml-2",onClick:function(e){M(!1),s.push("/book-check-quality/".concat(n.isbn,"/").concat(n.book_id,"/").concat(n.chapter,"/").concat(n.chapter_no,"/").concat(n.status))},children:[Object(x.jsx)("span",{className:"fa fa-times"}),"\xa0 Cancel"]})]})}),"submit_answer"===(null===n||void 0===n?void 0:n.remark)&&Object(x.jsx)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:Object(x.jsxs)("div",{className:"name-label pt-1",children:[("answered"===n.status||"notassigned"===n.status||"rejected"===n.status||"approved"===n.status||"reworked"===n.status)&&Object(x.jsx)("button",{className:"btn btn-sm counter btn-success",onClick:oe,children:ae?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-spinner"}),"\xa0 processing...."]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-check-circle-o"}),"\xa0 Submit Answer"]})}),Object(x.jsxs)("button",{className:"btn btn-sm btn-danger counter ml-2",onClick:function(e){M(!1),s.push("/book-check-quality/".concat(n.isbn,"/").concat(n.book_id,"/").concat(n.chapter,"/").concat(n.chapter_no,"/").concat(n.status))},children:[Object(x.jsx)("span",{className:"fa fa-times"}),"\xa0 Cancel"]})]})}),be&&"check_answer"===(null===n||void 0===n?void 0:n.remark)&&Object(x.jsxs)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(x.jsxs)("h5",{children:["Options reason for: ",n.status," ",Object(x.jsx)("span",{className:"fa fa-enter"})," "]}),Object(x.jsx)("hr",{className:"mt-1 mb-3"}),Object(x.jsxs)("div",{className:"name-label row pl-3",children:[Object(x.jsx)("button",{className:"counter btn-success pl-3 pr-3 mr-2 ".concat("incomplete"==ke?"active":""),onClick:function(e){we("incomplete"),q({})},children:"\xa0 Incomplete"}),Object(x.jsx)("button",{className:"counter btn-success pl-3 pr-3 mr-2 ".concat("moredetails"==ke?"active":""),onClick:function(e){we("moredetails"),q({})},children:"\xa0 Answer Required more details"}),Object(x.jsx)("button",{className:"counter btn-success pl-3 pr-3 mr-2 ".concat("other"==ke?"active":""),onClick:function(e){we("other"),q({})},children:"\xa0 Other Reason"}),"other"==ke&&Object(x.jsx)("div",{children:Object(x.jsx)("input",{type:"text",name:"other_data",className:"counter text-danger",style:{outline:"none"},onChange:function(e){return q(Object(v.a)(Object(v.a)({},B),{},{other_data:e.target.value}))}})})]}),Object(x.jsx)("hr",{className:"mt-3 mb-3"}),Object(x.jsx)("button",{className:"btn-success counter pl-3 pr-3",onClick:Ce,children:re?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-spinner mr-2"})," Processing..."]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-save mr-2"})," Submit Answer"]})}),Object(x.jsxs)("button",{className:"btn-danger counter pl-3 pr-3 ml-2",onClick:function(e){ge(""),me(!1)},children:[Object(x.jsx)("span",{className:"fa fa-times"})," Cancel"]})]})]})]})]})})})]})})})})}},{path:"/all-students",component:function(){var e,a,t,s,n=Object(c.useContext)(b.a).state,r=function(){Object(l.i)();var e=Object(c.useContext)(b.a).state,a=Object(c.useContext)(m.a).state,t="";t=O.a;var s=null===a.CurrentPage?1:a.CurrentPage;return Object(L.a)(["students",s],Object(j.a)(d.a.mark((function a(){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.get("".concat(t,"student/all/").concat(s,"/").concat(10),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return c=a.sent,a.abrupt("return",{data:c.data.data,pagination:{currentPage:c.data.currentPage,hasNextPage:c.data.hasNextPage,hasPrevPage:c.data.hasPrevPage,next:c.data.next,pageCount:c.data.pageCount,itemCount:c.data.itemCount,prev:c.data.prev}});case 4:case"end":return a.stop()}}),a)}))))}(),i=r.data,o=r.isLoading,u=r.error;return Object(x.jsx)(x.Fragment,{children:n.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{style:{textTransform:"capitalize"},children:"All Students "})}),u&&Object(x.jsx)(T.a,{children:u.message}),o&&Object(x.jsx)(R,{}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsx)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:Object(x.jsx)(oe,{pagination:null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.pagination})})}),!o&&Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsxs)("div",{className:"subject-main-container",children:[null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.map((function(e){return Object(x.jsx)(_e,{student:e},e._id)})),0===(null===i||void 0===i||null===(t=i.data)||void 0===t||null===(s=t.pagination)||void 0===s?void 0:s.itemCount)&&Object(x.jsx)("div",{className:"col-md-6 offset-3 p-5",children:Object(x.jsxs)("h2",{style:{fontSize:"1.2em"},children:["No Students Registered yet ",Object(x.jsx)("br",{})]})})]})})]})})})})}},{path:"/manage-faq",component:function(){var e=Object(c.useContext)(b.a).state,a=we(),t=a.data,s=a.isLoading,n=a.error;return console.log("data back",t),Object(x.jsx)(x.Fragment,{children:e.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{style:{textTransform:"capitalize"},children:"All Faq Category "})}),n&&Object(x.jsx)(T.a,{children:n.message}),s&&Object(x.jsx)(R,{}),Object(x.jsx)(Ee,{data:t}),!s&&Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsxs)("div",{className:"subject-main-container",children:[t&&t.data.map((function(e){return Object(x.jsx)(Se,{faq:e},e._id)})),t.pagination&&0===t.pagination.itemCount&&Object(x.jsx)("div",{className:"col-md-6 pt-1",children:Object(x.jsx)("h2",{style:{fontSize:"1.2em",color:"#f00"},children:"No Faq Category Registered yet"})})]})})]})})})})}},{path:"/manage-faq-category",component:function(){var e=Object(c.useContext)(b.a).state,a=we(),t=a.data,s=a.isLoading,n=a.error;return Object(x.jsx)(x.Fragment,{children:e.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{style:{textTransform:"capitalize"},children:" Create Faq Category "})}),n&&Object(x.jsx)(T.a,{children:n.message}),s&&Object(x.jsx)(R,{}),Object(x.jsx)(Ee,{data:t}),!s&&Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsx)("div",{className:"subject-main-container",children:Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(Te,{})})})})]})})})})}},{path:"/add-faq-question/:faq_category?/:faq_id/:question_id?",component:function(){var e=Object(c.useContext)(b.a).state,a=function(){var e=Object(l.i)(),a=Object(c.useContext)(b.a).state,t=Object(c.useContext)(m.a).state,s="";s=O.a;var n=null===t.CurrentPage?1:t.CurrentPage;return Object(L.a)(["singlefaq",n],Object(j.a)(d.a.mark((function t(){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("".concat(s,"faq/single/").concat(e.faq_id),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 2:return c=t.sent,t.abrupt("return",{data:c.data.data});case 4:case"end":return t.stop()}}),t)}))))}(),t=a.data,s=a.isLoading,n=a.error;return Object(x.jsx)(x.Fragment,{children:e.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{style:{textTransform:"capitalize"},children:" Create Faq Category "})}),n&&Object(x.jsx)(T.a,{children:n.message}),s&&Object(x.jsx)(R,{}),Object(x.jsx)(Ee,{data:t}),!s&&Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsxs)("div",{className:"subject-main-container",children:[Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(Re,{data:t.data.faq_content})}),Object(x.jsx)("div",{className:"col-md-8",children:Object(x.jsx)(Ae,{faqLists:t.data.faq_content})})]})})]})})})})}},{path:"/all-tutors/:status?/:master_subject?/:type?",component:function(){var e,a,t=Object(ce.useToasts)().addToast,s=Object(l.g)(),n=Object(l.i)(),r=Object(c.useRef)(),i=Object(c.useRef)(),o=Object(c.useRef)(),u=Object(c.useContext)(b.a).state,h=function(){var e=Object(l.i)(),a=Object(c.useContext)(b.a).state,t=Object(c.useContext)(m.a).state,s="";s=O.a;var n=null===t.CurrentPage?1:t.CurrentPage,r="";return r=e.status&&e.master_subject?"".concat(s,"tutor/all/").concat(null===e||void 0===e?void 0:e.status,"/").concat(null===e||void 0===e?void 0:e.master_subject,"/").concat(null===e||void 0===e?void 0:e.type,"/").concat(n,"/").concat(12):"".concat(s,"tutor/all/all/all/all/").concat(n,"/").concat(12),Object(L.a)(["tutors/".concat(null===e||void 0===e?void 0:e.status,"/").concat(null===e||void 0===e?void 0:e.master_subject,"/").concat(null===e||void 0===e?void 0:e.type),n],Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(r),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 2:return t=e.sent,e.abrupt("return",{data:t.data.data,pagination:{currentPage:t.data.currentPage,hasNextPage:t.data.hasNextPage,hasPrevPage:t.data.hasPrevPage,next:t.data.next,pageCount:t.data.pageCount,itemCount:t.data.itemCount,prev:t.data.prev}});case 4:case"end":return e.stop()}}),e)}))))}(),f=h.data,v=h.isLoading,N=h.error,g=Y().data,_=Object(c.useState)(!1),k=Object(y.a)(_,2),w=k[0],C=k[1],S=Object(c.useState)(!0),E=Object(y.a)(S,2),A=E[0],B=E[1],q=Object(c.useState)(!1),I=Object(y.a)(q,2),P=I[0],D=I[1],U=Object(c.useState)(null),G=Object(y.a)(U,2),F=G[0],M=G[1],z=new FormData,Q=function(){var e=Object(j.a)(d.a.mark((function e(a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.target.files[0].name,"csv"===c.split(".")[1]?(B(!1),M(a.target.files[0]),z.append("file",a.target.files[0])):(B(!0),t("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),V="";V=O.a;var K={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+u.access_token}},J=function(){var e=Object(j.a)(d.a.mark((function e(a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c=null,z.append("file",F),D(!0),B(!0),e.next=7,p.a.post("".concat(V,"tutor/upload"),z,K);case 7:200===(c=e.sent).status?(D(!1),C(!1),s.push("/all-tutors")):(B(!1),D(!1),t(c.message,{appearance:"success",autoDismiss:!0}),s.push("/all-tutors"));case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:u.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{style:{textTransform:"capitalize"},children:"All Tutors "})}),N&&Object(x.jsx)(T.a,{children:N.message}),v&&Object(x.jsx)(R,{}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsxs)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:[Object(x.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){return C(!w)},children:[Object(x.jsx)("span",{className:"fa fa-upload"}),"\xa0 Upload Tutor"]}),Object(x.jsxs)("select",{className:"mr-2",ref:o,onChange:function(e){s.push("/all-tutors/".concat(r.current.value,"/").concat(i.current.value,"/").concat(e.target.value))},children:[Object(x.jsx)("option",{value:"all",selected:"all"===(null===n||void 0===n?void 0:n.type)?"selected":"",children:"All"}),Object(x.jsx)("option",{value:"freelance",selected:"freelance"===(null===n||void 0===n?void 0:n.type)?"selected":"",children:"Freelance"}),Object(x.jsx)("option",{value:"cfs",selected:"cfs"===(null===n||void 0===n?void 0:n.type)?"selected":"",children:"CFS"})]}),Object(x.jsxs)("select",{ref:i,className:"mr-2",name:"category",onChange:function(e){s.push("/all-tutors/".concat(r.current.value,"/").concat(e.target.value,"/").concat(o.current.value))},children:[Object(x.jsx)("option",{value:"all",children:"All"}),null===g||void 0===g?void 0:g.map((function(e){return Object(x.jsx)("option",{value:"".concat(e.sub_subject),selected:n.master_subject==e.sub_subject?"selected":"",children:e.sub_subject},e._id)}))]}),Object(x.jsxs)("select",{className:"col-md-1 mr-1",ref:r,onChange:function(e){return s.push("/all-tutors/".concat(e.target.value,"/").concat(i.current.value,"/").concat(o.current.value))},children:[Object(x.jsx)("option",{value:"all",children:"All"}),Object(x.jsx)("option",{value:"1",selected:"1"===n.status?"selected":"",children:"Active"}),Object(x.jsx)("option",{value:"0",selected:"0"===n.status?"selected":"",children:"Blocked"})]}),Object(x.jsx)(oe,{pagination:null===f||void 0===f?void 0:f.pagination})]})}),!v&&Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsxs)("div",{className:"subject-main-container",children:[w&&Object(x.jsx)("div",{className:"col-md-3 p-2 card",children:Object(x.jsxs)("form",{encType:"multipart/form-data",children:[Object(x.jsxs)("div",{className:"form-data",children:[Object(x.jsx)("label",{children:"Upload Tutor"}),Object(x.jsx)("input",{type:"file",className:"form-control",onChange:Q,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(x.jsxs)("div",{className:"form-data mt-2",children:[Object(x.jsx)("button",{className:"btn btn-sm dark btn-full",onClick:J,disabled:P&&A,children:P?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-spinner"})," uploading.... "]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"fa fa-upload"})," upload data"]})}),Object(x.jsx)("button",{className:"btn btn-sm my-btn btn-danger ml-1",onClick:function(e){D(!1),C(!1)},children:Object(x.jsx)("span",{className:"fa fa-times"})})]})]})}),Object(x.jsxs)("div",{className:w?"row col-md-9":"row col-md-12",children:[null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.map((function(e){return Object(x.jsx)(ke,{tutor:e},e._id)})),0===(null===f||void 0===f||null===(a=f.pagination)||void 0===a?void 0:a.itemCount)&&Object(x.jsx)("div",{className:"col-md-6 text-center offset-3",children:Object(x.jsxs)("h1",{style:{fontSize:"2.5em",color:"#000",marginTop:"30vh",padding:"25px",background:"yellow"},children:["No Tutor Registered ",Object(x.jsx)("br",{}),"With ",null===n||void 0===n?void 0:n.master_subject," In ",null===n||void 0===n?void 0:n.type," ",Object(x.jsx)("br",{})]})})]})]})})]})})})})}},{path:"/tutor-details/:tutor_id?",component:function(){var e,a,t,s,n,r,i,o,u,h,f,v,N,g,_,k,w,C,S,E,T,R,A,B,q=Object(l.g)(),I=Object(c.useContext)(b.a).state,P=function(){var e=Object(l.i)(),a=Object(c.useContext)(b.a).state,t=(Object(c.useContext)(m.a).state,"");t=O.a;var s="";return e.tutor_id&&(s="".concat(t,"tutor/details/").concat(null===e||void 0===e?void 0:e.tutor_id)),Object(L.a)(["tutor/".concat(null===e||void 0===e?void 0:e.tutor_id)],Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(s),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))))}(),D=P.data,U=P.isLoading,G=(JSON.stringify(null===D||void 0===D||null===(e=D.data)||void 0===e?void 0:e.bank_details),null===D||void 0===D||null===(a=D.data)||void 0===a?void 0:a.education),F=null===D||void 0===D?void 0:D.statics,M=Object(c.useState)([]),z=Object(y.a)(M,2),Q=z[0],V=z[1],K=Object(c.useState)("pending"),J=Object(y.a)(K,2),H=J[0],Y=J[1];function Z(){return(Z=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(null===F||void 0===F?void 0:F.total_pending_qc);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return Z.apply(this,arguments)}),[D]),Object(x.jsx)(x.Fragment,{children:I.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Tutor Details"})}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsx)("div",{className:"col-md-12 row",children:Object(x.jsx)("button",{className:"btn btn-sm dark",onClick:function(e){var a;return q.push("/all-tutors/all/".concat(null===D||void 0===D||null===(a=D.data)||void 0===a?void 0:a.master_subject,"/all"))},children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})})})}),U&&Object(x.jsx)("span",{className:"fa fa-spinner"}),!U&&Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsx)("div",{className:"subject-main-container pl-0 pt-0 pr-0 pb-0",children:Object(x.jsxs)("div",{className:"row col-md-12 pr-0",children:[Object(x.jsx)("div",{className:"col-md-5",children:Object(x.jsxs)("div",{className:"module-card",style:{width:"100%"},children:[Object(x.jsx)("h4",{children:"Personal Details"}),Object(x.jsx)("hr",{className:"mt-1 mb-2"}),Object(x.jsxs)("div",{className:"admin-name mb-1",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-user fa-1x mr-2 pt-1"}),"\xa0 Name:"]}),Object(x.jsxs)("div",{className:"name-main",children:[null===D||void 0===D||null===(t=D.data)||void 0===t?void 0:t.fname,"\xa0 ",null===D||void 0===D||null===(s=D.data)||void 0===s?void 0:s.lname]})]}),Object(x.jsxs)("div",{className:"admin-name mb-1",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-envelope fa-1x mr-2 pt-1"}),"\xa0 Email:"]}),Object(x.jsx)("div",{className:"name-main",children:null===D||void 0===D||null===(n=D.data)||void 0===n?void 0:n.email})]}),Object(x.jsxs)("div",{className:"admin-name mb-1",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Address:"]}),Object(x.jsxs)("div",{className:"name-main",children:[null===D||void 0===D||null===(r=D.data)||void 0===r?void 0:r.house_name,",\xa0",null===D||void 0===D||null===(i=D.data)||void 0===i?void 0:i.street_name,",\xa0",null===D||void 0===D||null===(o=D.data)||void 0===o?void 0:o.city,",\xa0",null===D||void 0===D||null===(u=D.data)||void 0===u?void 0:u.zipcode,",\xa0",null===D||void 0===D||null===(h=D.data)||void 0===h?void 0:h.country,",\xa0 ",null===D||void 0===D||null===(f=D.data)||void 0===f?void 0:f.country_full]})]}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsx)("h4",{className:"mt-1 mb-1",children:"Education Details"}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),null===G||void 0===G?void 0:G.map((function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"admin-name mb-1",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-book fa-1x mr-2 pt-1"}),"\xa0 Class:"]}),Object(x.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.class})]}),Object(x.jsxs)("div",{className:"admin-name mb-1",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-book fa-1x mr-2 pt-1"}),"\xa0 Subject:"]}),Object(x.jsxs)("div",{className:"name-main",children:["(",null===e||void 0===e?void 0:e.subject,")"]})]}),Object(x.jsxs)("div",{className:"admin-name mb-1",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-book fa-1x mr-2 pt-1"}),"\xa0 Grade:"]}),Object(x.jsxs)("div",{className:"name-main",children:[null===e||void 0===e?void 0:e.grade,"%"]})]}),Object(x.jsxs)("div",{className:"admin-name mb-1",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-book fa-1x mr-2 pt-1"}),"\xa0 Passing Year:"]}),Object(x.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.year})]})]})})),Object(x.jsxs)("div",{className:"admin-name mb-1",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-book fa-1x mr-2 pt-1"}),"\xa0 Master Subject:"]}),Object(x.jsx)("div",{className:"name-main",children:null===D||void 0===D||null===(v=D.data)||void 0===v?void 0:v.master_subject})]}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsx)("h4",{className:"mt-1 mb-1",children:"Bank Details"}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),"NULL"!==(null===D||void 0===D||null===(N=D.data)||void 0===N?void 0:N.paypal)?Object(x.jsxs)("div",{className:"admin-name mb-1",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-dollar fa-1x mr-2 pt-1"}),"\xa0 Paypal:"]}),Object(x.jsx)("div",{className:"name-main",children:null===D||void 0===D||null===(g=D.data)||void 0===g?void 0:g.paypal})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"admin-name mb-1",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Bank Name:"]}),Object(x.jsx)("div",{className:"name-main",children:null===D||void 0===D||null===(_=D.data)||void 0===_?void 0:_.Bank_Name})]}),Object(x.jsxs)("div",{className:"admin-name mb-1",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Account Name:"]}),Object(x.jsx)("div",{className:"name-main",children:null===D||void 0===D||null===(k=D.data)||void 0===k?void 0:k.Account_Name})]}),Object(x.jsxs)("div",{className:"admin-name mb-1",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Bank Country:"]}),Object(x.jsx)("div",{className:"name-main",children:null===D||void 0===D||null===(w=D.data)||void 0===w?void 0:w.Bank_Country})]}),Object(x.jsxs)("div",{className:"admin-name mb-1",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Account Type:"]}),Object(x.jsx)("div",{className:"name-main",children:null===D||void 0===D||null===(C=D.data)||void 0===C?void 0:C.Account_Type})]}),Object(x.jsxs)("div",{className:"admin-name mb-1",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Account_Number:"]}),Object(x.jsx)("div",{className:"name-main",children:null===D||void 0===D||null===(S=D.data)||void 0===S?void 0:S.Account_Number})]}),Object(x.jsxs)("div",{className:"admin-name mb-1",children:[Object(x.jsxs)("div",{className:"name-label",children:[Object(x.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Bank Address:"]}),Object(x.jsx)("div",{className:"name-main",children:null===D||void 0===D||null===(E=D.data)||void 0===E?void 0:E.Bank_Address})]})]})]})}),Object(x.jsx)("div",{className:"col-md-7 pl-0 pr-0",children:Object(x.jsxs)("div",{className:"module-card",style:{width:"100%"},children:[Object(x.jsx)("h4",{children:"Freelance Question Answer"}),Object(x.jsx)("hr",{className:"mt-1 mb-2"}),Object(x.jsxs)("div",{className:"row col-md-12 mb-3",children:[Object(x.jsx)("div",{className:"col-md-3 pl-0",children:Object(x.jsxs)("button",{className:"counter btn-success p-2 ".concat("pending"===H?"active":""),onClick:function(e){V(null===F||void 0===F?void 0:F.total_pending_qc),Y("pending")},children:["Total Answered: \xa0",null===F||void 0===F||null===(T=F.total_pending_qc)||void 0===T?void 0:T.length]})}),Object(x.jsx)("div",{className:"col-md-3 pl-0",children:Object(x.jsxs)("button",{className:"counter btn-success p-2 ".concat("solved"===H?"active":""),onClick:function(e){V(null===F||void 0===F?void 0:F.total_solved),Y("solved")},children:["Total Solved: \xa0",null===F||void 0===F||null===(R=F.total_solved)||void 0===R?void 0:R.length]})}),Object(x.jsx)("div",{className:"col-md-3 pl-0",children:Object(x.jsxs)("button",{className:"counter btn-success p-2 ".concat("reworked"===H?"active":""),onClick:function(e){V(null===F||void 0===F?void 0:F.total_reworked),Y("reworked")},children:["Total Reworked: \xa0",null===F||void 0===F||null===(A=F.total_reworked)||void 0===A?void 0:A.length]})})]}),Object(x.jsx)("hr",{className:"mt-1 mb-2"}),(null===Q||void 0===Q?void 0:Q.length)>0&&Object(x.jsx)("div",{className:"row col-md-12 mr-0 pl-0 pr-3",style:{height:"300px",overflowY:"scroll"},children:null===Q||void 0===Q?void 0:Q.map((function(e){return Object(x.jsxs)("div",{className:"ml-3 mr-0 pr-0 mb-2",children:[Object(x.jsxs)("div",{className:"pl-0",children:[Object(x.jsxs)("p",{className:"mb-1",children:["Book Name: ",null===e||void 0===e?void 0:e.book_name]}),Object(x.jsxs)("p",{className:"mb-1",children:["Chapter No: ",null===e||void 0===e?void 0:e.chapter_no,".\xa0 ",null===e||void 0===e?void 0:e.chapter_name," "]})]}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsx)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:Object(x.jsxs)("div",{className:"name-label pt-1",children:[Object(x.jsxs)("strong",{children:["Q.No: ",null===e||void 0===e?void 0:e.problem_no,". \xa0",Object(x.jsx)("span",{className:"badge badge-success pull-right",style:{textTransform:"capitalize"},children:null===e||void 0===e?void 0:e.flag})]}),Object(x.jsx)("hr",{className:"mt-1 mb-2"}),null===e||void 0===e?void 0:e.question,Object(x.jsx)("div",{className:"mt-1 p-2",style:{border:"1px solid #ddd"},children:Object(x.jsxs)("div",{className:"name-label pt-1",children:[Object(x.jsx)("strong",{children:"Answer: \xa0 "}),null===e||void 0===e?void 0:e.temp_answer]})})]})})]})}))}),"0"==(null===Q||void 0===Q?void 0:Q.length)&&Object(x.jsx)("div",{className:"mr-0 pr-0 mb-2",children:Object(x.jsxs)("h3",{className:"p-3 text-center",style:{fontSize:"1.5rem",margin:"0 auto",background:"yellow"},children:[" Not any single Question Solved By ",null===D||void 0===D||null===(B=D.data)||void 0===B?void 0:B.fname]})})]})})]})})})]})})})})}}],He=[{path:"/master-admin",component:function(){var e=this,a=Object(l.g)(),t=Object(c.useContext)(b.a).state,s=Object(c.useContext)(m.a),n=s.state,r=s.dispatch,i=Object(c.useContext)(F.a),o=i.state,u=i.dispatch,h=Object(S.a)({method:"get",url:"master-admin/view-all"}),p=h.response,O=h.isLoading,f=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("delete-data/master-admin/delete/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/master-admin/update/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){if(null!==p){var e=p.data;r({type:"GET_ALL_ADMIN",payload:e})}}),[p]),Object(c.useEffect)((function(){var e=setTimeout((function(){return u({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return u({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[o]),Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&n&&o&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Admin List"})}),o.success&&Object(x.jsx)(T.a,{children:o.success}),o.error&&Object(x.jsx)(T.a,{children:o.error}),O&&Object(x.jsx)(R,{}),Object(x.jsx)(qe,{data:n.Admins}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsx)("div",{className:"org-main-area",children:!O&&Object(x.jsx)("div",{className:"subject-main-container",children:n.Admins.map((function(a){return Object(x.jsxs)("div",{className:"small-card",id:"card-".concat(a._id),children:[Object(x.jsxs)("div",{className:"subject-card-body mt-2",children:[Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Name:"}),Object(x.jsx)("div",{className:"name-main",children:a.fullname})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Email:"}),Object(x.jsx)("div",{className:"name-main",children:a.email})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Role:"}),Object(x.jsx)("div",{className:"name-main",children:1==a.role?"Super Admin":"Admin"})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Created On:"}),Object(x.jsx)("div",{className:"name-main",children:a.created_at.split("T")[0]})]})]}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsxs)("div",{className:"subject-card-heading",children:[Object(x.jsx)("div",{}),Object(x.jsxs)("div",{children:[Object(x.jsx)(w.a,{className:"delBtn",onClick:v.bind(e,a._id),children:Object(x.jsx)("span",{className:"fa fa-pencil-square-o text-primary mr-2"})}),Object(x.jsx)(w.a,{className:"delBtn",onClick:f.bind(e,a._id),children:Object(x.jsx)("span",{className:"fa fa-trash text-danger ml-2"})})]})]})]},a._id)}))})})})]})})})})}},{path:"/master-admin/create",component:Ie},{path:"/master-admin/update/:id",component:Ie},{path:"/master-role",component:function(){var e=this,a=Object(l.g)(),t=Object(c.useContext)(b.a).state,s=Object(c.useContext)(m.a),n=s.state,r=s.dispatch,o=Object(c.useContext)(F.a),u=o.state,h=o.dispatch,p=Object(S.a)({method:"get",url:"master-role/view-all"}),O=p.response,f=p.isLoading,v=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("delete-data/master-role/delete/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/master-role/update/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){if(null!==O){var e=O.data;r({type:"GET_ALL_ROLE",payload:e})}}),[O]),Object(c.useEffect)((function(){var e=setTimeout((function(){return h({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return h({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[u.errror,u.success]),Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&n&&u&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Role List"})}),u.success&&Object(x.jsx)(T.a,{children:u.success}),u.error&&Object(x.jsx)(T.a,{children:u.error}),f&&Object(x.jsx)(R,{}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsxs)(i.b,{to:"/master-role/create",className:"btn btn-sm dark",children:[Object(x.jsx)("span",{className:"fa fa-plus-circle"}),"\xa0 Add New Role"]})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsx)("div",{className:"org-main-area",children:!f&&Object(x.jsx)("div",{className:"subject-main-container",children:n.Roles.map((function(a){return Object(x.jsxs)("div",{className:"subject-card",id:"card-".concat(a._id),children:[Object(x.jsxs)("div",{className:"subject-card-body mt-2",children:[Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Role:"}),Object(x.jsx)("div",{className:"name-main",children:a.name})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Role_id:"}),Object(x.jsx)("div",{className:"name-main",children:a.role})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Status:"}),Object(x.jsx)("div",{className:"name-main",children:1==a.status?"Active":"Inactive"})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Created On:"}),Object(x.jsx)("div",{className:"name-main",children:a.created_at.split("T")[0]})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Description:"}),Object(x.jsx)("div",{className:"name-main desc",children:a.description})]})]}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsxs)("div",{className:"subject-card-heading",children:[Object(x.jsx)("div",{}),Object(x.jsxs)("div",{children:[Object(x.jsx)(i.b,{to:"view-permission/".concat(a.name.replace(" ","-").toLowerCase().trim(),"/").concat(a._id),children:Object(x.jsx)("span",{className:"fa fa-lock text-warning mr-2"})}),Object(x.jsx)(w.a,{className:"delBtn",onClick:N.bind(e,a._id),children:Object(x.jsx)("span",{className:"fa fa-pencil-square-o text-success mr-2"})}),Object(x.jsx)(w.a,{className:"delBtn",onClick:v.bind(e,a._id),children:Object(x.jsx)("span",{className:"fa fa-trash text-danger"})})]})]})]},a._id)}))})})})]})})})})}},{path:"/view-permission/:role_name/:role_id",component:function(){Object(l.g)();var e=Object(l.i)(),a=Object(c.useContext)(b.a).state,t=Object(c.useContext)(m.a),s=t.state,n=t.dispatch,r=Object(c.useContext)(F.a),o=r.state,d=r.dispatch,j=Ge(),u=(j.formData,j.handleChange,Object(S.a)({method:"get",url:"master-role-permission/view/".concat(e.role_id,"/").concat(e.role_name)})),h=u.response,p=u.isLoading,O=Object(c.useState)(),f=Object(y.a)(O,2),v=f[0],N=f[1];return Object(c.useEffect)((function(){if(null!==h){var e=h.data.permissions;n({type:"GET_ROLE_PERMISSIONS",payload:e}),e&&N(e)}}),[h,v]),Object(c.useEffect)((function(){var e=setTimeout((function(){return d({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return d({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[o.error,o.success]),Object(x.jsx)(x.Fragment,{children:a.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsxs)("h2",{children:["Permission List ",e.role_name]})}),o.success&&Object(x.jsx)(T.a,{children:o.success}),o.error&&Object(x.jsx)(T.a,{children:o.error}),p&&Object(x.jsx)(R,{}),!p&&Object(x.jsxs)("div",{className:"dash-con-heading",children:[Object(x.jsx)(i.b,{to:"/master-role",className:"btn btn-sm dark mr-2",children:Object(x.jsx)("span",{className:"fa fa-arrow-left"})}),Object(x.jsx)(i.b,{to:"/role-permission/update/".concat(e.role_name,"/").concat(e.role_id),className:"btn btn-sm dark",children:"Update Permission"})]}),!p&&Object(x.jsxs)("div",{className:"dash-cont-start",children:[Object(x.jsx)("h4",{className:"mt-2",children:"All Role Permissions"}),Object(x.jsx)("div",{className:"subject-main-container",children:s.AllRolePermissions.map((function(e){return Object(x.jsx)("div",{className:"small-card",children:Object(x.jsxs)("div",{className:"subject-card-body mt-2",children:[Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Module Name:"}),Object(x.jsx)("div",{className:"name-main",children:e.module_name.replaceAll("-"," ")})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Method Name:"}),Object(x.jsx)("div",{className:"name-main",children:e.method_name.replaceAll("-"," ")})]})]})},e._id)}))})]})]})})})})}},{path:"/master-module",component:function(){var e=this,a=Object(l.g)(),t=Object(c.useContext)(b.a).state,s=Object(c.useContext)(m.a),n=s.state,r=s.dispatch,o=Object(c.useContext)(F.a),u=o.state,h=o.dispatch,p=Object(S.a)({method:"get",url:"master-module/view-all"}),O=p.response,f=p.isLoading,v=(p.error,Object(c.useState)()),N=Object(y.a)(v,2),g=N[0],_=N[1],k=function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.id,a.push("delete-data/master-module/delete/".concat(c));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/master-module/update/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/".concat(q(t)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),L=function(){var e=Object(j.a)(d.a.mark((function e(t){var c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.id,s=t.module_name.toLowerCase().replace(" ","-"),a.push("/view-data/master-module/".concat(s,"/view/").concat(c));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){if(null!==O){var e=O.data;r({type:"GET_ALL_MODLISTS",payload:e}),e&&_(e)}}),[O,g]),Object(c.useEffect)((function(){var e=setTimeout((function(){return h({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return h({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[u]),Object(x.jsx)(x.Fragment,{children:t.isLoggedIn&&u&&n.ModLists&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"Module List"})}),u.success&&Object(x.jsx)(T.a,{children:u.success}),f&&Object(x.jsx)(R,{}),Object(x.jsx)("div",{className:"dash-con-heading",children:Object(x.jsx)("div",{className:"col-md-3 pl-0",children:Object(x.jsxs)(i.b,{to:"/master-module/create",className:"btn btn-sm dark",children:[Object(x.jsx)("span",{className:"fa fa-plus-circle"}),"\xa0 Add New Module"]})})}),Object(x.jsx)("div",{className:"dash-cont-start",children:Object(x.jsx)("div",{className:"org-main-area",children:!f&&Object(x.jsx)("div",{className:"subject-main-container",children:n.ModLists.map((function(a){return Object(x.jsxs)("div",{className:"small-card",id:"card-".concat(a._id),children:[Object(x.jsxs)("div",{className:"subject-card-body mt-2",children:[Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Module Name:"}),Object(x.jsx)("div",{className:"name-main",children:a.module_name})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Status:"}),Object(x.jsx)("div",{className:"name-main",children:1==a.status?"Active":"Inactive"})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Created On:"}),Object(x.jsx)("div",{className:"name-main",children:a.create_at.split("T")[0]})]}),Object(x.jsxs)("div",{className:"admin-name",children:[Object(x.jsx)("div",{className:"name-label",children:"Description:"}),Object(x.jsx)("div",{className:"name-main desc",children:I(a.description,30)})]})]}),Object(x.jsx)("hr",{className:"mt-1 mb-1"}),Object(x.jsxs)("div",{className:"subject-card-heading",children:[Object(x.jsx)("div",{}),Object(x.jsxs)("div",{children:[Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1 ",onClick:E.bind(e,a.module_name),children:Object(x.jsx)("span",{className:"fa fa-eye mr-2 text-success"})}),Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1",onClick:C.bind(e,a._id),children:Object(x.jsx)("span",{className:"fa fa-edit mr-2 text-danger"})}),Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1",onClick:L.bind(e,{id:a._id,module_name:a.module_name}),children:Object(x.jsx)("span",{className:"fa fa-lock mr-2 text-success"})}),Object(x.jsx)(w.a,{className:"delBtn pl-1 pr-1",onClick:k.bind(e,{id:a._id,module_name:a.module_name}),children:Object(x.jsx)("span",{className:"fa fa-trash mr-2 text-danger"})})]})]})]},a._id)}))})})})]})})})})}},{path:"/master-module/create",component:De},{path:"/master-module/update/:id",component:De},{path:"/master-module/password/:module_name/:module_id",component:Ue.a},{path:"/master-module/password/:module_name/:module_id/:module_method/:id",component:Ue.a},{path:"/master-role/create",component:Pe},{path:"/master-role/update/:id",component:Pe},{path:"/master-permission-group",component:Qe},{path:"/master-permission-group/:module_name/update/:id",component:Qe},{path:"/role-permission",component:Ve},{path:"/role-permission/update/:role_name/:role_id",component:Ve},{path:"/user-permission",component:function(){Object(l.g)();var e=Object(c.useContext)(b.a).state,a=Object(c.useContext)(m.a),t=a.state,s=a.dispatch,n=Object(c.useContext)(F.a),r=n.state,i=n.dispatch,o=Ge(),u=o.formData,h=o.handleChange,p=Object(S.a)({method:"get",url:"master-permission-group/view-all"}),O=p.response,f=p.isLoading,v=Object(S.a)({method:"get",url:"master-admin/view-all"}).response,N=Object(c.useState)(),g=Object(y.a)(N,2),_=g[0],k=g[1],C=Object(c.useState)(),E=Object(y.a)(C,2),L=(E[0],E[1]);Object(c.useEffect)((function(){if(null!==O){var e=O.data;s({type:"GET_ALL_PERMISSION_GROUPS",payload:e}),e&&k(e)}if(null!==v){var a=v.data;s({type:"GET_ALL_ADMIN",payload:a}),a&&L(a)}}),[O,_,v,L]),Object(c.useEffect)((function(){var e=setTimeout((function(){return i({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return i({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[r.error,r.success]);var A=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(u);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:e.isLoggedIn&&Object(x.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(x.jsx)("div",{className:"main-area-all",children:Object(x.jsxs)("div",{className:"dashboard_main-container",children:[Object(x.jsx)("div",{className:"dash-main-head",children:Object(x.jsx)("h2",{children:"User Permissions"})}),r.success&&Object(x.jsx)(T.a,{children:r.success}),r.error&&Object(x.jsx)(T.a,{children:r.error}),f&&Object(x.jsx)(R,{}),Object(x.jsxs)("div",{className:"dash-con-heading",children:[Object(x.jsx)("h4",{children:"Select Admins"}),Object(x.jsxs)("div",{className:"col-md-12 row",children:[Object(x.jsxs)("select",{name:"admin",className:"roles col-md-6 form-control",onChange:h,children:[Object(x.jsx)("option",{value:"",children:"Select Admins"}),t.Admins.map((function(e){return Object(x.jsx)("option",{value:"".concat(e.fullname.toLowerCase().trim().replaceAll(" ","-"),"_").concat(e._id),children:e.fullname},e._id)}))]}),Object(x.jsx)(w.a,{onClick:A,className:"btn btn-sm dark",children:"Save Permission"})]})]}),!f&&Object(x.jsxs)("div",{className:"dash-cont-start",children:[Object(x.jsx)("h4",{className:"mt-2",children:"All Permission Groups"}),Object(x.jsx)("hr",{}),t.permissionGroups.map((function(e){return Object(x.jsxs)("div",{className:"mb-2",children:[Object(x.jsx)("h5",{className:"module_name cursor",children:Object(x.jsx)("span",{style:{marginLeft:"5px"},htmlFor:e.module_name,children:e.module_name.replaceAll("-"," ")})}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{className:"col-md-12 row",children:e.module_method.map((function(a){return Object(x.jsx)("div",{className:"col-md-2 subject-card",children:Object(x.jsxs)("label",{htmlFor:a._id,style:{marginBottom:"0px"},children:[Object(x.jsx)("input",{type:"checkbox",name:"module_method",id:a._id,onChange:h,value:"".concat(a.name,"_").concat(e.module_name)}),Object(x.jsx)("span",{style:{marginLeft:"5px"},children:a.name})]})},a._id)}))})]},e._id)}))]})]})})})})}}],Ye=new(t(226).a)({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});var Ze=function(){return Object(x.jsx)(i.a,{children:Object(x.jsx)("div",{className:"wrapper",children:Object(x.jsx)("div",{className:"row no-gutters",children:Object(x.jsx)($.a,{client:Ye,children:Object(x.jsx)(b.b,{children:Object(x.jsx)(m.b,{children:Object(x.jsx)(Q,{children:Object(x.jsx)(F.b,{children:Object(x.jsxs)(ce.ToastProvider,{children:[Object(x.jsx)(f,{}),Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsxs)(l.d,{children:[Ke&&Ke.map((function(e){return Object(x.jsx)(l.b,{exact:!0,path:e.path,component:e.component},e.path)})),Je&&Je.map((function(e){return Object(x.jsx)(g,{exact:!0,path:e.path,component:e.component},e.path)})),He&&He.map((function(e){return Object(x.jsx)(_,{exact:!0,path:e.path,component:e.component},e.path)}))]})})]})})})})})})})})})};r.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(Ze,{})}),document.getElementById("root"))},55:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var c=t(2),s=t.n(c),n=t(3),r=t(4),i=t(1);function l(){var e=Object(i.useState)(null),a=Object(r.a)(e,2),t=a[0],c=a[1],l=function(){var e=Object(n.a)(s.a.mark((function e(){var a,t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$&*",n=1;n<=12;n++)r=Math.floor(Math.random()*t.length+1),a+=t.charAt(r);c(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return l()}),[]),{randomPassword:t,generateRandomPassword:l}}},6:function(e,a,t){"use strict";t.d(a,"a",(function(){return p}));var c=t(4),s=t(7),n=t(1),r=t.n(n),i=t(0),l=localStorage.getItem("fullname"),o=localStorage.getItem("email"),d=localStorage.getItem("role"),j=localStorage.getItem("created_at"),u=localStorage.getItem("isLoggedIn"),b=localStorage.getItem("access_token"),m=localStorage.getItem("refresh_token"),h={isLoggedIn:u||!1,fullname:l||null,email:o||null,role:d||null,created_at:j||null,access_token:b||null,refresh_token:m||null},p=r.a.createContext(h),O=function(e,a){switch(a.type){case"LOGIN":return Object(s.a)(Object(s.a)({},e),{},{isLoggedIn:a.payload.isLoggedIn,fullname:a.payload.fullname,email:a.payload.email,role:a.payload.role,created_at:a.payload.created_at,access_token:a.payload.access_token,refresh_token:a.payload.refresh_token});case"LOGOUT":return localStorage.clear(),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("fullname"),localStorage.removeItem("email"),Object(s.a)(Object(s.a)({},e),{},{isLoggedIn:!1,fullname:null,email:null,access_token:null,refresh_token:null});default:return e}};a.b=function(e){var a=e.children,t=Object(n.useReducer)(O,h),s=Object(c.a)(t,2),r=s[0],l=s[1];return Object(i.jsx)(p.Provider,{value:{state:r,dispatch:l},children:a})}},9:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var c=t(4),s=t(1),n=t(223),r=t(90),i=t(132),l=t(0),o=function(e){var a=e.children,t=Object(s.useState)(!1),o=Object(c.a)(t,2),d=o[0],j=o[1];return Object(s.useEffect)((function(){j(!0)}),[d]),Object(l.jsx)(n.a,{children:Object(l.jsx)(r.a,{xs:12,className:"",children:Object(l.jsx)(i.a,{variant:"info",onClose:function(){return j(!1)},dismissible:!0,children:a})})})}},92:function(e,a,t){"use strict";(function(e){t.d(a,"a",(function(){return g}));var c=t(24),s=t(2),n=t.n(s),r=t(7),i=t(3),l=t(4),o=t(1),d=(t(22),t(25)),j=t(8),u=t(34),b=t(69),m=t(21),h=t(17),p=t(55),O=t(6),x=t(9),f=t(16),v=t(14),N=t(0);function g(){var a=this,t=Object(d.g)(),s=Object(d.i)(),g=Object(o.useContext)(O.a).state,_=Object(o.useContext)(f.a),y=_.state,k=_.dispatch,w=Object(o.useContext)(v.a),C=w.state,S=w.dispatch,E=Object(p.a)(),T=E.randomPassword,R=E.generateRandomPassword,L=Object(o.useState)(""),A=Object(l.a)(L,2),B=A[0],q=A[1],I=Object(o.useState)(!1),P=Object(l.a)(I,2),D=P[0],U=P[1];function G(){return(G=Object(i.a)(n.a.mark((function e(a){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),c=null,""!=B.module_method){e.next=6;break}k({type:"SET_ERROR",payload:"Please Enter Module Method Name"}),e.next=21;break;case 6:if(B.module_password=T,B.module_plain_password=T,!s.id){e.next=14;break}return e.next=11,m.c("master-delete/update/".concat(s.id),B);case 11:c=e.sent,e.next=17;break;case 14:return e.next=16,m.d("master-delete/create",B);case 16:c=e.sent;case 17:U(!0),k({type:"SET_SUCCESS",payload:c.message}),S({type:"GET_REMOVE_ALL_DATA",payload:c.data.data}),t.push("/master-module/password/".concat(s.module_name,"/").concat(s.module_id));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return M.apply(this,arguments)}function M(){return(M=Object(i.a)(n.a.mark((function e(a){var t,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.value,s=t.replace(/[^a-zA-Z0-9-, ]/g,""),q(Object(r.a)(Object(r.a)({},B),{},Object(c.a)({},a.target.name,s)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=Object(h.a)({method:"get",url:"master-delete/view/".concat(s.module_name)}).response,Q=Object(o.useState)(""),V=Object(l.a)(Q,2),K=V[0],J=V[1];Object(o.useEffect)((function(){if(null!==z){var e=z.data;S({type:"GET_REMOVE_ALL_DATA",payload:e}),J(e)}}),[z,D]),Object(o.useEffect)((function(){var e=setTimeout((function(){return k({type:"SET_ERROR",payload:""})}),1500),a=setTimeout((function(){return k({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(a)}}),[y.error,y.success]),Object(o.useEffect)((function(){q(Object(r.a)(Object(r.a)({},B),{},{module_name:s.module_name,module_id:s.module_id,module_method:""}))}),[s]);var H=function(){var e=Object(i.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/delete-data/master-module/delete/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/master-module/password/".concat(s.module_name,"/").concat(s.module_id,"/").concat(a.module_method,"/").concat(a.id));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Z=Object(o.useState)(!0),W=Object(l.a)(Z,2),X=W[0],$=W[1],ee=Object(o.useState)(!1),ae=Object(l.a)(ee,2),te=ae[0],ce=ae[1],se=Object(o.useState)(!1),ne=Object(l.a)(se,2),re=ne[0],ie=ne[1],le=Object(o.useState)(""),oe=Object(l.a)(le,2),de=oe[0],je=oe[1],ue=function(){"wrongpassword"==de?(ie(!0),ce(!1)):(alert("you have entered a wrong password"),ie(!1),ce(!0),je(""))};return Object(N.jsx)(N.Fragment,{children:g.isLoggedIn&&y&&C.RemoveAllDatas&&Object(N.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(N.jsx)("div",{className:"main-area-all",children:Object(N.jsxs)("div",{className:"dashboard_main-container",children:[Object(N.jsx)("div",{className:"dash-main-head",children:Object(N.jsx)("h2",{children:"Create New Module"})}),Object(N.jsx)("div",{className:"dash-cont-start",children:Object(N.jsxs)("div",{className:"org-main-area",children:[Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-md-4",children:Object(N.jsx)(j.b,{to:"/master-module",className:"btn btn-sm dark",children:Object(N.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(N.jsx)("div",{className:"col-md-8 pl-0",children:Object(N.jsx)("h5",{children:Object(N.jsx)("em",{children:Object(N.jsx)("b",{children:"All Methods Password"})})})})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-md-4 no-gutter mt-2",children:[y.error&&Object(N.jsx)(x.a,{children:y.error}),y.success&&Object(N.jsx)(x.a,{children:y.success}),Object(N.jsxs)(u.a,{autoComplete:"off",className:"col-md-12 p-0",children:[Object(N.jsxs)(u.a.Group,{method:"POST",children:[Object(N.jsx)(u.a.Label,{children:"Module Name"}),Object(N.jsx)(u.a.Control,{name:"module_name",autoComplete:"off",defaultValue:s.module_name,onChange:F,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Module Name"})]}),Object(N.jsxs)(u.a.Group,{method:"POST",children:[Object(N.jsxs)(u.a.Label,{children:["Module Methods Name",Object(N.jsx)("p",{style:{marginBottom:"2px"},children:Object(N.jsxs)("small",{children:["Enter: create, update, ",Object(N.jsx)("b",{className:"text-danger",children:"delete"}),", view, view-all"]})})]}),Object(N.jsx)(u.a.Control,{name:"module_method",autoComplete:"off",defaultValue:s.module_method?s.module_method:e.module_method,onChange:F,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Module Method Name"})]}),Object(N.jsxs)(u.a.Group,{method:"POST",children:[Object(N.jsx)(u.a.Label,{children:Object(N.jsxs)("p",{className:"pl-0 mb-0",style:{cursor:"pointer",fontWeight:"bold"},onClick:R,children:[Object(N.jsx)("span",{className:"fa fa-lock ml-2 text-success"}),"Generate Random password"]})}),Object(N.jsx)(u.a.Control,{name:"module_password",autoComplete:"off",defaultValue:e.module_password?R:T,onChange:F,readOnly:!0,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Module Password"})]}),Object(N.jsxs)(u.a.Group,{className:"mt-3",children:[Object(N.jsx)(b.a,{onClick:function(e){return G.apply(this,arguments)},className:"btn dark btn-md",children:s.id?"Update Password":"Save Password"}),s.id&&Object(N.jsx)(b.a,{onClick:function(){t.push("/master-module/password/".concat(s.module_name,"/").concat(s.module_id))},className:"btn dark btn-md ml-2",children:"Cancel"})]})]})]}),Object(N.jsx)("div",{className:"col-md-8 pl-0 subject-main-container",children:K&&K.map((function(e){return Object(N.jsxs)("div",{className:"col-md-12 module-card",id:"card-".concat(e._id),children:[Object(N.jsxs)("div",{className:"subject-card-heading",children:[Object(N.jsx)("div",{children:Object(N.jsxs)(j.b,{to:"sub-subject/".concat(e.module_name.replace(" ","-").toLowerCase().trim(),"/").concat(e._id),children:["#",e._id]})}),Object(N.jsxs)("div",{children:[Object(N.jsx)(b.a,{className:"delBtn",onClick:Y.bind(a,{id:e._id,module_method:e.module_method}),children:Object(N.jsx)("span",{className:"fa fa-edit text-muted mr-2"})}),Object(N.jsx)(b.a,{className:"delBtn",onClick:H.bind(a,e._id),children:Object(N.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]}),Object(N.jsxs)("div",{className:"subject-card-body mt-2",children:[Object(N.jsxs)("div",{className:"admin-name",children:[Object(N.jsx)("div",{className:"name-label",children:"Module Name:"}),Object(N.jsx)("div",{className:"name-main",children:e.module_name})]}),Object(N.jsxs)("div",{className:"admin-name",children:[Object(N.jsx)("div",{className:"name-label",children:"Module Method:"}),Object(N.jsx)("div",{className:"name-main",children:e.module_method})]}),Object(N.jsxs)("div",{className:"admin-name",children:[Object(N.jsx)("div",{className:"name-label",children:"Module Password:"}),X&&Object(N.jsxs)("div",{className:"name-main",children:[Object(N.jsx)("span",{children:"*************"}),Object(N.jsx)("span",{className:"fa fa-eys ml-2",style:{cursor:"pointer"},onClick:function(e){ce(!0),$(!1),je("")}})]}),re&&Object(N.jsxs)("div",{className:"name-main",children:[Object(N.jsx)("span",{children:e.module_plain_password}),Object(N.jsx)("div",{className:"update-icons col-md-3 pr-2",children:Object(N.jsx)("span",{className:" fa fatimes ml-2",style:{cursor:"pointer"},onClick:function(e){ce(!1),ie(!1),$(!0)}})})]}),te&&Object(N.jsxs)("div",{className:"name-main",children:[Object(N.jsx)("input",{type:"password",name:"password",autoComplete:"off",value:de,onChange:function(e){return je(e.target.value)},className:"col-md-9 form-control",style:{height:"25px"}}),Object(N.jsxs)("div",{className:"update-icons col-md-3 pr-2",children:[Object(N.jsx)("span",{className:"ml-2 fa fa-eye-slash",style:{cursor:"pointer"},onClick:ue}),Object(N.jsx)("span",{className:"ml-2 fa fa-times",style:{cursor:"pointer"},onClick:function(e){ce(!1),$(!0)}})]})]})]}),Object(N.jsxs)("div",{className:"admin-name",children:[Object(N.jsx)("div",{className:"name-label",children:"Status:"}),Object(N.jsx)("div",{className:"name-main",children:1==e.status?"Active":"Inactive"})]}),Object(N.jsxs)("div",{className:"admin-name",children:[Object(N.jsx)("div",{className:"name-label",children:"Created On:"}),Object(N.jsx)("div",{className:"name-main",children:e.created_at.split("T")[0]})]})]})]},e._id)}))})]})]})})]})})})})}}).call(this,t(221)(e))}},[[222,1,2]]]);
//# sourceMappingURL=main.704ff2d9.chunk.js.map