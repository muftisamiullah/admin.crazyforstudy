(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var c="https://cfs-admin-panel.herokuapp.com/api/v1/"},105:function(e,t,a){},11:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var c=a(4),s=a(1),n=a(224),r=a(93),i=a(134),o=a(0),l=function(e){var t=e.children,a=Object(s.useState)(!1),l=Object(c.a)(a,2),d=l[0],u=l[1];return Object(s.useEffect)((function(){u(!0)}),[d]),Object(o.jsx)(n.a,{children:Object(o.jsx)(r.a,{xs:12,className:"",children:Object(o.jsx)(i.a,{variant:"info",onClose:function(){return u(!1)},dismissible:!0,children:t})})})}},140:function(e,t,a){},142:function(e,t,a){},17:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var c=a(4),s=a(6),n=a(1),r=a(0),i=Object(n.createContext)(),o=function(e,t){switch(t.type){case"GET_ALL_ADMIN":return Object(s.a)(Object(s.a)({},e),{},{Admins:t.payload});case"GET_ALL_ROLE":return Object(s.a)(Object(s.a)({},e),{},{Roles:t.payload});case"GET_ALL_MODLISTS":return Object(s.a)(Object(s.a)({},e),{},{ModLists:t.payload});case"GET_REMOVE_ALL_DATA":return Object(s.a)(Object(s.a)({},e),{},{RemoveAllDatas:t.payload});case"GET_MODLIST":return Object(s.a)(Object(s.a)({},e),{},{ModList:t.payload});case"SET_USER":return Object(s.a)(Object(s.a)({},e),{},{user:t.payload});case"GET_ROLE":return Object(s.a)(Object(s.a)({},e),{},{role:t.paylaod});case"GET_ALL_PERMISSION_GROUPS":return Object(s.a)(Object(s.a)({},e),{},{permissionGroups:t.payload});case"SET_SELECTED_METHOD":return Object(s.a)(Object(s.a)({},e),{},{selected_methods:t.payload});case"SET_SA_ROUTES":return Object(s.a)(Object(s.a)({},e),{},{superAdminRoutes:t.payload});case"SET_A_ROUTES":return Object(s.a)(Object(s.a)({},e),{},{adminRoutes:t.payload});case"GET_ALL_ROLE_PERMISSION":return Object(s.a)(Object(s.a)({},e),{},{RolePermissions:t.payload});case"GET_ROLE_PERMISSIONS":return Object(s.a)(Object(s.a)({},e),{},{AllRolePermissions:t.payload});case"GET_ALL_BOOKS":return Object(s.a)(Object(s.a)({},e),{},{AllBooks:t.payload});case"Book_CurrentPage":return Object(s.a)(Object(s.a)({},e),{},{CurrentPage:t.payload});default:return e}},l=localStorage.getItem("pageno");t.b=function(e){var t=e.children,a=Object(n.useReducer)(o,{Admins:[],Roles:[],RolePermissions:[],AllRolePermissions:[],ModLists:[],RemoveAllDatas:[],permissionGroups:[],role:{id:"",name:"",description:"",role:""},ModList:{id:"",module_name:"",description:""},methods:[{name:"create",value:"Create Module",checked:!1},{name:"update",value:"Update Module",checked:!1},{name:"delete",value:"Delete Module",checked:!1},{name:"view",value:"View Module",checked:!1},{name:"view-all",value:"View All Module",checked:!1},{name:"delete-all",value:"Delete All Module",checked:!1},{name:"upload",value:"Uplaod Module",checked:!1}],selected_methods:[],superAdminRoutes:[],adminRoutes:[],AllBooks:[],CurrentPage:void 0===l?1:l}),s=Object(c.a)(a,2),d=s[0],u=s[1];return Object(r.jsx)(i.Provider,{value:{state:d,dispatch:u},children:t})}},18:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var c=a(4),s=a(6),n=a(1),r=a(0),i=Object(n.createContext)(),o=function(e,t){switch(t.type){case"SET_ERROR":return Object(s.a)(Object(s.a)({},e),{},{error:t.payload});case"SET_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{success:t.payload});default:return e}};t.b=function(e){var t=e.children,a=Object(n.useReducer)(o,{error:null}),s=Object(c.a)(a,2),l=s[0],d=s[1];return Object(r.jsx)(i.Provider,{value:{state:l,dispatch:d},children:t})}},188:function(e,t){},19:function(e,t,a){},190:function(e,t){},207:function(e,t,a){},22:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var c=a(2),s=a.n(c),n=a(3),r=a(4),i=a(1),o=a(8),l=a.n(o),d=a(5),u=a(18);function j(e){var t=e.method,a=e.url,c=e.data,o=void 0===c?null:c,j=Object(i.useState)(null),b=Object(r.a)(j,2),m=b[0],p=b[1],h=Object(i.useState)(null),O=Object(r.a)(h,2),v=O[0],x=O[1],f=Object(i.useContext)(d.a).state,N=Object(i.useContext)(u.a),g=(N.state,N.dispatch),_="https://cfs-admin.herokuapp.com/api/v1/",k=l.a.create({baseURL:_,headers:{"Content-Type":"Application/json",Authorization:"Bearer "+f.access_token}});return Object(i.useEffect)((function(){(function(){var e=Object(n.a)(s.a.mark((function e(){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=a.split("/"),"undefined"===c.pop()){e.next=7;break}return x(!0),e.next=7,k[t](a,JSON.parse(o)).then((function(e){p(e.data)})).finally((function(){x(!1)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),g({type:"SET_ERROR",payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[t,a,o]),{response:m,isLoading:v}}},223:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(37),r=a.n(n),i=(a(140),a(7)),o=a(27),l=a(2),d=a.n(l),u=a(3),j=a(4),b=(a(142),a(226)),m=a(5),p=a(130),h=function(e){var t,a,c;return null===e||void 0===e||null===(t=e.trim())||void 0===t||null===(a=t.toLowerCase())||void 0===a||null===(c=a.replace(/[^\w ]+/g,""))||void 0===c?void 0:c.replace(/ +/g,"-")},O=function(e,t){return e?e.substr(0,t):""},v=function(e){return e?e.replaceAll("-"," "):""},x=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,c,s,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],c=Object.keys(t[0]),a.push(c.join(",")),s=Object(p.a)(t);try{for(r=function(){var e=n.value,t=c.map((function(t){var a=(""+e[t]).replace(/"/g,'\\"');return'"'.concat(a,'"')}));a.push(t.join(","))},s.s();!(n=s.n()).done;)r()}catch(i){s.e(i)}finally{s.f()}return e.abrupt("return",a.join("\n"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(d.a.mark((function e(t,a){var c,s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=new Blob([t],{type:"text/csv"}),s=window.URL.createObjectURL(c),(n=document.createElement("a")).setAttribute("hidden",""),n.setAttribute("href",s),n.setAttribute("download","".concat(a,".csv")),document.body.appendChild(n),n.click(),document.body.removeChild(n);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),N=a(229),g=a(8),_=a.n(g),k=a(10);var y=a(0);function w(){var e=Object(o.g)(),t=Object(c.useContext)(m.a),a=t.state,s=t.dispatch;var n=function(){var e=Object(c.useContext)(m.a).state,t="";return t=k.a,Object(N.a)("app-modules",Object(u.a)(d.a.mark((function a(){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.access_token){a.next=5;break}return a.next=3,_.a.get("".concat(t,"master-module/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 3:return c=a.sent,a.abrupt("return",c.data.data);case 5:case"end":return a.stop()}}),a)}))))}().data,r=Object(c.useState)([]),l=Object(j.a)(r,2),p=l[0],O=l[1];function v(){return(v=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],"1"!=(null===a||void 0===a?void 0:a.role)){e.next=5;break}t=n,e.next=8;break;case 5:return e.next=7,null===n||void 0===n?void 0:n.filter((function(e){return e.role_access==a.role}));case 7:t=e.sent;case 8:O(t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return v.apply(this,arguments)}),[a]),Object(y.jsx)(y.Fragment,{children:a.isLoggedIn&&Object(y.jsxs)("div",{className:"login_menu col-lg-2 col-md-2 col-12",bg:"dark",variant:"dark",expand:"lg",children:[Object(y.jsx)("div",{className:"webLogo",children:Object(y.jsx)("img",{src:"/logo.png",alt:"User"})}),Object(y.jsxs)("div",{className:"user_area",children:[Object(y.jsx)("div",{className:"user_icon",children:Object(y.jsx)("img",{src:"/user.png",alt:"User"})}),Object(y.jsxs)("div",{className:"user_details",children:[Object(y.jsx)("span",{className:"user_name",children:a.fullname}),Object(y.jsx)("span",{className:"user_name"})]}),Object(y.jsx)("div",{className:"user_options",children:Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{className:"btn btn-sm dark-warning p-2 br-5",as:i.b,alt:"Logout",children:"1"==a.role?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-lock"})," Master Admin"]}):Object(y.jsx)(y.Fragment,{children:"2"==a.role?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-lock"})," Admin"]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-lock"})," Other Admin"]})})}),Object(y.jsxs)("li",{className:"btn btn-sm red p-2 br-5",as:i.b,onClick:function(){s({type:"LOGOUT"}),e.push("/")},alt:"Logout",children:[Object(y.jsx)("span",{className:"fa fa-power-off mr-2"}),"Logout"]})]})})]}),Object(y.jsx)("div",{className:"navbar_menus",children:Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:Object(y.jsx)(b.a,{className:"ml-auto",children:Object(y.jsxs)(i.c,{to:"/dashboard",children:[" ",Object(y.jsx)("span",{className:"fa fa-dashboard"})," Dashboard"]})})}),null===p||void 0===p?void 0:p.map((function(e){return Object(y.jsx)("li",{children:Object(y.jsx)(b.a,{className:"ml-auto",children:Object(y.jsx)(i.c,{to:"/".concat(h(null===e||void 0===e?void 0:e.module_name)),children:null===e||void 0===e?void 0:e.module_name})})},null===e||void 0===e?void 0:e._id)}))]})})]})})}a(166);var C=a(6),S=a(70),T=function(e){var t=e.component,a=Object(S.a)(e,["component"]),s=Object(c.useContext)(m.a).state;return Object(y.jsx)(o.b,Object(C.a)(Object(C.a)({},a),{},{render:function(e){return s.isLoggedIn?Object(y.jsx)(t,Object(C.a)({},e)):Object(y.jsx)(o.a,{to:{pathname:"/login"}})}}))},E=function(e){var t=e.component,a=Object(S.a)(e,["component"]),s=Object(c.useContext)(m.a).state;return Object(y.jsx)(o.b,Object(C.a)(Object(C.a)({},a),{},{render:function(e){return 1==s.role?Object(y.jsx)(t,Object(C.a)({},e)):Object(y.jsx)(o.a,{to:{pathname:"/403"}})}}))},A=a(43),B=a(72),R=a(26),q=a(17),L=a(22);a(105);a(19);var I=a(11);function D(){return Object(y.jsx)("div",{className:"animation"})}function P(){var e=Object(c.useContext)(m.a).state,t="";return t=k.a,Object(N.a)("Subjects",Object(u.a)(d.a.mark((function a(){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.a.get("".concat(t,"subject/all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return c=a.sent,a.abrupt("return",c.data.data);case 4:case"end":return a.stop()}}),a)}))))}var F=function(e){var t=e.sub,a=Object(c.useContext)(m.a).state,s=Object(o.g)(),n=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.push("delete-data/subject/delete/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"subject-card",id:"card-".concat(t._id),children:[Object(y.jsxs)("div",{className:"subject-card-body",children:[Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Subject Id:"}),Object(y.jsx)("div",{className:"name-main",children:t._id})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Subject Name:"}),Object(y.jsx)("div",{className:"name-main",children:t.subject})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Created On:"}),Object(y.jsx)("div",{className:"name-main date",children:t.created_at.split("T")[0]})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Status:"}),Object(y.jsx)("div",{className:"name-main",children:1==t.status?"Active":"Inactive"})]})]}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsxs)("div",{className:"subject-card-heading",children:[Object(y.jsx)("div",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)(B.a,{className:"delBtn",onClick:function(e){return s.push("sub-subject/".concat(h(t.subject),"/").concat(t._id))},children:Object(y.jsx)("span",{className:"fa fa-eye text-success mr-2"})}),Object(y.jsx)(B.a,{className:"delBtn",onClick:function(e){return s.push("/subject-update/".concat(t._id))},children:Object(y.jsx)("span",{className:"fa fa-edit text-success mr-2"})}),1==a.role&&Object(y.jsx)(B.a,{className:"delBtn",onClick:n.bind(this,t._id),children:Object(y.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})]},t._id)};var U=a(18),M=Object(c.createContext)(),G=function(e,t){switch(t.type){case"GET_ALL_SUBJECT":return Object(C.a)(Object(C.a)({},e),{},{Subjects:t.payload});case"GET_ALL_SUB_SUBJECT":return Object(C.a)(Object(C.a)({},e),{},{SubSubjects:t.payload});case"SET_SUBJECT":return Object(C.a)(Object(C.a)({},e),{},{singleSubject:t.payload});default:return e}};var z=function(e){var t=e.children,a=Object(c.useReducer)(G,{Subjects:[],SubSubjects:[],singleSubject:null}),s=Object(j.a)(a,2),n=s[0],r=s[1];return Object(y.jsx)(M.Provider,{value:{state:n,dispatch:r},children:t})};function Q(){var e=Object(o.g)(),t=Object(o.i)(),a=Object(c.useContext)(m.a).state,s=Object(c.useContext)(U.a),n=s.state,r=s.dispatch,l=Object(c.useContext)(M),b=l.state,p=l.dispatch,h=Object(c.useState)(""),O=Object(j.a)(h,2),v=O[0],x=O[1];function f(){return(f=Object(u.a)(d.a.mark((function a(c){var s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),s=null,""!=v){a.next=6;break}r({type:"SET_ERROR",payload:"Please Enter Subject Name"}),a.next=17;break;case 6:if(!t.id){a.next=12;break}return a.next=9,R.c("subject/update/".concat(t.id),v);case 9:s=a.sent,a.next=15;break;case 12:return a.next=14,R.d("subject/create",v);case 14:s=a.sent;case 15:r({type:"SET_SUCCESS",payload:s.message}),e.push("/subject");case 17:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function N(){return(N=Object(u.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,c=a.replace(/[^a-zA-Z0-9, ]/g,""),x(Object(C.a)(Object(C.a)({},v),{},{subject:c}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=Object(L.a)({method:"get",url:"subject/view/".concat(t.id)}).response,_=Object(c.useState)(""),k=Object(j.a)(_,2),w=k[0],S=k[1];return Object(c.useEffect)((function(){if(null!==g){var e=g.data;p({type:"SET_SUBJECT",payload:e}),b&&S(e.subject)}}),[t.id,g]),Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[n.error,n.success]),Object(y.jsx)(y.Fragment,{children:a.isLoggedIn&&n&&b&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Create New Subject"})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"org-main-area",children:[Object(y.jsx)("div",{className:"col-md-3 pl-0",children:Object(y.jsx)(i.b,{to:"/subject",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})})}),Object(y.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[n.error&&Object(y.jsx)(I.a,{children:n.error}),n.success&&Object(y.jsx)(I.a,{children:n.success}),Object(y.jsxs)(A.a,{method:"POST",className:"col-md-6 p-0",children:[Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"Subject Name"}),Object(y.jsx)(A.a.Control,{name:"subject",autoComplete:"off",defaultValue:w,onChange:function(e){return N.apply(this,arguments)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Subject Name"})]}),Object(y.jsx)(A.a.Group,{children:Object(y.jsx)(B.a,{onClick:function(e){return f.apply(this,arguments)},className:"btn dark btn-sm",children:t.id?"Update Subject":"Save Subject"})})]})]})]})})]})})})})}var V=function(e){var t=e.sub,a=Object(o.g)(),c=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("delete-data/sub-subject/delete/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"small-card",id:"card-".concat(t._id),children:[Object(y.jsxs)("div",{className:"subject-card-body",children:[Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Subject:"}),Object(y.jsx)("div",{className:"name-main date",children:t.subject})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Sub Subject Id:"}),Object(y.jsx)("div",{className:"name-main date",children:t._id})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Sub Subject:"}),Object(y.jsx)("div",{className:"name-main date",children:t.sub_subject})]})]}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsxs)("div",{className:"subject-card-heading",children:[Object(y.jsx)("div",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{className:"delBtn",onClick:function(e){return a.push("/books/".concat(h(t.subject),"/").concat(h(t.sub_subject),"/").concat(t._id))},children:Object(y.jsx)("span",{className:"fa fa-eye text-success mr-2"})}),Object(y.jsx)("button",{className:"delBtn",onClick:function(e){return a.push("/sub-subject/update/".concat(t._id))},children:Object(y.jsx)("span",{className:"fa fa-edit text-success mr-2"})}),Object(y.jsx)(B.a,{className:"delBtn",onClick:c.bind(this,t._id),children:Object(y.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})]},t._id)};var K=a(25);function H(){var e=Object(o.g)(),t=Object(o.i)(),a=Object(c.useContext)(m.a).state,s=Object(c.useContext)(U.a),n=s.state,r=s.dispatch,l=Object(c.useContext)(M),b=l.state,p=l.dispatch,h=Object(c.useState)(""),O=Object(j.a)(h,2),v=O[0],x=O[1];function f(){return(f=Object(u.a)(d.a.mark((function a(c){var s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),s=null,""!=v){a.next=6;break}r({type:"SET_ERROR",payload:"Please Enter Subject Name"}),a.next=19;break;case 6:if(v.subject=t.subject_name,v.subject_id=t.subject_id,!t.id){a.next=14;break}return a.next=11,R.c("subject/update/".concat(t.id),v);case 11:s=a.sent,a.next=17;break;case 14:return a.next=16,R.d("sub-subject/create",v);case 16:s=a.sent;case 17:r({type:"SET_SUCCESS",payload:s.message}),e.push("/sub-subject/".concat(t.subject_name,"/").concat(t.subject_id));case 19:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function N(e){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,c=a.replace(/[^a-zA-Z0-9, ]/g,""),x(Object(C.a)(Object(C.a)({},v),{},Object(K.a)({},t.target.name,c)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=Object(L.a)({method:"get",url:"subject/all"}).response,k=Object(c.useState)([]),w=Object(j.a)(k,2),S=w[0],T=w[1];return Object(c.useEffect)((function(){if(null!==_){var e=_.data;p({type:"GET_ALL_SUBJECT",payload:e}),e&&T(e)}}),[_,S]),Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[n.error,n.success]),Object(y.jsx)(y.Fragment,{children:a.isLoggedIn&&n&&b.Subjects&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Create New Subject"})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"org-main-area",children:[Object(y.jsx)("div",{className:"col-md-3 pl-0",children:t.subject_name?Object(y.jsx)(i.b,{to:"/sub-subject/".concat(t.subject_name,"/").concat(t.subject_id),className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})}):Object(y.jsx)(i.b,{to:"/sub-subject",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})})}),Object(y.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[n.error&&Object(y.jsx)(I.a,{children:n.error}),n.success&&Object(y.jsx)(I.a,{children:n.success}),Object(y.jsxs)(A.a,{method:"POST",className:"col-md-6 p-0",children:[Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"Subject Name"}),t.subject_name?Object(y.jsx)(A.a.Control,{name:"subject",autoComplete:"off",defaultValue:t.subject_name,onChange:N,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Subject Name"}):Object(y.jsxs)("select",{className:"form-control",name:"subject",autoComplete:"off",onChange:function(t){var a=t.target.value,c=a.split("_")[0],s=a.split("_")[1];e.push("/sub-subject/".concat(c.trim().replace(" ","-").toLowerCase(),"/create/").concat(s))},children:[Object(y.jsx)("option",{children:"Select Subject"}),b.Subjects.map((function(e){return Object(y.jsx)("option",{value:e.subject+"_"+e._id,children:e.subject},e._id)}))]})]}),Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"Sub Subject Name"}),Object(y.jsx)(A.a.Control,{name:"sub_subject",autoComplete:"off",onChange:N,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"E.g subject1, subject1, subject3"})]}),Object(y.jsx)(A.a.Group,{children:Object(y.jsx)(B.a,{onClick:function(e){return f.apply(this,arguments)},className:"btn dark btn-sm",children:t.id?"Update Subject":"Save Subject"})})]})]})]})})]})})})})}function Y(){var e=Object(c.useContext)(m.a).state,t="";return t=k.a,Object(N.a)("SubSubjects",Object(u.a)(d.a.mark((function a(){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.a.get("".concat(t,"sub-subject/all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return c=a.sent,a.abrupt("return",c.data.data);case 4:case"end":return a.stop()}}),a)}))))}function J(){var e=Object(o.g)(),t=Object(o.i)(),a=Object(c.useContext)(m.a).state,s=Object(c.useContext)(U.a),n=s.state,r=s.dispatch,l=Object(c.useContext)(M),b=l.state,p=l.dispatch,h=new FormData;function O(){return(O=Object(u.a)(d.a.mark((function a(c){var s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),s=null,""!=h){a.next=6;break}r({type:"SET_ERROR",payload:"Please Enter Subject Name"}),a.next=14;break;case 6:return h.append("subject",t.subject_name),h.append("subject_id",t.subject_id),a.next=10,R.d("sub-subject/upload",h);case 10:s=a.sent,console.log(s),r({type:"SET_SUCCESS",payload:s.message}),e.push("/sub-subject/".concat(t.subject_name,"/").concat(t.subject_id));case 14:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function v(e){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,"csv"===a.split(".")[1]?h.append("file",t.target.files[0]):r({type:"SET_ERROR",payload:"Only .csv files are allowed"});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=Object(L.a)({method:"get",url:"subject/all"}).response,N=Object(c.useState)([]),g=Object(j.a)(N,2),_=g[0],k=g[1];return Object(c.useEffect)((function(){if(null!==f){var e=f.data;p({type:"GET_ALL_SUBJECT",payload:e}),e&&k(e)}}),[f,_]),Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[n.error,n.success]),Object(y.jsx)(y.Fragment,{children:a.isLoggedIn&&n&&b.Subjects&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Upload SubSubject"})}),n.error&&Object(y.jsx)(I.a,{children:n.error}),n.success&&Object(y.jsx)(I.a,{children:n.success}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col-md-1 pl-3",children:t.subject_name?Object(y.jsx)(i.b,{to:"/sub-subject/".concat(t.subject_name,"/").concat(t.subject_id),className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})}):Object(y.jsx)(i.b,{to:"/sub-subject",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})})}),Object(y.jsx)("div",{className:"col-md-5 pl-0",children:Object(y.jsx)("a",{href:"/sampledata/sub_subject_sample.csv",download:!0,children:"Download Sample File"})})]})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsx)("div",{className:"org-main-area",children:Object(y.jsxs)(A.a,{method:"POST",className:"col-md-6 p-0",encType:"multipart/form-data",children:[Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"Subject Name"}),t.subject_name?Object(y.jsx)(A.a.Control,{name:"subject",autoComplete:"off",defaultValue:t.subject_name,onChange:v,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Subject Name"}):Object(y.jsxs)("select",{className:"form-control",name:"subject",autoComplete:"off",onChange:function(t){var a=t.target.value,c=a.split("_")[0],s=a.split("_")[1];e.push("/sub-subject/".concat(c.trim().replace(" ","-").toLowerCase(),"/upload/").concat(s))},children:[Object(y.jsx)("option",{children:"Select Subject"}),b.Subjects.map((function(e){return Object(y.jsx)("option",{value:e.subject+"_"+e._id,children:e.subject},e._id)}))]})]}),Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"Upload Sub Subject Name File .csv format only"}),Object(y.jsx)(A.a.Control,{name:"sub_subject",autoComplete:"off",type:"file",accept:".csv,",onChange:v,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(y.jsx)(A.a.Group,{children:Object(y.jsx)(B.a,{onClick:function(e){return O.apply(this,arguments)},className:"btn dark btn-sm",children:t.id?"Update Subject":"Save Subject"})})]})})})]})})})})}function W(){var e=Object(c.useContext)(m.a).state,t=Object(o.i)(),a=Object(c.useContext)(q.a).state,s="";s=k.a;var n=null===a.CurrentPage?1:a.CurrentPage,r="";return r=t.sub_subject_id?"".concat(s,"books/view-all/").concat(t.sub_subject_id,"/").concat(n,"/").concat(30):"".concat(s,"books/view-all/").concat(n,"/").concat(30),Object(N.a)(["books/".concat(t.sub_subject_id),n],Object(u.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.get(r,{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return a=t.sent,t.abrupt("return",{data:a.data.data,pagination:{currentPage:a.data.currentPage,hasNextPage:a.data.hasNextPage,hasPrevPage:a.data.hasPrevPage,next:a.data.next,pageCount:a.data.pageCount,itemCount:a.data.itemCount,prev:a.data.prev}});case 4:case"end":return t.stop()}}),t)}))))}var Z=function(e){var t=e.isbn,a=e.width,s=Object(c.useState)(""),n=Object(j.a)(s,2),r=n[0],i=n[1];return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("https://pictures.abebooks.com/isbn/".concat(t,"-us-300.jpg"),{header:{"Cotnent-Type":"application/json","Access-Control-Allow-Origin":"*",origin:"https://pictures.abebooks.com/"}});case 3:200===e.sent.status&&i("https://pictures.abebooks.com/isbn/".concat(t,"-us-300.jpg")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i("https://www.crazyforstudy.com/uploads/book-images-with-text/IMG-".concat(t,".jpg"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(y.jsxs)(y.Fragment,{children:[r&&Object(y.jsx)("img",{src:r,style:{width:a}}),!r&&Object(y.jsx)("div",{className:"book_image_container",children:Object(y.jsx)("img",{src:r,style:{width:a}})})]})},X=a(65),$=a(230),ee=a(40),te=a.n(ee),ae=a(23);var ce=function(e){var t=e.books,a=Object(o.g)(),s=(Object(o.i)(),Object(ae.useToasts)().addToast),n=Object(o.h)().pathname,r=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("delete-data/books/delete/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/books-create/".concat(h(t.subject_name),"/").concat(t.subject_id,"/").concat(t.book_id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(u.a)(d.a.mark((function e(t,c,s){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=h(c),a.push("/upload-chapters/".concat(t,"/").concat(n,"/").concat(s));case 2:case"end":return e.stop()}}),e)})));return function(t,a,c){return e.apply(this,arguments)}}(),b=Object(c.useContext)(m.a).state,p="";p=k.a;var O={headers:{"Content-Type":"application/json",Authorization:"Bearer "+b.access_token}},v=function(){var e=Object(u.a)(d.a.mark((function e(t,c,s){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=h(c),a.push("/book-chapters/".concat(t,"/").concat(n,"/").concat(s));case 2:case"end":return e.stop()}}),e)})));return function(t,a,c){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(d.a.mark((function e(t,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/book-check-quality/".concat(t,"/").concat(c));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(d.a.mark((function e(t,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/book-seo/".concat(t,"/").concat(c));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/books-bartleby/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=Object(X.b)(),w=Object($.a)((function(e){return _.a.post("".concat(p,"books/update-published-status"),e,O)}),{onSuccess:function(){g.invalidateQueries("books"),a.push("".concat(n)),s("Freelancer Published status updated",{appearance:"success",autoDismiss:!0})}}),C=Object(c.useState)(!1),S=Object(j.a)(C,2),T=S[0],E=S[1],A=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.book_id,c=t.status,E(c),s={book_id:a,published:c},e.next=5,w.mutate(s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"subject-card-heading mt-2",children:[Object(y.jsx)("div",{children:Object(y.jsx)(te.a,{onChange:A.bind(this,{book_id:t._id,status:!T}),checked:t.published?t.published:T,className:"react-switch displayIcon mr-2",height:20,width:48,handleDiameter:22,onHandleColor:"#f00",boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.5)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",title:"freelance tutoring"})}),Object(y.jsxs)("div",{children:[Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1",title:"Bartlyby",onClick:N.bind(this,t.ISBN13),children:Object(y.jsx)("span",{className:"fa fa-cog displayIcon text-warning mr-2"})}),Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1",title:"SEO",onClick:f.bind(this,t.ISBN13,t._id),children:Object(y.jsx)("span",{className:"fa fa-globe displayIcon ".concat(!0===t.seo?"text-success":"text-danger"," mr-2")})}),Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1",title:"QC Details",onClick:x.bind(this,t.ISBN13,t._id),children:Object(y.jsx)("span",{className:"fa fa-thumbs-up displayIcon text-warning mr-2"})}),Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1",title:"View chapters & Questions",onClick:v.bind(this,t.ISBN13,t.BookName,t._id),children:Object(y.jsx)("span",{className:"fa fa-eye displayIcon text-secondary mr-2"})}),Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1",title:"Upload Chapters and Questions",onClick:l.bind(this,t.ISBN13,t.BookName,t._id),children:Object(y.jsx)("span",{className:"fa fa-cloud displayIcon text-success mr-2"})}),Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1",title:"Update Books",onClick:i.bind(this,{subject_name:t.subject_name,subject_id:t.subject_id,book_id:t._id}),children:Object(y.jsx)("span",{className:"fa fa-pencil-square-o displayIcon text-secondary mr-2"})}),Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1",title:"Delete Books",onClick:r.bind(this,t._id),children:Object(y.jsx)("span",{className:"fa fa-trash displayIcon text-danger mr-2"})})]})]})};function se(e){var t=e.books,a=e.width,c=e.heading;return Object(y.jsxs)("div",{className:"subject-card pt-2",style:{width:a+"%"},id:"card-".concat(t._id),children:[Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col-md-3 pl-2 pr-0",children:Object(y.jsx)(Z,{isbn:t.ISBN13,width:"115%"})}),Object(y.jsx)("div",{className:"col-md-9 pr-2",children:Object(y.jsxs)("div",{className:"subject-card-body pl-2",children:[Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"BookName:"}),Object(y.jsx)("div",{className:"name-main",children:O(t.BookName,20)})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Subject:"}),Object(y.jsx)("div",{className:"name-main",children:t.subject_name})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Sub Subject:"}),Object(y.jsx)("div",{className:"name-main",children:v(t.sub_subject_name)})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"ISBN13:"}),Object(y.jsx)("div",{className:"name-main",children:t.ISBN13})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Book Edition:"}),Object(y.jsx)("div",{className:"name-main",children:t.Edition})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Question:"}),Object(y.jsx)("div",{className:"name-main",children:(null===t||void 0===t?void 0:t.question_uploaded)?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-check-circle mt-1 mr-2 text-success"})," Uploaded"]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-times-circle mt-1 mr-2 text-danger"})," Not Uploaded"]})})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Total Question:"}),Object(y.jsx)("div",{className:"name-main",children:null===t||void 0===t?void 0:t.total_question})]})]})})]}),c&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsx)(ce,{books:t})]})]},t._id)}var ne=function(){Object(o.g)();var e=Object(c.useContext)(m.a).state,t=s.a.useState(""),a=Object(j.a)(t,2),n=a[0],r=a[1],i=s.a.useState([]),l=Object(j.a)(i,2),b=l[0],p=l[1],h=s.a.useState(!1),x=Object(j.a)(h,2),f=x[0],N=x[1],g="";return g=k.a,s.a.useEffect((function(){function t(){return(t=Object(u.a)(d.a.mark((function t(a){var c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a&&a.length>=3)){t.next=9;break}return N(!0),t.next=4,_.a.get("".concat(g,"books/search/").concat(a),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 4:c=t.sent,(s=c.data.data).length?(p(s),N(!1)):(N(!0),p([])),t.next=11;break;case 9:N(!0),p([]);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(e){t.apply(this,arguments)}(n)}),[n,b.length]),Object(y.jsxs)("div",{style:{position:"relative",width:"250px"},children:[Object(y.jsx)("div",{children:Object(y.jsx)(A.a,{children:Object(y.jsx)(A.a.Group,{style:{margin:"0px 10px"},children:Object(y.jsx)(A.a.Control,{name:"isbn",value:n,placeholder:"Search Book by ISBN 13",autoFocus:!0,autoComplete:"off",maxLength:"13",onChange:function(e){r(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})})})}),!f&&Object(y.jsx)("div",{className:"search-result",children:Object(y.jsx)("ul",{children:b&&b.map((function(e){return Object(y.jsxs)("li",{className:"items pb-2",children:[Object(y.jsxs)("div",{className:"row p-2",children:[Object(y.jsx)("div",{className:"col-md-3 pl-0",children:Object(y.jsx)(Z,{isbn:e.ISBN13,width:"100%"})}),Object(y.jsx)("div",{className:"col-md-9",children:Object(y.jsxs)("div",{className:"subject-card-body",children:[Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"BookName:"}),Object(y.jsx)("div",{className:"name-main",children:O(e.BookName,20)})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Subject:"}),Object(y.jsx)("div",{className:"name-main",children:e.subject_name})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Sub Subject:"}),Object(y.jsx)("div",{className:"name-main",children:v(e.sub_subject_name)})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"ISBN13:"}),Object(y.jsx)("div",{className:"name-main",children:e.ISBN13})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Book Edition:"}),Object(y.jsx)("div",{className:"name-main",children:e.Edition})]})]})})]}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsx)(ce,{books:e})]},e._id)}))})}),0===b.length&&n.length>3&&Object(y.jsx)("div",{className:"col-md-12 search-result",children:Object(y.jsx)("ul",{children:Object(y.jsx)("li",{className:"items",children:Object(y.jsx)("p",{className:"book_item",children:"No Matching Results Found"})})})})]})};var re=function(){var e=Object(o.g)(),t=Object(c.useContext)(q.a).dispatch,a=Object(o.i)(),s=Y().data;return Object(y.jsx)("div",{style:{width:"220px"},className:"mr-1",children:Object(y.jsxs)("select",{className:"form-control",name:"category",onChange:function(a){if("1"===a.target.value)e.push("/books");else{var c=function(e){var t=e.split("-");return{id:t[0],value:h(t[1]),value2:h(t[2])}}(a.target.value);window.localStorage.setItem("pageno",1),t({type:"Book_CurrentPage",payload:1}),e.push("/books/".concat(c.value2,"/").concat(c.value,"/").concat(c.id))}},children:[Object(y.jsx)("option",{value:"1",children:"Subject"}),s&&s.map((function(e){return Object(y.jsx)("option",{value:"".concat(e._id,"-").concat(e.sub_subject,"-").concat(e.subject),selected:a.sub_subject_id===e._id?"selected":"",children:e.sub_subject})}))]})})},ie=a(51);var oe=function(e){var t=e.pagination,a=Object(c.useState)(1),s=Object(j.a)(a,2),n=s[0],r=s[1],i=Object(c.useContext)(q.a).dispatch,o=W().isLoading;function l(){return(l=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i({type:"Book_CurrentPage",payload:n}),window.localStorage.setItem("pageno",n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return l.apply(this,arguments)}),[n]),Object(y.jsxs)("div",{style:{display:"flex",flexContent:"space-between"},children:[Object(y.jsxs)(B.a,{className:"dark",disabled:!(null===t||void 0===t?void 0:t.hasPrevPage),onClick:function(e){return r(parseInt(null===t||void 0===t?void 0:t.prev))},children:[" ",Object(y.jsx)("span",{className:"fa fa-arrow-circle-o-left text-success"})]}),Object(y.jsxs)("select",{className:"form-control",onChange:function(e){return r(e.target.value)},children:[Object(y.jsx)("option",{value:"1",children:o?"Pro...":"Page"}),Object(ie.a)(Array(null===t||void 0===t?void 0:t.pageCount).fill().map((function(e,a){return Object(y.jsx)("option",{value:a+1,selected:(null===t||void 0===t?void 0:t.currentPage)===+a+1?"selected":"",children:a+1},a+1)})))]}),Object(y.jsxs)(B.a,{className:"dark",disabled:!(null===t||void 0===t?void 0:t.hasNextPage),onClick:function(e){return r(parseInt(null===t||void 0===t?void 0:t.next))},children:[" ",Object(y.jsx)("span",{className:"fa fa-arrow-circle-o-right text-success"})]})]})};function le(){var e=Object(o.g)(),t=Object(o.i)(),a=Object(c.useContext)(m.a).state,s=Object(c.useContext)(U.a),n=s.state,r=s.dispatch,l=Object(c.useContext)(M),b=l.state,p=l.dispatch,h=new FormData,O=Object(c.useState)(null),v=Object(j.a)(O,2),x=v[0],f=v[1],N=Object(c.useState)(null),g=Object(j.a)(N,2),w=g[0],C=g[1],S=Object(c.useState)(!1),T=Object(j.a)(S,2),E=T[0],R=T[1],q="";q=k.a;var D={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}};function P(){return(P=Object(u.a)(d.a.mark((function a(c){var s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),console.log(h.file),s=null,""!=h.sub_subject_name){a.next=7;break}r({type:"SET_ERROR",payload:"Please Select sub subject"}),a.next=18;break;case 7:return h.append("subject_name",t.subject_name),h.append("subject_id",t.subject_id),h.append("sub_subject_name",x),h.append("sub_subject_id",w),h.append("file",Z),R(!0),Q(!0),a.next=16,_.a.post("".concat(q,"books/upload"),h,D);case 16:200===(s=a.sent).status?e.push("/books/".concat(t.subject_name,"/").concat(x,"/").concat(w)):(r({type:"SET_SUCCESS",payload:s.message}),Q(!1),R(!1),e.push("/books-upload/".concat(x,"/").concat(w)));case 18:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var F=Object(c.useState)(!0),G=Object(j.a)(F,2),z=G[0],Q=G[1],V=Object(c.useState)(!0),K=Object(j.a)(V,2),H=K[0],Y=K[1],J=Object(c.useState)(null),W=Object(j.a)(J,2),Z=W[0],X=W[1];function $(){return($=Object(u.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,console.log("file onchange ",a),c=a.split(".")[1],console.log(c),"csv"===c?(Q(!1),X(t.target.files[0]),h.append("file",t.target.files[0])):(Q(!0),r({type:"SET_ERROR",payload:"Only .csv files are allowed"}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=Object(L.a)({method:"get",url:"subject/all"}).response,te=Object(L.a)({method:"get",url:"sub-subject/subject/".concat(t.subject_id)}).response,ae=Object(c.useState)([]),ce=Object(j.a)(ae,2),se=ce[0],ne=ce[1];return Object(c.useEffect)((function(){if(null!==ee){var e=ee.data;p({type:"GET_ALL_SUBJECT",payload:e}),e&&ne(e)}if(null!==te){var t=te.data;p({type:"GET_ALL_SUB_SUBJECT",payload:t})}}),[ee,se,te]),Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[n.error,n.success]),Object(y.jsx)(y.Fragment,{children:a.isLoggedIn&&n&&b.Subjects&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsxs)("h2",{children:["Upload Books ",t.subject_name]})}),n.error&&Object(y.jsx)(I.a,{children:n.error}),n.success&&Object(y.jsx)(I.a,{children:n.success}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col-md-1 pl-3",children:t.subject_name?Object(y.jsx)(i.b,{to:"/books-upload",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})}):Object(y.jsx)(i.b,{to:"/books",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(y.jsx)("div",{className:"col-md-5 pl-0",children:Object(y.jsx)("a",{href:"/sampledata/book_simple_upload.csv",download:!0,children:"Download Sample File"})})]})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsx)("div",{className:"org-main-area",children:Object(y.jsx)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:Object(y.jsxs)(A.a,{method:"POST",className:"col-md-6 p-0",encType:"multipart/form-data",children:[Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"Subject Name"}),t.subject_name?Object(y.jsx)(A.a.Control,{name:"subject",autoComplete:"off",defaultValue:t.subject_name,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Subject Name"}):Object(y.jsxs)("select",{className:"form-control",name:"subject",autoComplete:"off",onChange:function(t){var a=t.target.value,c=a.split("_")[0],s=a.split("_")[1];e.push("/books-upload/".concat(c.trim().replace(" ","-").toLowerCase(),"/").concat(s))},children:[Object(y.jsx)("option",{children:"Select Subject"}),b.Subjects.map((function(e){return Object(y.jsx)("option",{value:e.subject+"_"+e._id,children:e.subject},e._id)}))]})]}),t.subject_name&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"SubSubject Name"}),Object(y.jsxs)("select",{className:"form-control",name:"sub_subject",autoComplete:"off",onChange:function(e){var t=e.target.value,a=t.split("_")[0],c=t.split("_")[1],s=a.trim().replace(" ","-").toLowerCase();f(s),C(c),Y(!1)},children:[Object(y.jsx)("option",{children:"Select Sub Subject"}),b.SubSubjects.map((function(e){var t=e.sub_subject.toLowerCase().trim().replaceAll(" ","-"),a=t+"_"+e._id;return Object(y.jsx)("option",{value:a,children:t},e._id)}))]})]})}),Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"Upload Books File .csv format only"}),Object(y.jsx)(A.a.Control,{name:"books",autoComplete:"off",type:"file",accept:".csv,",disabled:H,onChange:function(e){return $.apply(this,arguments)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(y.jsx)(A.a.Group,{children:Object(y.jsx)(B.a,{onClick:function(e){return P.apply(this,arguments)},disabled:E&&z,className:"btn dark btn-sm",children:E?"processing...":"Upload Books"})})]})})})})]})})})})}function de(){var e=Object(o.i)().subject_id,t=Object(c.useContext)(m.a).state,a="";return a=k.a,Object(N.a)(["SubSubjects",e],Object(u.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0===e){c.next=5;break}return c.next=3,_.a.get("".concat(a,"sub-subject/subject/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 3:return s=c.sent,c.abrupt("return",s.data.data);case 5:case"end":return c.stop()}}),c)}))))}function ue(){var e=Object(o.i)().book_id,t=Object(c.useContext)(m.a).state,a="";return a=k.a,Object(N.a)(["books",e],Object(u.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.get("".concat(a,"books/view/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data.data);case 4:case"end":return c.stop()}}),c)}))))}function je(){var e=Object(o.i)().isbn,t=Object(c.useContext)(m.a).state,a="";return a=k.a,Object(N.a)(["chapters",e],Object(u.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.get("".concat(a,"chapter/questions/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data);case 4:case"end":return c.stop()}}),c)}))))}var be=a(67),me=a.n(be);a(207);var pe=function(e){var t,a=e.problem,c=(e.search,Object(o.g)()),s=me()(a.question);return void 0!==(null===s||void 0===s?void 0:s.problem)?null===s||void 0===s||null===(t=s.props)||void 0===t||t.children[0]:a.question,Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"card col-md-12 mb-2",children:[Object(y.jsx)("div",{className:"card-title col-md-12 p-0 mb-0",id:a.problem_no,children:Object(y.jsxs)("div",{className:"subject-card-heading pt-2",children:[Object(y.jsxs)("div",{className:"problem_no",children:["Q.No: ",a.problem_no," "]}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{className:"btn btn-sm dark",onClick:function(e){c.push("/book-chapter-add-question/".concat(e.q_id))}.bind(this,{q_id:a.q_id}),children:"Manage Question"})})]})}),a&&""!=a.question&&Object(y.jsxs)("div",{className:"card-body",style:{padding:"0px 0px 10px 0px"},children:[Object(y.jsx)("hr",{style:{padding:"0px",margin:"5px 0px"}}),Object(y.jsx)("div",{className:"card-text question",id:"high",dangerouslySetInnerHTML:{__html:a&&a.question}}),a.image&&Object(y.jsx)("div",{style:{height:"130px",overflow:"hidden",marginTop:"10px"},children:Object(y.jsx)("img",{src:a&&a.image})}),Object(y.jsx)("div",{className:"answer",dangerouslySetInnerHTML:{__html:a&&a.answer}})]})]},a.problem_no)})};var he=a(68);var Oe=function(e){var t=e.review,a=Object(o.g)(),s=Object(o.i)(),n=Object(ae.useToasts)().addToast,r=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/book-rating-review/".concat(s.isbn,"/").concat(s.book_id,"/").concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=Object(c.useContext)(m.a).state,l="";l=k.a;var b={headers:{"Content-Type":"application/json",Authorization:"Bearer "+i.access_token}},p=Object(X.b)(),h=Object($.a)((function(e){return _.a.post("".concat(l,"books/update-review-status"),e,b)}),{onSuccess:function(){p.invalidateQueries("reviews"),a.push("/book-rating-review/".concat(s.isbn,"/").concat(s.book_id)),n("Status Updated Successfully",{appearance:"success",autoDismiss:!0}),document.getElementById("reviewDiv").scrollTop=0}}),O=Object(c.useState)(!1),v=Object(j.a)(O,2),x=v[0],f=v[1],N=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.review_id,c=t.status,f(c),n={book_id:s.book_id,review_id:a,status:c},e.next=5,h.mutate(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=Object(c.useState)(!1),w=Object(j.a)(g,2),C=w[0],S=w[1],T=Object($.a)((function(e){return _.a.delete("".concat(l,"books/delete-review/").concat(s.book_id,"/").concat(e.review_id),b)}),{onSuccess:function(){p.invalidateQueries("reviews"),a.push("/book-rating-review/".concat(s.isbn,"/").concat(s.book_id)),n("Deleted Successfully",{appearance:"success",autoDismiss:!0}),document.getElementById("reviewDiv").scrollTop=0}}),E=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,T.mutate({review_id:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"subject-card-heading",children:[Object(y.jsx)("div",{children:Object(y.jsx)(te.a,{onChange:N.bind(this,{review_id:t._id,status:!x}),checked:t.status?t.status:x,className:"react-switch mr-2",height:20,width:48,handleDiameter:22,onHandleColor:"#f00",boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.5)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)"})}),Object(y.jsxs)("div",{children:[Object(y.jsx)(B.a,{className:"delBtn mr-2 ml-2",title:"Update Review",onClick:r.bind(this,t._id),children:Object(y.jsx)("span",{className:"fa fa-pencil-square-o text-secondary mr-2"})}),Object(y.jsx)(B.a,{className:"delBtn ml-2 mr-2",title:"Delete Review",onClick:E.bind(this,t._id),children:C?Object(y.jsx)("span",{className:"fa fa-spinner text-danger mr-2"}):Object(y.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})};function ve(e){var t=e.faq,a=Object(o.g)(),s=Object(o.i)(),n=Object(ae.useToasts)().addToast,r=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/book-faq/".concat(s.isbn,"/").concat(s.book_id,"/").concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=Object(c.useContext)(m.a).state,l="";l=k.a;var b={headers:{"Content-Type":"application/json",Authorization:"Bearer "+i.access_token}},p=Object(X.b)(),h=Object($.a)((function(e){return _.a.post("".concat(l,"books/update-faq-status"),e,b)}),{onSuccess:function(){p.invalidateQueries("faqs"),a.push("/book-faq/".concat(s.isbn,"/").concat(s.book_id)),n("Status Updated Successfully",{appearance:"success",autoDismiss:!0}),document.getElementById("faqDiv").scrollTop=0}}),O=Object(c.useState)(!1),v=Object(j.a)(O,2),x=v[0],f=v[1],N=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.faq_id,c=t.status,f(c),n={book_id:s.book_id,faq_id:a,status:c},e.next=5,h.mutate(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=Object(c.useState)(!1),w=Object(j.a)(g,2),C=w[0],S=w[1],T=Object($.a)((function(e){return _.a.delete("".concat(l,"books/delete-faq/").concat(s.book_id,"/").concat(e.faq_id),b)}),{onSuccess:function(){p.invalidateQueries("faqs"),a.push("/book-faq/".concat(s.isbn,"/").concat(s.book_id)),n("Deleted Successfully",{appearance:"success",autoDismiss:!0}),document.getElementById("faqDiv").scrollTop=0}}),E=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,T.mutate({faq_id:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"subject-card-heading",children:[Object(y.jsx)("div",{children:Object(y.jsx)(te.a,{onChange:N.bind(this,{faq_id:null===t||void 0===t?void 0:t._id,status:!0===(null===t||void 0===t?void 0:t.status)?x:!x}),checked:!0===(null===t||void 0===t?void 0:t.status)?null===t||void 0===t?void 0:t.status:x,className:"react-switch mr-2",height:20,width:48,handleDiameter:22,onHandleColor:"#f00",boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.5)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)"})}),Object(y.jsxs)("div",{children:[Object(y.jsx)(B.a,{className:"delBtn mr-2 ml-2",title:"Update FAQ",onClick:r.bind(this,null===t||void 0===t?void 0:t._id),children:Object(y.jsx)("span",{className:"fa fa-pencil-square-o text-secondary mr-2"})}),Object(y.jsx)(B.a,{className:"delBtn ml-2 mr-2",title:"Delete FAQ",onClick:E.bind(this,null===t||void 0===t?void 0:t._id),children:C?Object(y.jsx)("span",{className:"fa fa-spinner text-danger mr-2"}):Object(y.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})}var xe=a(38),fe=a(39);function Ne(){var e=ue().data,t=Object(o.g)(),a=Object(o.i)(),c=(null===a||void 0===a?void 0:a.book_id)?"/books/".concat(null===e||void 0===e?void 0:e.subject_name,"/").concat(null===e||void 0===e?void 0:e.sub_subject_name,"/").concat(null===e||void 0===e?void 0:e.sub_subject_id):"/book-seo/".concat(null===a||void 0===a?void 0:a.isbn,"/").concat(null===a||void 0===a?void 0:a.book_id);return Object(y.jsxs)("div",{className:"p-0",children:[Object(y.jsx)(i.b,{to:c,className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})}),Object(y.jsxs)("button",{onClick:function(e){return t.push("/book-seo/".concat(a.isbn,"/").concat(a.book_id))},className:"btn btn-sm counter btn-success pl-2 pr-2 ml-2",children:[Object(y.jsx)("span",{className:"fa fa-globe mr-2"}),"SEO"]}),Object(y.jsxs)("button",{onClick:function(e){return t.push("/book-faq/".concat(a.isbn,"/").concat(a.book_id))},className:"btn btn-sm counter btn-danger pl-2 pr-2 ml-2",children:[Object(y.jsx)("span",{className:"fa fa-question-circle mr-2"}),"FAQ"]}),Object(y.jsxs)("button",{onClick:function(e){return t.push("/book-rating-review/".concat(a.isbn,"/").concat(a.book_id))},className:"btn btn-sm counter btn-primary pl-2 pr-2 ml-2",children:[Object(y.jsx)("span",{className:"fa fa-star mr-2"}),"Rating & Review"]}),Object(y.jsxs)("button",{onClick:function(e){return t.push("/book-similar-books/".concat(a.isbn,"/").concat(a.book_id))},className:"btn btn-sm counter btn-primary pl-2 pr-2 ml-2",children:[Object(y.jsx)("span",{className:"fa fa-book mr-2"}),"Similar Books"]})]})}function ge(){var e=Object(o.i)().book_id,t=Object(c.useContext)(m.a).state,a="";return a=k.a,Object(N.a)(["faqs",e],Object(u.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.get("".concat(a,"books/seo/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data.details);case 4:case"end":return c.stop()}}),c)}))))}var _e=a(228);function ke(e){var t=e.data,a=e.qc_data;return Object(y.jsxs)("div",{className:"subject-card",style:{width:"90%"},children:[Object(y.jsxs)("div",{className:"row col-md-12 pr-0",children:[Object(y.jsx)("div",{className:"col-md-4 pl-0 pr-0",children:Object(y.jsx)(Z,{isbn:t.ISBN13,width:"76%"})}),Object(y.jsxs)("div",{className:"col-md-8 pr-0 pl-0",children:[Object(y.jsxs)("div",{className:"admin-name mt-0 mb-1",children:[Object(y.jsx)("div",{className:"name-label",children:"Author:"}),Object(y.jsx)("div",{className:"name-main",children:t.Author1})]}),Object(y.jsxs)("div",{className:"admin-name mt-1 mb-1",children:[Object(y.jsx)("div",{className:"name-label",children:"ISBN-13:"}),Object(y.jsx)("div",{className:"name-main",children:t.ISBN13})]}),Object(y.jsxs)("div",{className:"admin-name mt-1 mb-1",children:[Object(y.jsx)("div",{className:"name-label",children:"Subject:"}),Object(y.jsx)("div",{className:"name-main",children:t.subject_name})]}),Object(y.jsxs)("div",{className:"admin-name mt-1 mb-1",children:[Object(y.jsx)("div",{className:"name-label",children:"Sub Subject:"}),Object(y.jsx)("div",{className:"name-main",children:t.sub_subject_name})]}),Object(y.jsxs)("div",{className:"admin-name mt-1 mb-1",children:[Object(y.jsx)("div",{className:"name-label",children:"Total Reviews:"}),Object(y.jsx)("div",{className:"name-main",children:t.reviews.length})]})]})]}),Object(y.jsx)("hr",{className:"pt-1 pb-0"}),Object(y.jsxs)("div",{className:"admin-name mt-1 p-2",style:{border:"1px solid #ddd"},children:[Object(y.jsx)("div",{className:"name-label pt-1",children:"Total Question:"}),Object(y.jsx)("div",{className:"name-main",children:Object(y.jsxs)("button",{className:"counter",children:["Total - ",null===a||void 0===a?void 0:a.total_question]})})]}),Object(y.jsxs)("div",{className:"admin-name mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(y.jsx)("div",{className:"name-label pt-1",children:"Pending For QC:"}),Object(y.jsx)("div",{className:"name-main",children:Object(y.jsxs)("button",{className:"counter btn-danger",children:["Total - ",(null===a||void 0===a?void 0:a.total_pending_qc)?null===a||void 0===a?void 0:a.total_pending_qc:"0"]})})]}),Object(y.jsxs)("div",{className:"admin-name mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(y.jsx)("div",{className:"name-label pt-1",children:"Solved:"}),Object(y.jsx)("div",{className:"name-main",children:Object(y.jsxs)("button",{className:"counter btn-success",children:["Total - ",(null===a||void 0===a?void 0:a.total_solved)?null===a||void 0===a?void 0:a.total_solved:"0"]})})]}),Object(y.jsxs)("div",{className:"admin-name mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(y.jsx)("div",{className:"name-label pt-1",children:"Total Reworked:"}),Object(y.jsx)("div",{className:"name-main",children:Object(y.jsxs)("button",{className:"counter btn-primary",children:["Total -  ",(null===a||void 0===a?void 0:a.total_reworked)?null===a||void 0===a?void 0:a.total_reworked:"0"]})})]}),Object(y.jsxs)("div",{className:"admin-name mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(y.jsx)("div",{className:"name-label pt-1",children:"Total Rejected:"}),Object(y.jsx)("div",{className:"name-main",children:Object(y.jsxs)("button",{className:"counter btn-info",children:["Total -  ",(null===a||void 0===a?void 0:a.total_rejected)?null===a||void 0===a?void 0:a.total_rejected:"0"]})})]})]})}function ye(e){var t=e.data,a=Object(o.g)(),c=Object(o.i)();return Object(y.jsxs)("div",{className:"mt-2 pl-2 pr-2 pt-1 pb-1",style:{border:"1px solid #ddd"},children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsxs)("strong",{children:[t._id.chapter_no,". \xa0 "]}),t._id.chapter_name]}),Object(y.jsx)("div",{className:"clearfix"}),Object(y.jsxs)("div",{className:"admin-name",style:{display:"flex",justifyContent:"start",marginTop:"15px"},children:[(null===t||void 0===t?void 0:t.answered)>0&&Object(y.jsxs)("button",{className:"counter btn-danger mr-2",onClick:function(e){return a.push("/book-check-quality/".concat(c.isbn,"/").concat(c.book_id,"/chapter/").concat(t._id.chapter_no,"/answered"))},children:["Pending QC -- ",t.answered]}),(null===t||void 0===t?void 0:t.approved)>0&&Object(y.jsxs)("button",{className:"counter btn-success mr-2",onClick:function(e){return a.push("/book-check-quality/".concat(c.isbn,"/").concat(c.book_id,"/chapter/").concat(t._id.chapter_no,"/approved"))},children:["Approved -- ",t.approved]}),(null===t||void 0===t?void 0:t.reworked)>0&&Object(y.jsxs)("button",{className:"counter btn-success mr-2",onClick:function(e){return a.push("/book-check-quality/".concat(c.isbn,"/").concat(c.book_id,"/chapter/").concat(t._id.chapter_no,"/reworked"))},children:["Reworked -- ",t.reworked]}),(null===t||void 0===t?void 0:t.rejected)>0&&Object(y.jsxs)("button",{className:"counter btn-success mr-2",onClick:function(e){return a.push("/book-check-quality/".concat(c.isbn,"/").concat(c.book_id,"/chapter/").concat(t._id.chapter_no,"/rejected"))},children:["Rejected -- ",t.rejected]}),(null===t||void 0===t?void 0:t.count)>0&&Object(y.jsxs)("button",{className:"counter btn-primary",onClick:function(e){return a.push("/book-check-quality/".concat(c.isbn,"/").concat(c.book_id,"/chapter/").concat(t._id.chapter_no,"/notassigned"))},children:["Not Assigned -- ",t.count]})]})]})}var we=function(e){var t=e.pagination,a=Object(o.g)(),s=Object(o.i)(),n=Object(c.useState)(1),r=Object(j.a)(n,2),i=(r[0],r[1]),l=Object(c.useState)(!1),d=Object(j.a)(l,2),u=d[0];return d[1],Object(c.useEffect)((function(){i(null===s||void 0===s?void 0:s.page)}),[null===s||void 0===s?void 0:s.page]),Object(y.jsxs)("div",{style:{display:"flex",flexContent:"space-between"},children:[Object(y.jsxs)(B.a,{className:"dark",disabled:!(null===t||void 0===t?void 0:t.hasPrevPage),onClick:function(e){return i(parseInt(null===t||void 0===t?void 0:t.prev))},children:[" ",Object(y.jsx)("span",{className:"fa fa-arrow-circle-o-left text-success"})]}),Object(y.jsxs)("select",{className:"form-control",onChange:function(e){e.preventDefault(),a.push("/qa-data/".concat(null===s||void 0===s?void 0:s.subject,"/").concat(null===s||void 0===s?void 0:s.subject_id,"/").concat(null===s||void 0===s?void 0:s.sub_subject,"/").concat(null===s||void 0===s?void 0:s.sub_subject_id,"/").concat(null===s||void 0===s?void 0:s.status,"/").concat(null===s||void 0===s?void 0:s.chield_subject_id,"/").concat(null===s||void 0===s?void 0:s.chield_subject,"/").concat(e.target.value))},children:[Object(y.jsx)("option",{value:"1",children:u?"Pro...":"Page"}),Object(ie.a)(Array(null===t||void 0===t?void 0:t.pageCount).fill().map((function(e,a){return Object(y.jsx)("option",{value:a+1,selected:+(null===t||void 0===t?void 0:t.currentPage)===+a+1?"selected":"",children:a+1},a+1)})))]}),Object(y.jsxs)(B.a,{className:"dark",disabled:!(null===t||void 0===t?void 0:t.hasNextPage),onClick:function(e){return i(parseInt(null===t||void 0===t?void 0:t.next))},children:[" ",Object(y.jsx)("span",{className:"fa fa-arrow-circle-o-right text-success"})]})]})};var Ce=function(e){var t=e.student,a=Object(o.g)(),c=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("delete-data/all-students/delete/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/student-update/".concat(t.student_id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"subject-card-heading",children:[Object(y.jsx)("div",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1",onClick:s.bind(this,{student_id:t._id}),children:Object(y.jsx)("span",{className:"fa fa-pencil-square-o text-secondary mr-2"})}),Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1",onClick:c.bind(this,t._id),children:Object(y.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})};var Se=function(e){var t=e.student;return Object(y.jsx)("div",{className:"subject-card",id:"card-".concat(t._id),children:Object(y.jsxs)("div",{className:"subject-card-body",children:[Object(y.jsxs)("div",{className:"row col-md-12",children:[Object(y.jsx)("div",{className:"col-md-3 pl-0 pr-0",children:(null===t||void 0===t?void 0:t.img)?Object(y.jsx)("img",{src:null===t||void 0===t?void 0:t.img,className:"img-responsive",style:{width:"100%",borderRadius:"50%"}}):Object(y.jsx)("p",{className:"nameCard",children:O(t.fullname,1)})}),Object(y.jsxs)("div",{className:"col-md-9",children:[Object(y.jsxs)("div",{className:"admin-name mb-2",children:[Object(y.jsx)("span",{className:"fa fa-user"}),t.fullname]}),Object(y.jsxs)("div",{className:"admin-name mb-2",children:[Object(y.jsx)("span",{className:"fa fa-envelope"})," ",t.email]}),Object(y.jsxs)("div",{className:"admin-name mb-2",children:[Object(y.jsx)("span",{className:"fa fa-building"}),t.college]}),Object(y.jsxs)("div",{className:"admin-name mb-2",children:[Object(y.jsx)("span",{className:"fa fa-calendar"}),t.created_at]})]})]}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsx)(Ce,{student:t})]})},t._id)};function Te(e){var t=e.tutor,a=Object(ae.useToasts)().addToast,s=Object(o.h)(),n=Object(o.i)(),r=s.pathname,i=Object(o.g)(),l=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.push("/tutor-details/".concat(t.tutor_id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=Object(c.useContext)(m.a).state,p="";p=k.a;var h={headers:{"Content-Type":"application/json",Authorization:"Bearer "+b.access_token}},O=Object(X.b)(),v=Object($.a)((function(e){return _.a.post("".concat(p,"tutor/update-status"),e,h)}),{onSuccess:function(){O.invalidateQueries(["tutors/".concat(null===n||void 0===n?void 0:n.status,"/").concat(null===n||void 0===n?void 0:n.master_subject,"/").concat(null===n||void 0===n?void 0:n.type)]),i.push("".concat(r)),a("Freelancer Published status updated",{appearance:"success",autoDismiss:!0})}}),x=Object(c.useState)(!1),f=Object(j.a)(x,2),N=f[0],g=f[1],w=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.tutor_id,c=t.status,g(c),s={tutor_id:a,status:c},e.next=5,v.mutate(s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"subject-card-heading",children:[Object(y.jsx)("div",{children:Object(y.jsx)(te.a,{onChange:w.bind(this,{tutor_id:t._id,status:"1"===(null===t||void 0===t?void 0:t.status)?N:!N}),checked:"1"===(null===t||void 0===t?void 0:t.status)?!N:N,className:"react-switch displayIcon mr-2",height:20,width:48,handleDiameter:22,onHandleColor:"#f00",boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.5)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",title:"freelance tutoring"})}),Object(y.jsx)("div",{children:Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1",alt:"See Details",onClick:l.bind(this,{tutor_id:t._id}),children:Object(y.jsx)("span",{className:"fa fa-eye text-success mr-2"})})})]})}function Ee(e){var t=e.tutor;t.education[0];return Object(y.jsx)("div",{className:"subject-card",id:"card-".concat(t._id),children:Object(y.jsxs)("div",{className:"subject-card-body",children:[Object(y.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(y.jsx)("div",{className:"name-label",children:"Name:"}),Object(y.jsxs)("div",{className:"name-main",children:[t.fname," ",t.lname]})]}),Object(y.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(y.jsx)("div",{className:"name-label",children:"Email:"}),Object(y.jsx)("div",{className:"name-main",children:t.email})]}),Object(y.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(y.jsx)("div",{className:"name-label",children:"Master Subject:"}),Object(y.jsx)("div",{className:"name-main",children:t.master_subject})]}),Object(y.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(y.jsx)("div",{className:"name-label",children:"Country:"}),Object(y.jsxs)("div",{className:"name-main",children:[null===t||void 0===t?void 0:t.country,",\xa0 ",null===t||void 0===t?void 0:t.country_full]})]}),Object(y.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(y.jsx)("div",{className:"name-label",children:"Registered At:"}),Object(y.jsxs)("div",{className:"name-main",children:[Object(y.jsx)("span",{className:"fa fa-calendar mr-2 pt-1"}),Object(y.jsx)("span",{children:null===t||void 0===t?void 0:t.createdAt})]})]}),Object(y.jsxs)("div",{className:"admin-name mt-2 mb-2",children:[Object(y.jsx)("div",{className:"name-label",children:"Status:"}),Object(y.jsx)("div",{className:"name-main",children:"1"==t.status?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-lock text-success pr-2 pt-1"}),Object(y.jsx)("span",{className:"text-success",children:"Active"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-ban text-danger pr-2 pt-1"}),Object(y.jsx)("span",{className:"text-danger",children:"Blocked"})]})})]}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsx)(Te,{tutor:t})]})},t._id)}function Ae(){Object(o.i)();var e=Object(c.useContext)(m.a).state,t=Object(c.useContext)(q.a).state,a="";a=k.a;var s=null===t.CurrentPage?1:t.CurrentPage;return Object(N.a)(["faq",s],Object(u.a)(d.a.mark((function t(){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.get("".concat(a,"faq/all/").concat(s,"/").concat(10),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return c=t.sent,t.abrupt("return",{data:c.data.data,pagination:{currentPage:c.data.currentPage,hasNextPage:c.data.hasNextPage,hasPrevPage:c.data.hasPrevPage,next:c.data.next,pageCount:c.data.pageCount,itemCount:c.data.itemCount,prev:c.data.prev}});case 4:case"end":return t.stop()}}),t)}))))}var Be=function(e){var t=e.faq,a=Object(o.g)(),c=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("delete-data/manage-faq/delete/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/faq-update/".concat(t.faq_id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/add-faq-question/".concat(h(t.faq_category),"/").concat(t.faq_id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"subject-card-heading",children:[Object(y.jsx)("div",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1 text-black",onClick:n.bind(this,{faq_category:t.faq_category,faq_id:t._id}),children:Object(y.jsx)("span",{className:"fa fa-plus-circle text-success mr-2"})}),Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1",onClick:s.bind(this,{faq_id:t._id}),children:Object(y.jsx)("span",{className:"fa fa-pencil-square-o text-secondary mr-2"})}),Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1",onClick:c.bind(this,t._id),children:Object(y.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})};var Re=function(e){var t=e.faq;return Object(y.jsxs)("div",{className:"small-card",id:"card-".concat(t._id),children:[Object(y.jsx)("div",{className:"subject-card-body ",children:Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("img",{src:t.faq_image,style:{width:"100px"}}),Object(y.jsx)("div",{className:"name-main",children:t.faq_category})]})}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsx)(Be,{faq:t})]},t._id)};var qe=function(e){var t=e.data,a=Object(o.g)(),c=Object(o.i)();return Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:[Object(y.jsx)(B.a,{className:"dark mr-1",onClick:function(e){return a.push("/manage-faq")},children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})}),Object(y.jsxs)(B.a,{className:"dark mr-1",onClick:function(e){return a.push("/manage-faq-category")},children:[Object(y.jsx)("span",{className:"fa fa-plus-circle"}),"\xa0 Add Faq Category"]}),!c.faq_id&&Object(y.jsx)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:Object(y.jsx)(oe,{pagination:null===t||void 0===t?void 0:t.pagination})})]})})};var Le=function(){var e=Object(o.g)(),t=Object(c.useContext)(m.a).state,a=window.URL||window.webkitURL,s=Object(c.useState)(""),n=Object(j.a)(s,2),r=n[0],i=n[1],l=Object(c.useState)({}),b=Object(j.a)(l,2),p=b[0],h=b[1],O="";O=k.a;var v={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}},x=Object(c.useState)(!1),f=Object(j.a)(x,2),N=f[0],g=f[1],w=Object($.a)((function(e){return _.a.post("".concat(O,"faq/add-category"),e,v)}),{onSuccess:function(){g(!1),e.push("/manage-faq")}}),S=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g(!0),e.next=4,w.mutate(p);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("form",{children:[Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Category Name"}),Object(y.jsx)("input",{name:"faq_category",onChange:function(e){return h(Object(C.a)(Object(C.a)({},p),{},{faq_category:e.target.value}))},className:"form-control",autoComplete:"off"})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Category Image"}),Object(y.jsx)("input",{onChange:function(e){var t,c,s,n,r;e.preventDefault(),(t=e.target.files[0])&&(c=new Image,n=new Blob([t],{type:t.type}),c.src=a.createObjectURL(n),(r=new FileReader).readAsDataURL(n),r.onload=function(){s=r.result,i(s),h(Object(C.a)(Object(C.a)({},p),{},{faq_image:s}))})},type:"file",name:"faq_image",className:"form-control",autoComplete:"off"}),Object(y.jsx)("div",{style:{height:"130px",overflow:"hidden"},children:Object(y.jsx)("img",{src:r||""})})]}),Object(y.jsx)("div",{className:"form-group",children:Object(y.jsxs)("button",{type:"button",className:"dark btn btn-md",onClick:S,children:[" ",N?"Processing...":"Save Category"]})})]})};var Ie=function(e){var t=e.data,a=Object(o.g)(),s=Object(o.i)(),n=Object(c.useContext)(m.a).state,r=Object(c.useState)({}),i=Object(j.a)(r,2),l=i[0],b=i[1];Object(c.useEffect)((function(){var e=t.filter((function(e){return e._id===s.question_id}));b(e[0]);var a=document.getElementById("questionDiv");a.scrollTop=a.scrollHeight}),[s.question_id]);var p=Object(c.useState)({}),h=Object(j.a)(p,2),O=h[0],v=h[1],x="";x=k.a;var f={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+n.access_token}},N=Object(c.useState)(!1),g=Object(j.a)(N,2),w=g[0],S=g[1],T=Object(X.b)(),E=Object(c.useRef)(null),A=Object(c.useRef)(null),B=Object($.a)((function(e){return e.question_id=s.question_id,e.question=""!==e.question?E.current.value:e.question,e.answer=""!==e.answer?A.current.value:e.answer,_.a.post("".concat(x,"faq/add-question/").concat(s.faq_id),e,f)}),{onSuccess:function(){T.invalidateQueries("singlefaq"),S(!1),E.current.value="",A.current.value="",a.push("/add-faq-question/".concat(s.faq_category,"/").concat(s.faq_id));var e=document.getElementById("questionDiv");e.scrollTop=e.scrollHeight}}),R=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),S(!0),e.next=4,B.mutate(O);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("form",{children:[Object(y.jsxs)("h4",{children:["Add Faq Question - ",s.faq_category]}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Question"}),Object(y.jsx)("input",{type:"text",name:"question",ref:E,defaultValue:l&&l.question,onChange:function(e){return v(Object(C.a)(Object(C.a)({},O),{},{question:e.target.value}))},className:"form-control",autoComplete:"off"})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Answer"}),Object(y.jsx)("input",{type:"text",name:"answer",ref:A,defaultValue:l&&l.answer,onChange:function(e){return v(Object(C.a)(Object(C.a)({},O),{},{answer:e.target.value}))},className:"form-control",autoComplete:"off"})]}),Object(y.jsx)("div",{className:"form-group",children:s.question_id?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("button",{type:"button",className:"dark btn btn-md",onClick:R,children:w?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-spinner"})," Processing"]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-save"})," Update Category"]})}),Object(y.jsx)("button",{type:"button",className:"btn btn-danger ml-2",onClick:function(e){return a.push("/add-faq-question/".concat(s.faq_category,"/").concat(s.faq_id))},children:"Cancel"})]}):Object(y.jsxs)("button",{type:"button",className:"dark btn btn-md",onClick:R,children:[" ",w?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-spinner"})," Processing"]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-save"})," Save Category"]})]})})]})};var De=function(e){var t=e.content,a=Object(c.useContext)(m.a).state,s=Object(o.g)(),n=Object(o.i)(),r="";r=k.a;var i={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},l=Object(c.useState)(!1),b=Object(j.a)(l,2),p=b[0],h=b[1],O=Object(X.b)(),v=Object($.a)((function(e){return _.a.get("".concat(r,"faq/delete-question/").concat(n.faq_id,"/").concat(e.question_id),i)}),{onSuccess:function(){O.invalidateQueries("singlefaq"),h(!1),s.push("/add-faq-question/".concat(n.faq_category,"/").concat(n.faq_id));var e=document.getElementById("questionDiv");e.scrollTop=e.scrollHeight}}),x=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),a={question_id:t.ques_id},e.next=4,v.mutate(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.push("/add-faq-question/".concat(t.faq_category,"/").concat(t.faq_id,"/").concat(t.ques_id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"subject-card-heading",children:[Object(y.jsx)("div",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)(B.a,{className:"delBtn btn btn-sm pl-1 pr-2",onClick:f.bind(this,{faq_category:n.faq_category,faq_id:n.faq_id,ques_id:t._id}),children:Object(y.jsx)("span",{className:"fa fa-pencil-square-o text-primary"})}),Object(y.jsx)(B.a,{className:"delBtn text-danger pl-1 pr-1",onClick:x.bind(this,{ques_id:t._id}),children:p?Object(y.jsx)("span",{className:"fa fa-spinner"}):Object(y.jsx)("span",{className:"fa fa-trash"})})]})]})};var Pe=function(e){var t=e.faqLists,a=Object(o.i)();return Object(y.jsxs)("div",{className:"col-md-12",children:[Object(y.jsxs)("h4",{children:["All Faq Question - ",a.faq_category]}),Object(y.jsx)("hr",{}),Object(y.jsx)("div",{id:"questionDiv",style:{height:"400px",overflow:"scroll",paddingRight:"15px"},children:t&&t.map((function(e){return Object(y.jsxs)("div",{className:"card p-2 mb-2",children:[Object(y.jsxs)("div",{className:"card-heading",children:[Object(y.jsx)("strong",{children:"Question"}),": ",e.question]}),Object(y.jsxs)("div",{className:"card-body p-0",children:[Object(y.jsx)("strong",{children:"Answer"}),": ",e.answer]}),Object(y.jsx)("hr",{style:{margin:"5px 0px"}}),Object(y.jsx)(De,{content:e})]},e._id)}))})]})};var Fe=a(58);var Ue=function(e){var t=e.data,a=Object(o.g)(),c=Object(o.i)();return Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:[Object(y.jsx)(B.a,{className:"dark mr-1",onClick:function(e){return a.push("/manage-faq")},children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})}),Object(y.jsxs)(B.a,{className:"dark mr-1",onClick:function(e){return a.push("/master-admin/create")},children:[Object(y.jsx)("span",{className:"fa fa-plus-circle"}),"\xa0 Add New Admin"]}),!c.faq_id&&Object(y.jsx)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:Object(y.jsx)(oe,{pagination:t&&t.pagination})})]})})};function Me(){Object(o.i)();var e=Object(c.useContext)(m.a).state,t="";return t=k.a,Object(N.a)("roles",Object(u.a)(d.a.mark((function a(){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.a.get("".concat(t,"master-role/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return c=a.sent,a.abrupt("return",c.data.data);case 4:case"end":return a.stop()}}),a)}))))}function Ge(){var e=Object(o.g)(),t=Object(o.i)(),a=Object(c.useContext)(m.a).state,s=Object(ae.useToasts)().addToast,n=Me(),r=n.data,l=(n.isLoading,"");l=k.a;var b={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},p=Object(c.useState)({}),h=Object(j.a)(p,2),O=h[0],v=(h[1],Object(c.useState)("")),x=Object(j.a)(v,2),f=x[0],g=x[1],w=Object(c.useState)(""),S=Object(j.a)(w,2),T=S[0],E=S[1],R=Object(c.useState)(""),q=Object(j.a)(R,2),L=q[0],I=q[1],D=Object(c.useState)(""),P=Object(j.a)(D,2),F=P[0],U=P[1],M=Object(c.useState)(""),G=Object(j.a)(M,2),z=G[0],Q=G[1];function V(){return(V=Object(u.a)(d.a.mark((function a(c){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),null,O.fullname=(null===t||void 0===t?void 0:t.id)?null===J||void 0===J?void 0:J.fullname:f,O.email=(null===t||void 0===t?void 0:t.id)?null===J||void 0===J?void 0:J.email:T,O.password=""===L?"password":L,O.role=(null===t||void 0===t?void 0:t.id)?null===J||void 0===J?void 0:J.role:F,O.status=(null===t||void 0===t?void 0:t.id)?null===J||void 0===J?void 0:J.status:z,!t.id){a.next=14;break}return a.next=10,_.a.patch("".concat(l,"master-admin/update/").concat(t.id),O,b);case 10:a.sent,s("admin added successfully",{appearance:"success",autoDismiss:!0}),a.next=18;break;case 14:return a.next=16,_.a.post("".concat(l,"master-admin/create"),O,b);case 16:a.sent,s("admin updated successfully",{appearance:"success",autoDismiss:!0});case 18:e.push("/master-admin");case 19:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var K=function(){var e=Object(o.i)().id,t=Object(c.useContext)(m.a).state,a="";return a=k.a,Object(N.a)(["admins-".concat(e)],Object(u.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.get("".concat(a,"master-admin/view/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data.data);case 4:case"end":return c.stop()}}),c)}))))}().data,H=Object(c.useState)({}),Y=Object(j.a)(H,2),J=Y[0],W=Y[1];return Object(c.useEffect)((function(){W(K)}),[K]),Object(y.jsx)(y.Fragment,{children:a.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Create New Admin"})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"org-main-area",children:[Object(y.jsx)("div",{className:"col-md-3 pl-0",children:Object(y.jsx)(i.b,{to:"/master-admin",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(y.jsx)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:Object(y.jsxs)(A.a,{autoComplete:"off",className:"col-md-6 p-0",children:[Object(y.jsxs)(A.a.Group,{method:"POST",children:[Object(y.jsx)(A.a.Label,{children:"Admin Full Name"}),Object(y.jsx)(A.a.Control,{name:"fullname",autoComplete:"off",value:(null===t||void 0===t?void 0:t.id)?null===J||void 0===J?void 0:J.fullname:f,onChange:function(e){e.preventDefault(),(null===t||void 0===t?void 0:t.id)?W(Object(C.a)(Object(C.a)({},J),{},{fullname:e.target.value})):g(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Admin Name"})]}),Object(y.jsxs)(A.a.Group,{method:"POST",children:[Object(y.jsx)(A.a.Label,{children:"Admin Email"}),Object(y.jsx)(A.a.Control,{name:"email",autoComplete:"nope",value:(null===t||void 0===t?void 0:t.id)?null===J||void 0===J?void 0:J.email:T,onChange:function(e){e.preventDefault(),(null===t||void 0===t?void 0:t.id)?W(Object(C.a)(Object(C.a)({},J),{},{email:e.target.value})):E(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Admin Email"})]}),Object(y.jsxs)(A.a.Group,{method:"POST",children:[Object(y.jsx)(A.a.Label,{children:"Admin Password"}),Object(y.jsx)(A.a.Control,{name:"password",autoComplete:"off",type:"password",onChange:function(e){I(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Admin Password"})]}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsxs)("div",{className:"col-md-6",children:[Object(y.jsx)("label",{children:" Role"}),Object(y.jsxs)("select",{className:"form-control",name:"role",value:(null===t||void 0===t?void 0:t.id)?null===J||void 0===J?void 0:J.role:F,onChange:function(e){e.preventDefault(),(null===t||void 0===t?void 0:t.id)?W(Object(C.a)(Object(C.a)({},J),{},{role:e.target.value})):U(e.target.value)},children:[Object(y.jsx)("option",{children:"Select Role"}),null===r||void 0===r?void 0:r.map((function(e){if(e.role>1)return Object(y.jsx)("option",{value:null===e||void 0===e?void 0:e.role,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)}))]})]}),Object(y.jsxs)("div",{className:"col-md-6",children:[Object(y.jsx)("label",{children:" Status"}),Object(y.jsxs)("select",{className:"form-control",name:"role",value:(null===t||void 0===t?void 0:t.id)?null===J||void 0===J?void 0:J.status:z,onChange:function(e){e.preventDefault(),(null===t||void 0===t?void 0:t.id)?W(Object(C.a)(Object(C.a)({},J),{},{status:e.target.value})):Q(e.target.value)},children:[Object(y.jsx)("option",{children:"Select Stauts"}),Object(y.jsx)("option",{value:"true",children:"Active"}),Object(y.jsx)("option",{value:"false",children:"InActive"})]})]})]}),Object(y.jsx)(A.a.Group,{className:"mt-3",children:Object(y.jsx)(B.a,{onClick:function(e){return V.apply(this,arguments)},className:"btn dark btn-sm",children:t.id?"Update Admin":"Save Admin"})})]})})]})})]})})})})}function ze(){var e=Object(o.g)(),t=Object(o.i)(),a=Object(c.useContext)(m.a).state,s=Object(c.useContext)(U.a),n=s.state,r=s.dispatch,l=Object(c.useContext)(q.a),b=l.state,p=l.dispatch,h=Object(c.useState)(""),O=Object(j.a)(h,2),v=O[0],x=O[1],f="";f=k.a;var N={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}};function g(){return(g=Object(u.a)(d.a.mark((function a(c){var s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),s=null,""!=v){a.next=6;break}r({type:"SET_ERROR",payload:"Please Enter Subject Name"}),a.next=17;break;case 6:if(!t.id){a.next=12;break}return a.next=9,_.a.patch("".concat(f,"master-role/update/").concat(t.id),v,N);case 9:s=a.sent,a.next=15;break;case 12:return a.next=14,_.a.post("".concat(f,"master-role/create"),v,N);case 14:s=a.sent;case 15:r({type:"SET_SUCCESS",payload:s.message}),e.push("/master-role");case 17:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function w(e){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,c=a.replace(/[^a-zA-Z0-9, ]/g,""),x(Object(C.a)(Object(C.a)({},v),{},Object(K.a)({},t.target.name,c)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=Object(L.a)({method:"get",url:"master-role/view/".concat(t.id)}).response,E=Object(c.useState)(""),R=Object(j.a)(E,2),D=R[0],P=R[1];return Object(c.useEffect)((function(){if(null!==T){var e=T.data;p({type:"SET_ROLE",payload:e}),P(e)}}),[t.id,T,D]),Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[n.error,n.success]),Object(y.jsx)(y.Fragment,{children:a.isLoggedIn&&n&&b.role&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Create New Admin"})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"org-main-area",children:[Object(y.jsx)("div",{className:"col-md-3 pl-0",children:Object(y.jsx)(i.b,{to:"/master-role",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(y.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[n.error&&Object(y.jsx)(I.a,{children:n.error}),n.success&&Object(y.jsx)(I.a,{children:n.success}),Object(y.jsxs)(A.a,{autoComplete:"off",className:"col-md-6 p-0",children:[Object(y.jsxs)(A.a.Group,{method:"POST",children:[Object(y.jsx)(A.a.Label,{children:"Role Name"}),Object(y.jsx)(A.a.Control,{name:"name",autoComplete:"off",defaultValue:D.name,onChange:w,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Role Name"})]}),Object(y.jsxs)(A.a.Group,{method:"POST",children:[Object(y.jsx)(A.a.Label,{children:"Role Description"}),Object(y.jsx)(A.a.Control,{name:"description",autoComplete:"off",defaultValue:D.description,onChange:w,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter role description"})]}),Object(y.jsxs)(A.a.Group,{method:"POST",children:[Object(y.jsx)(A.a.Label,{children:"Role No"}),Object(y.jsx)(A.a.Control,{name:"role",autoComplete:"off",defaultValue:D.role,onChange:w,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter role description"})]}),Object(y.jsx)(A.a.Group,{className:"mt-3",children:Object(y.jsx)(B.a,{onClick:function(e){return g.apply(this,arguments)},className:"btn dark btn-sm",children:t.id?"Update Role":"Save Role"})})]})]})]})})]})})})})}function Qe(){var e=Object(o.g)(),t=Object(o.i)(),a=Object(c.useContext)(m.a).state,s=Object(c.useContext)(U.a),n=s.state,r=s.dispatch,l=Object(c.useContext)(q.a),b=l.state,p=l.dispatch,h=Object(c.useState)(""),O=Object(j.a)(h,2),v=O[0],x=O[1];function f(){return(f=Object(u.a)(d.a.mark((function a(c){var s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),s=null,""!=v.module_name){a.next=6;break}r({type:"SET_ERROR",payload:"Please Enter Module Name"}),a.next=17;break;case 6:if(!t.id){a.next=12;break}return a.next=9,R.c("master-module/update/".concat(t.id),v);case 9:s=a.sent,a.next=15;break;case 12:return a.next=14,R.d("master-module/create",v);case 14:s=a.sent;case 15:r({type:"SET_SUCCESS",payload:s.message}),e.push("/master-module");case 17:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function N(e){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,c=a.replace(/[^a-zA-Z0-9, ]/g,""),x(Object(C.a)(Object(C.a)({},v),{},Object(K.a)({},t.target.name,c)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=Object(L.a)({method:"get",url:"master-module/view/".concat(t.id)}).response,k=Object(L.a)({method:"get",url:"master-role/view-all"}).response,w=Object(c.useState)(""),S=Object(j.a)(w,2),T=S[0],E=S[1];return Object(c.useEffect)((function(){if(null!==_){var e=_.data;p({type:"GET_MODLIST",payload:e}),b&&E(e)}if(null!==k){console.log(k);var t=k.data;p({type:"GET_ALL_ROLE",payload:t})}}),[_,T,k]),Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[n.error,n.success]),Object(y.jsx)(y.Fragment,{children:a.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Create New Module"})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"org-main-area",children:[Object(y.jsx)("div",{className:"col-md-3 pl-0",children:Object(y.jsx)(i.b,{to:"/master-module",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})})}),Object(y.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[n.error&&Object(y.jsx)(I.a,{children:n.error}),n.success&&Object(y.jsx)(I.a,{children:n.success}),Object(y.jsxs)(A.a,{autoComplete:"off",className:"col-md-6 p-0",children:[Object(y.jsxs)(A.a.Group,{method:"POST",children:[Object(y.jsx)(A.a.Label,{children:"Module Name"}),Object(y.jsx)(A.a.Control,{name:"module_name",autoComplete:"off",defaultValue:T.module_name,onChange:N,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Module Name"})]}),Object(y.jsxs)(A.a.Group,{method:"POST",children:[Object(y.jsx)(A.a.Label,{children:"Module Description"}),Object(y.jsx)(A.a.Control,{name:"description",autoComplete:"off",defaultValue:T.description,onChange:N,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Module description"})]}),Object(y.jsxs)(A.a.Group,{method:"POST",children:[Object(y.jsx)(A.a.Label,{children:"Module Access"}),Object(y.jsxs)("select",{name:"role_access",className:"form-control",onChange:N,children:[Object(y.jsx)("option",{children:"Select Module Access"}),b.Roles.map((function(e){return Object(y.jsx)("option",{value:e.role,children:e.name})}))]})]}),Object(y.jsx)(A.a.Group,{className:"mt-3",children:Object(y.jsx)(B.a,{onClick:function(e){return f.apply(this,arguments)},className:"btn dark btn-sm",children:t.id?"Update Module":"Save Module"})})]})]})]})})]})})})})}var Ve=a(94),Ke=function(){var e=Object(c.useState)({}),t=Object(j.a)(e,2),a=t[0],s=t[1],n=function(){var e=Object(u.a)(d.a.mark((function e(t){var c,n,r,i,o,l,u,j,b,m,p,h,O;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}if(c=t.target.value,n=[],r=[],i=c.replace(/[^a-zA-Z0-9-_, ]/g,""),"text"==t.target.type)s(Object(C.a)(Object(C.a)({},a),{},Object(K.a)({},t.target.name,i)));else if("select-one"==t.target.type){if(i){for(o=i.split("_"),l=0;l<o.length;l++)0==l?r.push(Object(K.a)({},t.target.name+"_name",o[l])):1==l&&r.push(Object(K.a)({},t.target.name+"_id",o[l]));for(i=r,u=0;u<o.length;u++)s(Object(C.a)(Object(C.a)({},a),{},(j={},Object(K.a)(j,t.target.name+"_name",i[0][t.target.name+"_name"]),Object(K.a)(j,t.target.name+"_id",i[1][t.target.name+"_id"]),j)))}}else if("checkbox"==t.target.type)for(b=document.getElementsByTagName("input"),m=0;m<b.length;m++)if(b[m].checked)if((p=b[m].value).includes("_")){for(h=p.split("_"),O=0;O<h.length;O++)0==O?r.push(Object(K.a)({},"method_name",h[O])):1==O&&r.push(Object(K.a)({},"module_name",h[O]));n.push({method_name:h[0],module_name:h[1]}),i=n,s(Object(C.a)(Object(C.a)({},a),{},Object(K.a)({},t.target.name,i)))}else"on"!=b[m].value&&(n.push({name:b[m].value}),i=n,s(Object(C.a)(Object(C.a)({},a),{},Object(K.a)({},t.target.name,i))));return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){n()}),[a]),{formData:a,handleChange:n,setFormData:s}},He=function(){var e=Object(o.g)(),t=Object(o.i)(),a=Object(c.useRef)(""),s=Object(c.useContext)(m.a).state,n=Object(c.useContext)(q.a),r=n.state,i=n.dispatch,l=Object(c.useContext)(U.a),b=l.state,p=l.dispatch,O=Ke(),v=O.formData,x=O.handleChange,f="";f=k.a;var N={headers:{"Content-Type":"application/json",Authorization:"Bearer "+s.access_token}};function g(){document.getElementById("module").selectedIndex="0",document.querySelectorAll('input[name="module_method"]').forEach((function(e){e.checked=!1}))}var w=function(){var c=Object(u.a)(d.a.mark((function c(){var s,n,r,o,l;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(s=a.current.value,n=s.split("_"),r=n[0],o=n[1],v.module_name=r,v.module_id=o,v.id=null===t||void 0===t?void 0:t.id,"0"===a.current.value){c.next=14;break}return c.next=10,_.a.post("".concat(f,"master-permission-group/create"),v,N);case 10:200===(l=c.sent).data.status?(i({type:"GET_ALL_PERMISSION_GROUPS",payload:l.data.data}),p({type:"SET_SUCCESS",payload:l.data.message}),g(),e.push("/master-permission-group")):p({type:"SET_ERROR",payload:l.data.message}),c.next=15;break;case 14:p({type:"SET_ERROR",payload:"Please Select Modules to create permision group"});case 15:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),C=Object(L.a)({method:"get",url:"master-permission-group/view/".concat(null===t||void 0===t?void 0:t.id)}).response,S=Object(c.useState)({}),T=Object(j.a)(S,2),E=T[0],R=T[1];Object(c.useEffect)((function(){if(null!==C){var e=C.data.module_method;i({type:"SET_SELECTED_METHOD",payload:e}),R(e)}}),[t.module_name,C,E]);var D=Object(L.a)({method:"get",url:"master-module/view-all"}).moduleResponse,P=Object(c.useState)(),F=Object(j.a)(P,2),M=F[0],G=F[1];return Object(c.useEffect)((function(){if(null!==C){var e=C.data;i({type:"GET_ALL_MODLISTS",payload:e}),e&&G(e)}}),[D,M]),Object(c.useEffect)((function(){var e=setTimeout((function(){return p({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return p({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[b.error,b.success]),Object(y.jsxs)(y.Fragment,{children:[b.error&&Object(y.jsx)(I.a,{children:b.error}),b.success&&Object(y.jsx)(I.a,{children:b.success}),Object(y.jsxs)(A.a,{children:[Object(y.jsx)(A.a.Group,{children:Object(y.jsxs)("select",{name:"module",id:"module",type:"select",onChange:x,ref:a,className:"form-control",children:[Object(y.jsx)("option",{value:"0",children:"Select Modules"}),null===r||void 0===r?void 0:r.ModLists.map((function(e){var a=h(e.module_name),c=e._id;return Object(y.jsx)("option",{value:"".concat(a,"_").concat(c),selected:a===(null===t||void 0===t?void 0:t.module_name)?"selected":"",children:e.module_name},e._id)}))]})}),Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"App Methods List"}),null===r||void 0===r?void 0:r.methods.map((function(e){var a,c=null===r||void 0===r||null===(a=r.selected_methods)||void 0===a?void 0:a.find((function(t){return(null===t||void 0===t?void 0:t.name)===(null===e||void 0===e?void 0:e.name)}));return Object(y.jsx)("div",{className:"methods label",children:Object(y.jsxs)("label",{htmlFor:"".concat(e.name),children:[t.module_name?Object(y.jsx)("input",{name:"module_method",type:"checkbox",className:"check  checkbox",value:"".concat(e.name),checked:c&&c,onChange:x,id:"".concat(e.name)}):Object(y.jsx)("input",{name:"module_method",type:"checkbox",className:"check  checkbox",value:"".concat(e.name),onChange:x,id:"".concat(e.name)}),Object(y.jsx)("span",{style:{marginLeft:"5px"},children:e.value})]})},e.name)}))]}),Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(B.a,{varient:"dark",className:"dark",onClick:w,children:"Submit"}),t.id&&Object(y.jsx)(B.a,{onClick:function(){g(),e.push("/master-permission-group")},className:"btn dark btn-md ml-2",children:"Cancel"})]})]})]})};var Ye=function(e){var t=e.permission_group,a=Object(o.g)(),c=(Object(o.i)(),function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("delete-data/master-permission-group/delete/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/master-permission-group/".concat(t.module_name,"/update/").concat(t.id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"subject-card",id:"card-".concat(t._id),children:Object(y.jsxs)("div",{className:"subject-card-body mt-2",children:[Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Group Name:"}),Object(y.jsx)("div",{className:"name-main",children:t.module_name})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Status:"}),Object(y.jsx)("div",{className:"name-main",children:1==t.status?"Active":"Inactive"})]}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsxs)("div",{className:"subject-card-heading",children:[Object(y.jsxs)(B.a,{className:"delBtn text-black",onClick:s.bind(this,{id:t._id,module_name:t.module_name}),children:[Object(y.jsx)("span",{className:"fa fa-pencil-square-o text-success mr-2"}),"Edit"]}),Object(y.jsx)(B.a,{className:"delBtn",onClick:c.bind(this,t._id),children:Object(y.jsx)("span",{className:"fa fa-trash text-danger"})})]}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"All Methods:"}),Object(y.jsx)("div",{className:"name-main-method",children:t.module_method.map((function(e){return Object(y.jsx)("p",{children:e.name})}))})]})]})})})},Je=function(){var e=Object(c.useContext)(q.a),t=e.state,a=e.dispatch,s=Object(L.a)({method:"get",url:"master-permission-group/view-all"}),n=s.response;s.isLoading;return Object(c.useEffect)((function(){null!==n&&a({type:"GET_ALL_PERMISSION_GROUPS",payload:n.data})}),[n]),Object(y.jsx)(y.Fragment,{children:t.permissionGroups.map((function(e){return Object(y.jsx)(Ye,{permission_group:e},e._id)}))})};function We(){Object(o.g)();var e=Object(c.useContext)(m.a).state,t=Object(c.useContext)(q.a),a=t.state,s=t.dispatch,n=Object(c.useContext)(U.a),r=n.state,i=n.dispatch,l=Object(L.a)({method:"get",url:"master-module/view-all"}),d=l.response,u=l.isLoading;l.error;return Object(c.useEffect)((function(){null!==d&&s({type:"GET_ALL_MODLISTS",payload:d.data})}),[d]),Object(c.useEffect)((function(){var e=setTimeout((function(){return i({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return i({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[r.errors,r.success]),Object(y.jsx)(y.Fragment,{children:e.isLoggedIn&&r&&a.ModLists&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Permission Group List"})}),u&&Object(y.jsx)(D,{}),!u&&Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"row col-md-12",children:[Object(y.jsx)("div",{className:"col-md-3 card p-2",style:{position:"fixed",width:"320px"},children:Object(y.jsx)(He,{})}),Object(y.jsx)("div",{className:"col-md-9",style:{position:"relative",left:"330px"},children:Object(y.jsx)("div",{className:"subject-main-container",children:Object(y.jsx)(Je,{})})})]})})]})})})})}function Ze(){var e=Object(o.g)(),t=Object(o.i)(),a=Object(c.useRef)(""),s=Object(c.useRef)(""),n=Object(ae.useToasts)().addToast,r=Object(c.useContext)(m.a).state,i=Ke(),l=(i.formData,i.handleChange,function(){Object(o.i)().q_id;var e=Object(c.useContext)(m.a).state,t="";return t=k.a,Object(N.a)("question",Object(u.a)(d.a.mark((function a(){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.a.get("".concat(t,"master-permission-group/view-all"),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return c=a.sent,a.abrupt("return",c.data.data);case 4:case"end":return a.stop()}}),a)}))))}()),b=l.data,p=l.isLoading,h=function(){var e=Object(o.i)(),t=Object(c.useContext)(m.a).state,a="";return a=k.a,Object(N.a)("rolepermissions",Object(u.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.get("".concat(a,"master-role-permission/view/").concat(e.role_id,"/").concat(e.role_name),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data.data.permissions);case 4:case"end":return c.stop()}}),c)}))))}().data,O=Me().data,v=Object(c.useState)(!1),x=Object(j.a)(v,2),f=x[0],g=x[1],w="";w=k.a;var C={headers:{"Content-Type":"application/json",Authorization:"Bearer "+r.access_token}},S=function(){var e=Object(u.a)(d.a.mark((function e(){var t,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=document.getElementById("checkAll").checked,a=document.getElementsByName("permissions"),c=0;c<a.length;c++)"checkbox"==a[c].type&&(a[c].checked=!!t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function T(){document.getElementById("role").selectedIndex="0",document.querySelectorAll("input[type=checkbox]").forEach((function(e){e.checked=!1}))}var E=Object(X.b)(),A=Object($.a)((function(e){return _.a.post("".concat(w,"master-role-permission/create"),e,C)}),{onSuccess:function(){E.invalidateQueries("rolepermissions"),g(!1),T(),e.push("/role-permission/update/".concat(null===t||void 0===t?void 0:t.role_name,"/").concat(null===t||void 0===t?void 0:t.role_id)),n("Permission`s Modified successfully",{appearance:"success",autoDismiss:!0})}}),R=function(){var e=Object(u.a)(d.a.mark((function e(){var c,s,r,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),""!==a.current.value){e.next=6;break}g(!1),n("Please Select role to give permissions",{appearance:"error",autoDismiss:!0}),e.next=12;break;case 6:for(c=document.getElementsByName("permissions"),s=[],r=0;r<c.length;r++)c[r].checked&&(i=c[r].value,o=i.split("_"),s.push({method_name:o[0],module_name:o[1]}));return l={permissions:s,role_name:null===t||void 0===t?void 0:t.role_name,role_id:null===t||void 0===t?void 0:t.role_id},e.next=12,A.mutate(l);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=Object(c.useState)(!1),L=Object(j.a)(q,2),I=(L[0],L[1]),P=Object(c.useState)(),F=Object(j.a)(P,2);F[0],F[1];return Object(y.jsx)(y.Fragment,{children:r.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Permission List"})}),p&&Object(y.jsx)(D,{}),!p&&Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"col-md-12 row",children:[Object(y.jsxs)("select",{name:"role",id:"role",ref:a,className:"roles col-md-6 form-control",onChange:function(t){var a=t.target.value.split("_"),c=a[0],s=a[1];e.push("/role-permission/update/".concat(c,"/").concat(s))},children:[Object(y.jsx)("option",{value:"",children:"Select Roles"}),null===O||void 0===O?void 0:O.map((function(e){return Object(y.jsx)("option",{selected:e._id===t.role_id?"selected":"",value:"".concat(e.name.toLowerCase().trim().replaceAll(" ","-"),"_").concat(e._id),children:e.name},e._id)}))]}),Object(y.jsx)(B.a,{onClick:R,className:"btn btn-sm dark ml-2",children:f?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-spinner"})," processing"]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-save mr-2"})," Save Permission"]})}),(null===t||void 0===t?void 0:t.role_id)&&Object(y.jsxs)(B.a,{onClick:function(t){e.push("/role-permission"),T()},className:"btn btn-sm dark ml-2 ",children:[Object(y.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})}),!p&&Object(y.jsxs)("div",{className:"dash-cont-start",children:[Object(y.jsx)("h4",{className:"mt-2",children:"All Permission Groups"}),Object(y.jsxs)("div",{className:"col-md-12 row",children:[Object(y.jsx)("input",{type:"checkbox",className:"checkall",id:"checkAll",name:"CheckAll",onChange:S}),Object(y.jsx)("label",{htmlFor:"checkAll",children:"Check All "})]}),Object(y.jsx)("hr",{}),Object(y.jsx)("div",{className:"row col-md-12",children:null===b||void 0===b?void 0:b.map((function(e){var t=e.module_name.replaceAll("-"," ");!function(e,t){null===e||void 0===e||e.some((function(e){return e.module_name===t}))}(h,null===e||void 0===e?void 0:e.module_name);return Object(y.jsxs)("div",{className:"col-md-3 no-gutter p-2 mb-2 subject-card",children:[Object(y.jsx)("p",{className:"cursor mb-0 pl-2",children:Object(y.jsx)("b",{children:t})}),Object(y.jsx)("div",{className:"col-md-12 row mt-0",children:e.module_method.map((function(t){var a="".concat(t.name,"_").concat(e.module_name),c=function(e,t){return null===e||void 0===e?void 0:e.some((function(e){return e.method_name+"_"+e.module_name===t}))}(h,a);return Object(y.jsxs)("div",{className:"col-md-12 pl-4",children:[Object(y.jsx)("input",{className:"permissions",type:"checkbox",name:"permissions",ref:s,onChange:function(e){e.preventDefault(),I(s.current.value)},id:t._id,value:a,defaultValue:c,checked:c}),Object(y.jsx)("label",{htmlFor:t._id,style:{marginBottom:"0px",marginLeft:"5px"},children:t.name})]},t._id)}))})]},e._id)}))})]})]})})})})}var Xe=[{path:"/",component:function(){var e=Object(o.g)(),t=Object(c.useRef)(),a=Object(c.useRef)(),s=Object(c.useState)(null),n=Object(j.a)(s,2),r=n[0],l=n[1],b=(Object(c.useContext)(q.a).dispatch,Object(c.useContext)(m.a)),p=b.state,h=b.dispatch,O=Object(c.useState)(!1),v=Object(j.a)(O,2),x=v[0],f=v[1],N=function(){var c=Object(u.a)(d.a.mark((function c(s){var n,r,i,o,u,j,b,m,p,O,v;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(s.preventDefault(),n=t.current.value,r=a.current.value,""!==n){c.next=8;break}return l("Please enter email address"),c.abrupt("return",!1);case 8:if(""!==r){c.next=13;break}return l("Please enter password"),c.abrupt("return",!1);case 13:return f(!0),i={email:t.current.value,password:a.current.value},c.next=17,R.d("admin/login",i);case 17:(o=c.sent).response&&o.response.status?(l("Email or password not matched"),f(!1)):(u=o.data.accessToken,j=o.data.refreshToken,b=o.data.admin.fullname,m=o.data.admin.email,p=o.data.admin.role,O=o.data.admin.created_at,v=!0,localStorage.setItem("access_token",u),localStorage.setItem("refresh_token",j),localStorage.setItem("fullname",b),localStorage.setItem("email",m),localStorage.setItem("role",p),localStorage.setItem("created_at",O),localStorage.setItem("isLoggedIn",v),h({type:"LOGIN",payload:{isLoggedIn:v,fullname:b,email:m,role:p,created_at:O,access_token:u,refresh_token:j}}),e.push("/dashboard"));case 19:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();function g(){return(g=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"true"==(null===p||void 0===p?void 0:p.isLoggedIn)&&e.push("/dashboard");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){var e=setTimeout((function(){return l(null)}),2500);return function(){clearTimeout(e)}}),[r]),Object(c.useEffect)((function(){return g.apply(this,arguments)}),[p]),Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"container-fluid p-0 m-0 text-center LoginBg",children:[Object(y.jsx)(i.c,{to:"/",children:Object(y.jsx)("img",{className:"logo",src:"/logo.png"})}),Object(y.jsx)("div",{className:"row no-gutter",children:Object(y.jsxs)("div",{className:"col-md-3 loginDiv",children:[Object(y.jsx)("h4",{children:"Administrator Login "}),r&&Object(y.jsx)("p",{style:{color:"red",margin:"0px"},children:r}),Object(y.jsx)("hr",{}),Object(y.jsxs)(A.a,{autoComplete:"new-password",onSubmit:N,children:[Object(y.jsxs)(A.a.Group,{controlId:"formBasicEmail",className:"text-left",children:[Object(y.jsxs)(A.a.Label,{children:[Object(y.jsx)("span",{className:"fa fa-envelope text-success"})," Email address"]}),Object(y.jsx)(A.a.Control,{type:"email",autoComplete:"Off",ref:t,placeholder:"Enter email"}),Object(y.jsx)(A.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(y.jsxs)(A.a.Group,{controlId:"formBasicPassword",className:"text-left",children:[Object(y.jsxs)(A.a.Label,{children:[Object(y.jsx)("span",{className:"fa fa-key text-success"})," Password"]}),Object(y.jsx)("div",{style:{position:"relative"},children:Object(y.jsx)(A.a.Control,{type:"password",autoComplete:"Off",ref:a,placeholder:"Password"})})]}),Object(y.jsxs)(B.a,{className:"btn btn-md btn-block dark mt-3",type:"submit",style:{width:"100%"},children:[Object(y.jsx)("span",{className:"fa fa-lock mr-2 p-2"}),x?"Authenticating...":"Login Account"]})]})]})})]})})}}],$e=[{path:"/dashboard",component:function(){var e=Object(c.useContext)(m.a).state;return Object(y.jsx)(y.Fragment,{children:e.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Dashboard"})}),Object(y.jsxs)("div",{className:"dash_over_view",children:[Object(y.jsx)("h5",{children:"Overviews"}),Object(y.jsx)("hr",{}),Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("div",{className:"col-md-12 pl-0",children:1==e.role&&Object(y.jsx)("div",{className:"col-md-3 card ml-3  pt-2 pb-2 main-box gradient-ibiza",children:Object(y.jsxs)("div",{className:"card-body pt-0 pb-0 pl-0",children:[Object(y.jsxs)("div",{className:"box-head",children:[Object(y.jsx)("h4",{children:"Admin"}),Object(y.jsx)("div",{className:"box-icon",children:Object(y.jsx)("span",{className:"fa fa-users"})})]}),Object(y.jsx)("div",{className:"main-box-text",children:Object(y.jsx)("b",{children:"Total: 1 "})})]})})})})]})]})})})})}},{path:"/my-profile",component:function(){Object(o.g)();var e=Object(c.useContext)(m.a).state;return Object(y.jsx)(y.Fragment,{children:e.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"My Profile"})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"org-main-area",children:[Object(y.jsx)("div",{className:"org-main-head",children:Object(y.jsxs)("span",{className:"org-main-head-name",children:["Hi ",Object(y.jsxs)("span",{children:[e.fullname,"!"]})]})}),Object(y.jsx)("div",{className:"org-main-head-sub",children:Object(y.jsx)("p",{children:"You are a part of the following organizations. Go to the organization which you wish to access now."})}),Object(y.jsxs)("div",{className:"org-main-part",children:[Object(y.jsx)("div",{className:"org-main-img",children:Object(y.jsx)("img",{src:"/user.png",alt:"profile"})}),Object(y.jsxs)("div",{className:"org-main-details",children:[Object(y.jsx)("div",{className:"org-admin-name",children:Object(y.jsxs)("span",{className:"org-admin-name-txt",children:["Full Name: ",Object(y.jsx)("b",{children:e.fullname})]})}),Object(y.jsx)("div",{className:"org-main-created",children:Object(y.jsxs)("span",{children:["Organization created on ",Object(y.jsx)("b",{children:e.created_at})]})}),Object(y.jsx)("div",{className:"org-main-id",children:Object(y.jsxs)("span",{children:["Role:",Object(y.jsxs)("b",{children:[" ",1==e.role?"Master Admin":"Admin"]})]})}),Object(y.jsx)("div",{className:"org-main-editor",children:Object(y.jsxs)("span",{children:["Email Address:",Object(y.jsxs)("b",{children:[" ",e.email]})]})}),Object(y.jsx)("div",{className:"org-admin-text",children:Object(y.jsx)("p",{children:"You are an admin in this organization"})})]}),Object(y.jsx)("div",{className:"org-go-btn",children:Object(y.jsx)(B.a,{variant:"primary",children:"Update Profile"})})]})]})})]})})})})}},{path:"/subject",component:function(){Object(o.g)();var e=Object(c.useContext)(m.a).state,t=P(),a=t.data,s=t.isLoading,n=t.error;return Object(y.jsx)(y.Fragment,{children:e.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"All Subject"})}),n&&Object(y.jsx)(I.a,{children:n}),s&&Object(y.jsx)(D,{}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsx)("div",{className:"col-md-12 row",children:Object(y.jsxs)(i.b,{to:"/subject-create",className:"btn btn-sm dark",children:[Object(y.jsx)("span",{className:"fa fa-plus-circle"})," \xa0 Add New Subject"]})})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsx)("div",{className:"org-main-area",children:!s&&Object(y.jsx)("div",{className:"subject-main-container",children:a.map((function(e){return Object(y.jsx)(F,{sub:e},e._id)}))})})})]})})})})}},{path:"/subject-create",component:Q},{path:"/subject-update/:id",component:Q},{path:"/sub-subject/:subject_name/:subject_id",component:function(){Object(o.g)();var e=Object(o.i)(),t=Object(c.useContext)(m.a).state,a=Object(N.a)("subject-subsubjects",Object(u.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.b("sub-subject/subject/".concat(e.subject_id));case 2:return a=t.sent,t.abrupt("return",a.data.data);case 4:case"end":return t.stop()}}),t)})))),s=a.data,n=a.isLoading,r=a.error;return Object(y.jsx)(y.Fragment,{children:t.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsxs)("h2",{children:["All Subject of ",e.subject_name.replace("-"," ")]})}),r&&Object(y.jsx)(I.a,{children:r}),n&&Object(y.jsx)(D,{}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"col-md-12 pl-0",children:[Object(y.jsx)(i.b,{to:"/subject",className:"btn btn-sm dark  mr-2",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})}),Object(y.jsx)(i.b,{to:"/sub-subject/".concat(e.subject_name,"/create/").concat(e.subject_id),className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-plus"})}),Object(y.jsx)(i.b,{to:"/sub-subject/upload",className:"btn btn-sm dark ml-2",children:Object(y.jsx)("span",{className:"fa fa-plus"})})]})}),Object(y.jsx)("div",{className:"dash-cont-start",children:!n&&Object(y.jsx)("div",{className:"subject-main-container",children:s.map((function(e){return Object(y.jsx)(V,{sub:e},e._id)}))})})]})})})})}},{path:"/sub-subject/:subject_name/create/:subject_id",component:H},{path:"/sub-subject",component:function(){Object(o.g)();var e=Object(c.useContext)(m.a).state,t=Y(),a=t.data,s=t.isLoading,n=t.error;return Object(y.jsx)(y.Fragment,{children:e.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"All Sub Subject"})}),n&&Object(y.jsx)(I.a,{children:n}),s&&Object(y.jsx)(D,{}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"col-md-12 row",children:[Object(y.jsxs)(i.b,{to:"/sub-subject/create",className:"btn btn-sm dark",children:[Object(y.jsx)("span",{className:"fa fa-plus-square text-success"}),"\xa0 Add Sub Subject"]}),Object(y.jsxs)(i.b,{to:"/sub-subject/upload",className:"btn btn-sm dark ml-2",children:[Object(y.jsx)("span",{className:"fa fa-cloud text-success"}),"\xa0  Upload Sub Subject"]})]})}),Object(y.jsx)("div",{className:"dash-cont-start",children:!s&&Object(y.jsx)("div",{className:"subject-main-container",children:a.map((function(e){return Object(y.jsx)(V,{sub:e},e._id)}))})})]})})})})}},{path:"/sub-subject/create",component:H},{path:"/sub-subject/:subject_name/upload/:subject_id",component:J},{path:"/sub-subject/upload",component:J},{path:"/delete-data/:module/:method/:id",component:function(){var e=Object(c.useContext)(U.a),t=e.state,a=e.dispatch,s=(Object(c.useContext)(q.a).dispatch,Object(o.g)()),n=Object(o.i)(),r=Object(c.useContext)(m.a).state,l=Object(c.useState)(""),b=Object(j.a)(l,2),p=b[0],h=b[1];Object(c.useEffect)((function(){h(Object(C.a)(Object(C.a)({},p),{},{id:n.id,method:n.method,module:n.module,password:""}))}),[n.id,n.method,n.module]),Object(c.useEffect)((function(){var e=setTimeout((function(){return a({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return a({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[t.error,t.success]);var O=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,h(Object(C.a)(Object(C.a)({},p),{},Object(K.a)({},t.target.name,a)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=Object(Fe.a)().randomPassword,x=function(){var e=Object(u.a)(d.a.mark((function e(){var t,c,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,""!=p.password){e.next=5;break}a({type:"SET_ERROR",payload:"Please Enter password to delete this resource"}),e.next=21;break;case 5:return e.next=7,R.d("/master-delete/check-password",p);case 7:if(t=e.sent,console.log(t.data),!0!==t.data.status){e.next=20;break}return e.next=12,R.a("/".concat(p.module,"/").concat(p.method,"/").concat(p.id));case 12:return c=t.data.data,n={module_password:v,module_plain_password:v},e.next=16,R.c("/master-delete/update/".concat(c),n);case 16:r=p.module,s.push("/".concat(r)),e.next=21;break;case 20:a({type:"SET_ERROR",payload:t.data.message});case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:r.isLoggedIn&&a&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsxs)("h2",{style:{textTransform:"uppercase"},children:[n.method," Data"]})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"org-main-area",children:[Object(y.jsx)("div",{className:"col-md-3 pl-0",children:Object(y.jsx)(i.b,{to:"/".concat(n.module),className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(y.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[t.error&&Object(y.jsx)(I.a,{children:t.error}),t.success&&Object(y.jsx)(I.a,{children:t.success}),Object(y.jsxs)(A.a,{autoComplete:"off",className:"col-md-6 p-0",children:[Object(y.jsxs)(A.a.Group,{method:"POST",children:[Object(y.jsx)(A.a.Label,{children:"Delete Password "}),Object(y.jsx)(A.a.Control,{name:"password",autoComplete:"off",onChange:O,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Password to delete this Resource"})]}),Object(y.jsx)(A.a.Group,{className:"mt-3",children:Object(y.jsx)(B.a,{onClick:x,className:"btn dark btn-sm",children:"Delete Resource"})})]})]})]})})]})})})})}},{path:"/view-data/:module/:rmodule/:method/:id",component:function(){var e=Object(c.useContext)(U.a),t=e.state,a=e.dispatch,s=Object(o.g)(),n=Object(o.i)(),r=Object(c.useContext)(m.a).state;Object(c.useEffect)((function(){var e=setTimeout((function(){return a({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return a({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[t.error,t.success]);var l=Object(c.useState)({}),b=Object(j.a)(l,2),p=b[0],h=b[1];Object(c.useEffect)((function(){h(Object(C.a)(Object(C.a)({},p),{},{password:""}))}),[n.id,n.method,n.module]);var O=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,h(Object(C.a)(Object(C.a)({},p),{},Object(K.a)({},t.target.name,a)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null,""==p.password?a({type:"SET_ERROR",payload:"Please Enter password to view this resource"}):"wrongpassword"===p.password?s.push("/master-module/password/".concat(n.rmodule,"/").concat(n.id)):a({type:"SET_ERROR",payload:"you have entered a Wrong Password"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:r.isLoggedIn&&a&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsxs)("h2",{style:{textTransform:"uppercase"},children:[n.method," Data"]})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"org-main-area",children:[Object(y.jsx)("div",{className:"col-md-3 pl-0",children:Object(y.jsx)(i.b,{to:"/".concat(n.module),className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(y.jsxs)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:[t.error&&Object(y.jsx)(I.a,{children:t.error}),t.success&&Object(y.jsx)(I.a,{children:t.success}),Object(y.jsxs)(A.a,{autoComplete:"off",className:"col-md-6 p-0",children:[Object(y.jsxs)(A.a.Group,{method:"POST",children:[Object(y.jsx)(A.a.Label,{children:"View Password "}),Object(y.jsx)(A.a.Control,{name:"password",type:"password",autoComplete:"off",onChange:O,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Password to view this Resource"})]}),Object(y.jsx)(A.a.Group,{className:"mt-3",children:Object(y.jsx)(B.a,{onClick:v,className:"btn dark btn-sm",children:"View Resource"})})]})]})]})})]})})})})}},{path:"/books/:subject?/:sub_subject_name?/:sub_subject_id?",component:function(){var e=Object(o.g)(),t=Object(o.i)(),a=Object(c.useContext)(m.a).state,s=W(),n=s.data,r=s.isLoading,l=s.error;return Object(y.jsx)(y.Fragment,{children:a.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsxs)("h2",{style:{textTransform:"capitalize"},children:["All Books",Object(y.jsxs)("span",{style:{fontSize:"0.95rem"},children:["\xa0 \xa0 ",t&&"".concat(v(t.subject)),"\xa0 ",t&&v(t.sub_subject_name),"\xa0 ",n&&" (".concat(n.pagination.itemCount,")")]})]})}),l&&Object(y.jsx)(I.a,{children:l.message}),r&&Object(y.jsx)(D,{}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:[Object(y.jsxs)(B.a,{onClick:function(t){return e.push("/books-create")},className:"btn btn-sm dark",children:[Object(y.jsx)("span",{className:"fa fa-plus-circle text-success mr-2"})," Add books"]}),Object(y.jsxs)(B.a,{onClick:function(t){return e.push("/books-upload")},className:"btn btn-sm dark ml-2",children:[Object(y.jsx)("span",{className:"fa fa-cloud text-success mr-2"})," Upload books"]}),Object(y.jsxs)(B.a,{onClick:function(t){return e.push("/books-bulk-upload")},className:"btn btn-sm dark ml-2",children:[Object(y.jsx)("span",{className:"fa fa-cloud text-success mr-2"})," Bulk Uploads books"]}),Object(y.jsx)(ne,{}),Object(y.jsx)(re,{}),Object(y.jsx)(oe,{pagination:n&&n.pagination})]})}),!r&&Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"subject-main-container",children:[n.data.map((function(e){return Object(y.jsx)(se,{heading:!0,books:e},e._id)})),n.pagination&&0===n.pagination.itemCount&&Object(y.jsxs)("div",{className:"col-md-6 offset-3 p-5",children:[Object(y.jsxs)("h2",{style:{fontSize:"1.2em"},children:["No Books have been Uploaded in ",Object(y.jsx)("br",{}),Object(y.jsxs)("span",{style:{fontSize:"1.5em"},className:"text-danger",children:[t.sub_subject_name," under ",t.subject," Category!!!"]}),Object(y.jsx)("br",{}),"Please Uplaod Books in this subject category"]}),Object(y.jsx)(i.b,{to:"/books-upload",className:"btn btn-sm dark",children:"Upload Books"})]})]})})]})})})})}},{path:"/books-upload",component:le},{path:"/books-bulk-upload",component:function(){var e=Object(o.g)(),t=Object(o.i)(),a=Object(c.useContext)(m.a).state,s=Object(c.useContext)(U.a),n=s.state,r=s.dispatch,l=Object(c.useContext)(M),b=l.state,p=l.dispatch,h=new FormData,O=Object(c.useState)(null),v=Object(j.a)(O,2),x=(v[0],v[1],Object(c.useState)(null)),f=Object(j.a)(x,2),N=(f[0],f[1],Object(c.useState)(!1)),g=Object(j.a)(N,2),_=g[0],k=g[1];function w(){return(w=Object(u.a)(d.a.mark((function t(a){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),console.log(h.file),c=null,""!=h.sub_subject_name){t.next=7;break}r({type:"SET_ERROR",payload:"Please Select sub subject"}),t.next=17;break;case 7:return h.append("file",P),k(!0),E(!0),t.next=12,R.d("books/bulk-upload",h);case 12:c=t.sent,r({type:"SET_SUCCESS",payload:c.message}),E(!1),k(!1),e.push("/books");case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var C=Object(c.useState)(!0),S=Object(j.a)(C,2),T=S[0],E=S[1],q=Object(c.useState)(null),D=Object(j.a)(q,2),P=D[0],F=D[1];function G(){return(G=Object(u.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,console.log("file onchange ",a),c=a.split(".")[1],console.log(c),"csv"===c?(E(!1),F(t.target.files[0]),h.append("file",t.target.files[0])):(E(!0),r({type:"SET_ERROR",payload:"Only .csv files are allowed"}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=Object(L.a)({method:"get",url:"subject/all"}).response,Q=Object(L.a)({method:"get",url:"sub-subject/subject/".concat(t.subject_id)}).response,V=Object(c.useState)([]),K=Object(j.a)(V,2),H=K[0],Y=K[1];return Object(c.useEffect)((function(){if(null!==z){var e=z.data;p({type:"GET_ALL_SUBJECT",payload:e}),e&&Y(e)}if(null!==Q){var t=Q.data;p({type:"GET_ALL_SUB_SUBJECT",payload:t})}}),[z,H,Q]),Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[n.error,n.success]),Object(y.jsx)(y.Fragment,{children:a.isLoggedIn&&n&&b.Subjects&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsxs)("h2",{children:["Upload Books ",t.subject_name]})}),n.error&&Object(y.jsx)(I.a,{children:n.error}),n.success&&Object(y.jsx)(I.a,{children:n.success}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col-md-1 pl-3",children:t.subject_name?Object(y.jsx)(i.b,{to:"/books-upload",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})}):Object(y.jsx)(i.b,{to:"/books",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(y.jsx)("div",{className:"col-md-5 pl-0",children:Object(y.jsx)("a",{href:"/sampledata/book_bulk_upload.csv",download:!0,children:"Download Sample File"})})]})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsx)("div",{className:"org-main-area",children:Object(y.jsx)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:Object(y.jsxs)(A.a,{method:"POST",className:"col-md-6 p-0",encType:"multipart/form-data",children:[Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"Upload Books File .csv format only"}),Object(y.jsx)(A.a.Control,{name:"books",autoComplete:"off",type:"file",accept:".csv,",onChange:function(e){return G.apply(this,arguments)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(y.jsx)(A.a.Group,{children:Object(y.jsx)(B.a,{onClick:function(e){return w.apply(this,arguments)},disabled:!_&&T,className:"btn dark btn-sm",children:_?"processing...":"Upload Books"})})]})})})})]})})})})}},{path:"/books-create/:subject_name?/:subject_id?/:book_id?",component:function(){var e=Object(o.g)(),t=Object(o.i)(),a=Object(c.useContext)(m.a).state,s=Object(c.useContext)(U.a),n=(s.state,s.dispatch),r=Object(c.useContext)(M),l=(r.state,r.dispatch,P()),b=l.data,p=(l.isLoading,l.error,de().data),O=ue().data,v=new FormData,x=Object(c.useState)({}),f=Object(j.a)(x,2),N=f[0],g=f[1],w=Object(c.useState)(null),S=Object(j.a)(w,2),T=S[0],E=S[1],R=Object(c.useState)(null),q=Object(j.a)(R,2),L=q[0],I=q[1],D=Object(c.useState)(!0),F=Object(j.a)(D,2),G=F[0],z=F[1],Q="";Q=k.a;var V={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}};function H(){return(H=Object(u.a)(d.a.mark((function a(c){var s,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),s=null,""!=v.sub_subject_name){a.next=6;break}n({type:"SET_ERROR",payload:"Please Select sub subject"}),a.next=23;break;case 6:if(N.subject_name=t.subject_name,N.subject_id=t.subject_id,N.sub_subject_name=T,N.sub_subject_id=L,r=t.book_id,console.log(N),!r){a.next=18;break}return a.next=15,_.a.patch("".concat(Q,"books/update/").concat(r),N,V);case 15:s=a.sent,a.next=21;break;case 18:return a.next=20,_.a.post("".concat(Q,"books/create"),N,V);case 20:s=a.sent;case 21:n({type:"SET_SUCCESS",payload:s.message}),e.push("/books");case 23:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function Y(e){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(Object(C.a)(Object(C.a)({},N),{},Object(K.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsx)(y.Fragment,{children:a.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsxs)("h2",{children:["Create Books ",t.subject_name]})}),Object(y.jsx)("div",{className:"dash-con-heading",children:t.subject_name?Object(y.jsx)(i.b,{to:"/books-create",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})}):Object(y.jsx)(i.b,{to:"/books",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left text-success mr-2"})})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsx)("div",{className:"org-main-area",children:Object(y.jsx)("div",{className:"col-md-12 no-gutter p-0 mt-2",children:Object(y.jsxs)(A.a,{method:"POST",className:"col-md-12 p-0",encType:"multipart/form-data",children:[Object(y.jsxs)("div",{className:"row",children:[Object(y.jsxs)("div",{className:"col-md-4",children:[Object(y.jsxs)(A.a.Group,{style:{position:"relative"},children:[Object(y.jsx)(A.a.Label,{children:"Subject Name"}),t.subject_name&&!t.book_id?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(A.a.Control,{name:"subject",autoComplete:"off",defaultValue:t.subject_name,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Subject Name"}),Object(y.jsx)("span",{className:"dark pt-1 pb-1 pr-2 pl-2",style:{position:"absolute",right:"0%",top:"50%",cursor:"pointer"},onClick:function(t){e.push("/books-create")},children:"x"})]}):Object(y.jsxs)("select",{className:"form-control",name:"subject",autoComplete:"off",onChange:function(t){var a,c=t.target.value,s=h(c.split("_")[0]),n=c.split("_")[1];a="/books-create/".concat(s,"/").concat(n),e.push("".concat(a))},children:[Object(y.jsx)("option",{children:"Select Subject"}),b&&b.map((function(e){return Object(y.jsx)("option",{value:e.subject+"_"+e._id,selected:O&&O.subject_id===e._id?"selected":"",children:e.subject},e._id)}))]})]}),t.subject_name&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"SubSubject Name"}),Object(y.jsxs)("select",{className:"form-control",name:"sub_subject",autoComplete:"off",onChange:function(e){var t=e.target.value,a=h(t.split("_")[0]),c=t.split("_")[1];E(a),I(c),z(!1)},children:[Object(y.jsx)("option",{children:"Select Sub Subject"}),p&&p.map((function(e){var t=e.sub_subject.toLowerCase().trim().replaceAll(" ","-"),a=t+"_"+e._id;return Object(y.jsx)("option",{value:a,selected:O&&O.sub_subject_id==e._id?"selected":"",children:t},e._id)}))]})]})}),Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"Book Name"}),Object(y.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",defaultValue:O&&O.BookName,name:"BookName",onChange:Y})]}),Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"Edition"}),Object(y.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"Edition",defaultValue:O&&O.Edition,onChange:Y})]})]}),Object(y.jsxs)("div",{className:"col-md-4",children:[Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"ISBN13"}),Object(y.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"ISBN13",defaultValue:O&&O.ISBN13,onChange:Y})]}),Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"ISBN10"}),Object(y.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"ISBN10",defaultValue:O&&O.ISBN10,onChange:Y})]}),Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"Author 1"}),Object(y.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"Author1",defaultValue:O&&O.Author1,onChange:Y})]}),Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"Author 2"}),Object(y.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"Author2",defaultValue:O&&O.Author2,onChange:Y})]})]}),Object(y.jsxs)("div",{className:"col-md-4",children:[Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"Author 3"}),Object(y.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",name:"Author3",defaultValue:O&&O.Author3,onChange:Y})]}),Object(y.jsxs)(A.a.Group,{children:[Object(y.jsx)(A.a.Label,{children:"Description"}),Object(y.jsx)("textarea",{type:"text",autoComplete:"off",className:"form-control",name:"Description",defaultValue:O&&O.Description,style:{height:"190px"},onChange:Y})]})]})]}),Object(y.jsx)(A.a.Group,{children:Object(y.jsx)(B.a,{onClick:function(e){return H.apply(this,arguments)},defaultValue:O&&O.Author1,disabled:O&&O._id?"":G,className:"btn dark btn-sm",children:O&&O._id?"Update Book":"Save Book"})})]})})})})]})})})})}},{path:"/books-upload/:subject_name?/:subject_id?",component:le},{path:"/book-chapters/:isbn/:book_name/:book_id",component:function(){Object(o.g)();var e=Object(o.i)(),t=Object(c.useContext)(m.a).state,a=je(),s=a.data,n=a.isLoading,r=a.error,l=Object(c.useState)([]),b=Object(j.a)(l,2),p=b[0],h=b[1],O=Object(c.useState)([]),v=Object(j.a)(O,2),x=v[0],f=v[1],N=Object(c.useState)([]),g=Object(j.a)(N,2),w=g[0],C=g[1],S=Object(c.useState)([]),T=Object(j.a)(S,2),E=T[0],A=T[1],B="";B=k.a;var R={headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.access_token}},q=Object(c.useRef)(),L=Object(c.useRef)(),P=Object(c.useRef)(),F=Object(c.useRef)();Object(c.useEffect)((function(){h(s&&s.chapters),f(s&&s.sections),C(s&&s.excerise),A(s&&s.problems)}),[s,n,e]);var U=function(){var t=Object(u.a)(d.a.mark((function t(a){var c,s,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f([]),C([]),te(""),c=q.current.value,void 0!==L.current){t.next=11;break}return t.next=7,_.a.get("".concat(B,"chapter/only-problem/").concat(e.isbn,"/").concat(c),R);case 7:s=t.sent,A(s.data.problems),t.next=15;break;case 11:return t.next=13,_.a.get("".concat(B,"chapter/section/").concat(e.isbn,"/").concat(c),R);case 13:n=t.sent,f(n.data.sections);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=function(){var t=Object(u.a)(d.a.mark((function t(a){var c,s,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return te(""),c=q.current.value,s=L.current.value,t.next=5,_.a.get("".concat(B,"chapter/exercise/").concat(e.isbn,"/").concat(c,"/").concat(s),R);case 5:n=t.sent,C(n.data.excerise),A(n.data.problems);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=Object(u.a)(d.a.mark((function t(a){var c,s,n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return te(""),c=q.current.value,s=L.current.value,n=P.current.value,t.next=6,_.a.get("".concat(B,"chapter/problem/").concat(e.isbn,"/").concat(c,"/").concat(s,"/").concat(n),R);case 6:r=t.sent,A(r.data.problems);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=Object(c.useState)(!1),Q=Object(j.a)(z,2),V=Q[0],K=Q[1],H=Object(c.useState)([]),Y=Object(j.a)(H,2),J=Y[0],W=Y[1],Z=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K(!0),te(""),W(E.filter((function(e){return e.problem_no===t.target.value})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=Object(c.useState)(""),$=Object(j.a)(X,2),ee=$[0],te=$[1],ae=function(){var t=Object(u.a)(d.a.mark((function t(a){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.get("".concat(B,"chapter/search-question/").concat(e.isbn,"/").concat(a),R);case 2:c=t.sent,W(c.data.problems);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=setTimeout((function(){ee.length>5&&""!=ee&&ae(ee)}),1500);return ee.length>0&&""!=ee?K(!0):(K(!1),te(""),ee&&A(E)),function(){return clearTimeout(e)}}),[ee]),Object(y.jsx)(y.Fragment,{children:t.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Books Chapters"})}),r&&Object(y.jsx)(I.a,{children:r.message}),n&&Object(y.jsx)(D,{}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"col-md-12 row",children:[Object(y.jsxs)("div",{className:"p-0",children:[Object(y.jsx)(i.b,{to:"/books",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})}),Object(y.jsx)("br",{}),Object(y.jsx)(i.b,{to:"/upload-chapters/".concat(e.isbn,"/").concat(e.book_name,"/").concat(e.book_id),className:"btn btn-sm mt-2 dark",children:Object(y.jsx)("span",{className:"fa fa-cloud"})})]}),Object(y.jsxs)("div",{className:"row col-md-10",children:[p&&p.length>0&&Object(y.jsx)("div",{className:"col-md-6 pr-0",children:Object(y.jsx)("select",{className:"form-control",name:"chapter_no",onChange:U,ref:q,children:p&&p.map((function(e){return Object(y.jsxs)("option",{value:e.chapter_no,children:[e.chapter_no," - ",e.chapter_name]},e.chapter_name)}))})}),x&&x.length>0&&Object(y.jsx)("div",{className:"col-md-3 pr-0",children:Object(y.jsx)("select",{className:"form-control",name:"section_no",ref:L,onChange:M,children:x&&x.map((function(e,t){var a=t+1;return Object(y.jsxs)("option",{value:e.section_no,children:["NULL"===e.section_no?"":e.section_no," ",e.section_name]},a)}))})}),w&&w.length>0&&w[0].excerise&&Object(y.jsx)("div",{className:"col-md-3 pr-0",children:Object(y.jsx)("select",{className:"form-control",name:"excerise",ref:P,onChange:G,children:w&&w.map((function(e,t){var a=t+1;return Object(y.jsxs)("option",{value:e.excerise,children:[a," - ",e.excerise]},e.excerise)}))})}),E&&E.length>0&&Object(y.jsx)("div",{className:"col-md-6 pr-0",children:Object(y.jsx)("select",{className:"form-control",name:"excerise",ref:F,onChange:Z,children:E&&E.map((function(e,t){return Object(y.jsxs)("option",{value:e.problem_no,children:[e.problem_no," - ",e.question]},e.problem_no)}))})}),Object(y.jsx)("div",{className:"col-md-6 pr-0",children:Object(y.jsx)("input",{name:"search",className:"form-control",autoComplete:"off",placeholder:"search questions...",value:ee,onChange:function(e){return te(e.target.value)}})})]})]})}),!n&&Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"subject-main-container pl-0 pt-0 pr-0 pb-0",children:[!V&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h3",{className:"mt-0",children:"Question: "}),Object(y.jsx)("div",{className:"clearfix"}),E&&E.map((function(e){return Object(y.jsx)(pe,{problem:e,search:ee},e._id)}))]}),V&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("h3",{children:["Question: ",ee]}),Object(y.jsx)("div",{className:"clearfix"}),J&&J.map((function(e){return Object(y.jsx)(pe,{problem:e,search:ee},e._id)}))]}),s.error&&Object(y.jsxs)("div",{className:"col-md-12 pl-0 text-danger",children:[Object(y.jsx)("strong",{style:{fontSize:"1.2rem"},children:s.message}),Object(y.jsx)(i.b,{to:"/upload-chapters/".concat(e.isbn,"/").concat(e.book_name,"/").concat(e.book_id),children:"Upload Books"})]})]})})]})})})})}},{path:"/upload-chapters/:isbn/:book_name/:book_id",component:function(){var e,t,a,s,n=Object(o.g)(),r=Object(o.i)(),l=(Object(o.i)(),Object(c.useContext)(m.a).state),b=Object(c.useContext)(U.a),p=b.state,h=b.dispatch,N=ue().data,g=Object(ae.useToasts)().addToast,w=new FormData,C=Object(c.useState)(!1),S=Object(j.a)(C,2),T=S[0],E=S[1],R="";R=k.a;var q={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+l.access_token}};function L(){return(L=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=null,w.append("file",V),w.append("book_id",r.book_id),w.append("book_name",r.book_name),w.append("book_isbn",r.isbn),E(!0),G(!0),e.prev=8,!J||void 0!==J.problems){e.next=16;break}return console.log("data created"),e.next=13,_.a.post("".concat(R,"chapter/upload"),w,q);case 13:a=e.sent,e.next=20;break;case 16:return console.log("data Updated"),e.next=19,_.a.post("".concat(R,"chapter/update-chapter-csv"),w,q);case 19:a=e.sent;case 20:console.log(a),h({type:"SET_SUCCESS",payload:a.message}),G(!1),E(!1),n.push("/book-chapters/".concat(r.isbn,"/").concat(r.book_name,"/").concat(r.book_id)),e.next=32;break;case 27:e.prev=27,e.t0=e.catch(8),h({type:"SET_ERROR",payload:e.t0.message}),G(!1),E(!1);case 32:case"end":return e.stop()}}),e,null,[[8,27]])})))).apply(this,arguments)}var D=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("".concat(R,"chapter/download/").concat(t.isbn));case 3:return a=e.sent,e.next=6,x(a.data.books);case 6:return c=e.sent,e.next=9,f(c,t.isbn);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message),h({type:"SET_ERROR",payload:e.t0.messsage});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),P=Object(c.useState)(!0),F=Object(j.a)(P,2),M=F[0],G=F[1],z=Object(c.useState)(null),Q=Object(j.a)(z,2),V=Q[0],K=Q[1];function H(){return(H=Object(u.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,console.log("file onchange ",a),c=a.split(".")[1],console.log(c),"csv"===c?(G(!1),K(t.target.files[0]),w.append("file",t.target.files[0])):(G(!0),h({type:"SET_ERROR",payload:"Only .csv files are allowed"}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){var e=setTimeout((function(){return h({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return h({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[p.error,p.success]);var Y=je(),J=Y.data,W=Y.isLoading,Z=Object(c.useState)([]),X=Object(j.a)(Z,2),$=X[0],ee=X[1],te=Object(c.useState)(!0),ce=Object(j.a)(te,2),se=ce[0],ne=ce[1],re=function(){var e=Object(u.a)(d.a.mark((function e(){var t,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),t=null===r||void 0===r?void 0:r.isbn,e.next=4,_.a.get("https://www.crazyforstudy.com/api/get-book-question.php?accessKey=crazyforstudy&isbn=".concat(t));case 4:(a=e.sent)?((c=null===a||void 0===a?void 0:a.data).forEach((function(e){e.uuid=Object(_e.a)()})),ee(c),E(!1)):ee([]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e;(null===J||void 0===J||null===(e=J.problems)||void 0===e?void 0:e.length)>0&&ne(!1)}),[J,se]);var ie=Object(c.useState)(!1),oe=Object(j.a)(ie,2),le=oe[0],de=oe[1],be=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return de(!0),$.forEach((function(e,t){var a=$[t].chapter_name.split("  ");e.book_isbn=null===r||void 0===r?void 0:r.isbn,""===e.chapter_no&&(e.chapter_no=a[1]),e.book_id=null===r||void 0===r?void 0:r.book_id,e.book_name=null===r||void 0===r?void 0:r.book_name})),e.next=4,_.a.post("".concat(R,"chapter/import-data"),$,q);case 4:201===e.sent.status&&(de(!1),g("Books Data Uploaded successfully",{appearance:"success",autoDismiss:!0}),n.push("/book-chapters/".concat(null===r||void 0===r?void 0:r.isbn,"/").concat(null===r||void 0===r?void 0:r.book_name,"/").concat(null===r||void 0===r?void 0:r.book_id)));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:l.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Upload Chapters"})}),p.error&&Object(y.jsx)(I.a,{children:p.error}),p.success&&Object(y.jsx)(I.a,{children:p.success}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"pl-3 mr-2",children:r.subject_name?Object(y.jsx)(i.b,{to:"/books-upload",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})}):Object(y.jsx)(i.b,{to:"/books",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(y.jsx)("div",{className:"pl-0",children:Object(y.jsx)("button",{className:"btn btn-sm dark",onClick:function(e){return ne(!se)},children:se?"Upload Data Via CSV":"Import Book Questions Via API"})}),!se&&Object(y.jsx)("div",{className:"pl-0 ml-2",children:Object(y.jsx)("a",{href:"/sampledata/chapter_upload-9780131453401.csv",className:"btn btn-sm dark",download:!0,children:"Download Sample File"})})]})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"org-main-area",children:[!se&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"col-md-12 pl-0",style:{textTransform:"capitalize",fontWeight:"bold"},children:[Object(y.jsxs)("span",{children:["ISBN ",r.isbn," \xa0 "]}),Object(y.jsx)("span",{children:v(r.book_name)}),J&&J.book_isbn&&Object(y.jsx)(i.b,{className:"btn btn-sm dark pull-right",to:"/book-chapters/".concat(r.isbn,"/").concat(r.book_name,"/").concat(r.book_id),children:"View Question"})]}),Object(y.jsx)("hr",{className:"mb-1 mt-2"}),Object(y.jsx)("div",{className:"clearfix"}),Object(y.jsxs)("div",{className:"col-md-12 row no-gutter mt-2",children:[!W&&Object(y.jsxs)("div",{className:"col-md-3 pl-0",children:[Object(y.jsx)("p",{children:Object(y.jsx)("b",{children:"Upload Chapters"})}),Object(y.jsx)("hr",{className:"mb-1"}),Object(y.jsxs)(A.a,{method:"POST",encType:"multipart/form-data",children:[Object(y.jsxs)(A.a.Group,{className:"col-md-12 pl-0",children:[Object(y.jsx)(A.a.Label,{children:"Choose .csv format only"}),Object(y.jsx)(A.a.Control,{name:"books",autoComplete:"off",type:"file",accept:".csv,",onChange:function(e){return H.apply(this,arguments)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(y.jsx)(A.a.Group,{className:"col-md-12 pl-0",children:Object(y.jsx)(B.a,{onClick:function(e){return L.apply(this,arguments)},disabled:M,className:"btn dark btn-sm",children:T?"processing...":"Upload Books"})})]})]}),Object(y.jsxs)("div",{className:"col-md-9 pl-0",children:[Object(y.jsx)("p",{children:Object(y.jsxs)("b",{children:["All Chapters Questions ",null===J||void 0===J||null===(e=J.problems)||void 0===e?void 0:e.length," "]})}),Object(y.jsx)("hr",{className:"mb-1"}),!0===(null===J||void 0===J?void 0:J.error)&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(y.jsx)("button",{className:"btn btn-sm dark",children:null===J||void 0===J?void 0:J.message})})}),Object(y.jsxs)("div",{className:"tbl tbl-responsive",children:[Object(y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingRight:"15px",background:"#efefef"},children:[Object(y.jsxs)("div",{style:{fontSize:"0.95rem"},children:[Object(y.jsx)("b",{children:"Question No:"})," "]}),Object(y.jsx)("div",{style:{fontSize:"0.95rem",marginRight:"55px"},children:Object(y.jsx)("b",{children:"Old QID:"})}),Object(y.jsxs)("div",{style:{fontSize:"0.95rem",marginRight:"15px"},children:[Object(y.jsx)("b",{children:" Question"})," "]})]}),Object(y.jsx)("hr",{className:"mb-1 mt-0"}),Object(y.jsx)("div",{style:{height:"180px",minHeight:"180px",overflowY:"scroll",paddingRight:"15px"},children:null===J||void 0===J||null===(t=J.problems)||void 0===t?void 0:t.map((function(e){return Object(y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(y.jsx)("div",{style:{fontSize:"0.95rem"},children:e.problem_no}),Object(y.jsx)("div",{style:{fontSize:"0.95rem"},children:e.old_qid}),Object(y.jsx)("div",{style:{fontSize:"0.95rem",marginRight:"15px"},children:e.question?Object(y.jsx)("b",{children:Object(y.jsx)("span",{style:{color:"green"},children:" Uploaded "})}):Object(y.jsx)("b",{children:Object(y.jsx)("span",{style:{color:"red"},children:" Not Uploaded "})})})]},null===e||void 0===e?void 0:e._id)}))})]}),!1===(null===J||void 0===J?void 0:J.error)&&(null===J||void 0===J||null===(a=J.problems)||void 0===a?void 0:a.length)>0&&""==(null===J||void 0===J||null===(s=J.problems[0])||void 0===s?void 0:s.question)&&Object(y.jsx)(B.a,{className:"btn btn-sm dark mt-2",onClick:D.bind(this,{isbn:r.isbn}),children:"Download Uploaded CSV"})]})]})]}),se&&Object(y.jsxs)("div",{className:"col-md-12 row no-gutter p-0 mt-2",children:[Object(y.jsxs)("div",{className:"col-md-12",children:[Object(y.jsx)("button",{className:"btnb tn-sm dark",onClick:re,children:T?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-spinner mr-2"})," Loading .... "]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-download"})," Import API Data"]})}),(null===$||void 0===$?void 0:$.length)>0&&Object(y.jsxs)("div",{className:"pull-right",children:[Object(y.jsx)("button",{className:"btnb tn-sm ml-2 dark",onClick:be,children:le?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-spinner mr-2"})," Uploading .... "]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-download mr-2"})," Upload ",null===$||void 0===$?void 0:$.length," Questions"]})}),Object(y.jsxs)("button",{className:"btn dark btn-sm ml-2",onClick:function(e){e.preventDefault(),n.push("/books/".concat(null===N||void 0===N?void 0:N.subject_name,"/").concat(null===N||void 0===N?void 0:N.sub_subject_name,"/").concat(null===N||void 0===N?void 0:N.sub_subject_id))},children:[Object(y.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]}),Object(y.jsx)("hr",{}),Object(y.jsx)("div",{className:"col-md-12 table-responsive",children:Object(y.jsxs)("div",{className:"table table-bordered",children:[Object(y.jsxs)("div",{className:"col-md-12 mt-2 pb-2 pt-2",style:{display:"flex",justifyContent:"space-around",borderBottom:"1px solid #000",background:"#efefef"},children:[Object(y.jsx)("div",{className:"col-md-3 text-left",children:"QID"}),Object(y.jsx)("div",{className:"col-md-3 text-left",children:"Problem No"}),Object(y.jsx)("div",{className:"col-md-3 text-left",children:"Chapter Name"}),Object(y.jsx)("div",{className:"col-md-3 text-left",children:"Question"})]}),Object(y.jsx)("div",{className:"col-md-12",style:{height:"400px",overflowX:"hidden",overflowY:"scroll"},children:null===$||void 0===$?void 0:$.map((function(e){return Object(y.jsxs)("div",{className:"col-md-12 mb-2 mt-2 pl-0 pb-2",id:null===e||void 0===e?void 0:e.uuid,style:{display:"flex",justifyContent:"space-around",borderBottom:"1px solid #000"},children:[Object(y.jsx)("div",{className:"col-md-3 text-left",children:(null===e||void 0===e?void 0:e.old_qid)?null===e||void 0===e?void 0:e.old_qid:"No Old Question Id"}),Object(y.jsx)("div",{className:"col-md-3 text-left",children:null===e||void 0===e?void 0:e.problem_no}),Object(y.jsx)("div",{className:"col-md-3 text-left",children:null===e||void 0===e?void 0:e.chapter_name}),Object(y.jsx)("div",{className:"col-md-3 text-left",children:(null===e||void 0===e?void 0:e.question)?Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("span",{children:[O(null===e||void 0===e?void 0:e.question,50),"..."]})}):Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("span",{className:"text-danger",children:"No Question Available"})})})]},null===e||void 0===e?void 0:e.uuid)}))})]})})]})]})})]})})})})}},{path:"/book-chapter-add-question/:q_id",component:function(){var e=Object(o.g)(),t=Object(o.i)(),a=Object(c.useContext)(m.a).state,s=Object(c.useContext)(U.a),n=s.state,r=s.dispatch,l=Object(c.useState)(!1),b=Object(j.a)(l,2),p=b[0],h=b[1],O="";O=k.a;var v={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}},x=Object(c.useState)(!1),f=Object(j.a)(x,2),g=f[0],w=f[1],S=window.URL||window.webkitURL,T=Object(c.useState)(""),E=Object(j.a)(T,2),R=E[0],q=E[1],L=Object(c.useState)({}),D=Object(j.a)(L,2),P=D[0],F=D[1];function M(){return(M=Object(u.a)(d.a.mark((function a(c){var s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),s=null,h(!0),w(!0),a.next=6,_.a.patch("".concat(O,"chapter/add-question/").concat(t.q_id),P,v);case 6:s=a.sent,console.log(s),r({type:"SET_SUCCESS",payload:s.message}),w(!1),h(!1),e.push("/book-chapters/".concat(z&&z.book_isbn,"/").concat(z&&z.book_name,"/").concat(z&&z._id));case 12:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var G=function(){var e=Object(o.i)().q_id,t=Object(c.useContext)(m.a).state,a="";return a=k.a,Object(N.a)("question",Object(u.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.get("".concat(a,"chapter/single-question/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data.results);case 4:case"end":return c.stop()}}),c)}))))}(),z=G.data,Q=G.isLoading;return Object(c.useEffect)((function(){var e=setTimeout((function(){return r({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return r({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[n.error,n.success]),Object(y.jsx)(y.Fragment,{children:a.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Add Question"})}),n.error&&Object(y.jsx)(I.a,{children:n.error}),n.success&&Object(y.jsx)(I.a,{children:n.success}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("div",{className:"col-md-1 pl-3",children:Object(y.jsx)(i.b,{to:"/book-chapters/".concat(z&&z.book_isbn,"/").concat(z&&z.book_name,"/").concat(z&&z._id),className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})})})})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsx)("div",{className:"org-main-area",children:Object(y.jsx)("div",{className:"col-md-12 row no-gutter p-0 mt-2",children:!Q&&Object(y.jsxs)(A.a,{method:"POST",className:"col-md-12 pl-2",encType:"multipart/form-data",children:[Object(y.jsxs)(A.a.Group,{className:"col-md-12",children:[Object(y.jsx)(A.a.Label,{children:"Question"}),Object(y.jsx)(xe.CKEditor,{editor:fe.a,config:{toolbar:{items:["MathType","ChemType","heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","mediaEmbed","insertTable","blockQuote","undo","redo"]}},data:z&&z.question,onChange:function(e,t){var a=t.getData();F(Object(C.a)(Object(C.a)({},P),{},{question:a}))}})]}),Object(y.jsxs)(A.a.Group,{className:"col-md-12",children:[Object(y.jsx)(A.a.Label,{children:"Question Image"}),Object(y.jsx)(A.a.Control,{name:"image",type:"file",onChange:function(e){var t,a,c,s,n;e.preventDefault(),(t=e.target.files[0])&&(a=new Image,s=new Blob([t],{type:t.type}),a.src=S.createObjectURL(s),(n=new FileReader).readAsDataURL(s),n.onload=function(){c=n.result,q(c),F(Object(C.a)(Object(C.a)({},P),{},{image:c}))})}}),Object(y.jsx)("div",{style:{height:"130px",overflow:"hidden",marginTop:"10px"},children:Object(y.jsx)("img",{src:R||z&&z.image})})]}),Object(y.jsxs)(A.a.Group,{className:"col-md-12",children:[Object(y.jsx)(A.a.Label,{children:"Question Answer"}),Object(y.jsx)(xe.CKEditor,{editor:fe.a,config:{toolbar:{items:["MathType","ChemType","heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","mediaEmbed","insertTable","blockQuote","undo","redo"]}},data:z&&z.answer,onChange:function(e,t){var a=t.getData();F(Object(C.a)(Object(C.a)({},P),{},{answer:a}))}})]}),Object(y.jsx)(A.a.Group,{className:"col-md-12",children:Object(y.jsx)(B.a,{onClick:function(e){return M.apply(this,arguments)},disabled:!p&&g,className:"btn dark btn-md",children:p?"processing...":"Update Question"})})]})})})})]})})})})}},{path:"/book-rating-review/:isbn/:book_id/:review_id?",component:function(){var e=Object(o.g)(),t=Object(o.i)(),a=Object(ae.useToasts)().addToast,s=Object(c.useContext)(m.a).state,n=function(){var e=Object(o.i)().book_id,t=Object(c.useContext)(m.a).state,a="";return a=k.a,Object(N.a)(["reviews",e],Object(u.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.get("".concat(a,"books/all-reviews/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data);case 4:case"end":return c.stop()}}),c)}))))}(),r=n.data,l=n.isLoading,b="";b=k.a;var p={headers:{"Content-Type":"application/json",Authorization:"Bearer "+s.access_token}},h=Object(c.useState)({}),O=Object(j.a)(h,2),v=O[0],x=O[1],f=Object(c.useState)(""),g=Object(j.a)(f,2),w=g[0],S=g[1],T=Object(c.useState)(),E=Object(j.a)(T,2),A=E[0],B=E[1],R=Object(c.useState)(!1),q=Object(j.a)(R,2),L=q[0],P=q[1],F=Object(X.b)(),U=Object(c.useRef)(""),M=Object(c.useRef)(""),G=Object(c.useRef)(""),z=Object(c.useState)(!1),Q=Object(j.a)(z,2),V=Q[0],K=Q[1],H=Object($.a)((function(e){return _.a.post("".concat(b,"books/add-review"),e,p)}),{onSuccess:function(){F.invalidateQueries("reviews"),P(!1),U.current.value="",M.current.value="",e.push("/book-rating-review/".concat(t.isbn,"/").concat(t.book_id)),document.getElementById("reviewDiv").scrollTop=0,a("Review added successfully",{appearance:"success",autoDismiss:!0})}}),Y=Object($.a)((function(e){return _.a.post("".concat(b,"books/upload-review"),e,p)}),{onSuccess:function(){F.invalidateQueries("reviews"),P(!1),e.push("/book-rating-review/".concat(t.isbn,"/").concat(t.book_id));var c=document.getElementById("reviewDiv");a("Review Uploaded Successfully",{appearance:"success",autoDismiss:!0}),c.scrollTop=0}}),J=function(){var e=Object(u.a)(d.a.mark((function e(c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),""!==M.current.value){e.next=5;break}return a("Please enter username",{appearance:"error",autoDismiss:!0}),M.current.focus(),e.abrupt("return");case 5:return v.book_id=t.book_id,v.isbn=t.isbn,v.review_id=t.review_id,v.userName=""!==v.userName?M.current.value:v.userName,v.review=""!==v.review?U.current.value:v.review,v.rating=w,v.stats=!0,P(!0),e.next=15,H.mutate(v);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=new FormData,Z=Object(c.useState)(null),ee=Object(j.a)(Z,2),te=ee[0],ce=ee[1];function se(){return(se=Object(u.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.target.files[0].name,"csv"===c.split(".")[1]?(ce(t.target.files[0]),W.append("file",t.target.files[0])):a("Only .csv files are allowed",{appearance:"error",autoDismiss:!0});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=function(){var e=Object(u.a)(d.a.mark((function e(c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),null!==te){e.next=4;break}return a("Please upload csv file. download sample file.",{appearance:"error",autoDismiss:!0}),e.abrupt("return",!1);case 4:return W.append("book_id",t.book_id),W.append("isbn",t.isbn),W.append("upload",V),W.append("stats",!0),W.append("file",te),P(!0),e.next=12,Y.mutate(W);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=setTimeout((function(){return B("")}),1500);return function(){clearTimeout(e)}}),[A]);var re=Object(c.useState)({userName:"",review:""}),ie=Object(j.a)(re,2),oe=ie[0],le=ie[1],de=function(){var e=Object(u.a)(d.a.mark((function e(){var a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r&&r.data,s=c&&c.filter((function(e){return e._id===t.review_id})),le(s&&s[0]),S(s&&(null===(a=s[0])||void 0===a?void 0:a.rating));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)(de,[r,t.review_id]);var ue=(null===t||void 0===t?void 0:t.book_id)?"/book-seo/".concat(t.isbn,"/").concat(t.book_id):"/books";return Object(y.jsx)(y.Fragment,{children:s.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsxs)("h2",{children:["Books Rating and Review - ISBN13: ",null===t||void 0===t?void 0:t.isbn]})}),A&&Object(y.jsx)(I.a,{children:A.message}),l&&Object(y.jsx)(D,{}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"col-md-12 row",children:[Object(y.jsx)("div",{className:"p-0",children:Object(y.jsx)(i.b,{to:ue,className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(y.jsx)("div",{className:"row col-md-10",children:Object(y.jsxs)("div",{className:"col-md-6 pr-0",children:[t&&!t.review_id&&Object(y.jsxs)("button",{className:"btn btn-sm mr-1 dark text-success",onClick:function(e){return K(!V)},children:[Object(y.jsx)("span",{className:"fa fa-cloud"}),"\xa0 Bulk Upload Review"]}),V&&Object(y.jsxs)("a",{className:"btn btn-sm ml-1 dark text-success",href:"/sampledata/bulk_upload_review.csv",download:!0,children:[Object(y.jsx)("span",{className:"fa fa-download"})," \xa0 Download Sample File"]})]})})]})}),!l&&Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsx)("div",{className:"subject-main-container pl-0 pt-0 pr-0 pb-0",children:Object(y.jsxs)("div",{className:"row col-md-12",children:[Object(y.jsxs)("div",{className:"col-md-3",children:[Object(y.jsxs)("h6",{children:[" ",Object(y.jsx)("span",{className:"fa fa-star"})," Manage Reviews"]}),Object(y.jsx)("hr",{}),Object(y.jsxs)("form",{children:[!V&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"userName"}),Object(y.jsx)("input",{ref:M,defaultValue:oe&&oe.userName,onChange:function(e){return x(Object(C.a)(Object(C.a)({},v),{},{userName:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter username"})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Reviews"}),Object(y.jsx)("textarea",{ref:U,className:"form-control",defaultValue:oe&&oe.review,onChange:function(e){return x(Object(C.a)(Object(C.a)({},v),{},{review:e.target.value}))},style:{height:"150px"}})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Rating"}),Object(y.jsx)("br",{}),Object(y.jsx)(he.a,{ref:G,initialRating:oe&&oe.rating,defaultValue:oe&&oe.rating,emptySymbol:"fa fa-star-o fa-2x",fullSymbol:"fa fa-star fa-2x",onChange:function(e){return S(e)}})]})]}),V&&Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Upload"}),Object(y.jsx)("input",{type:"file",accept:".csv,",onChange:function(e){return se.apply(this,arguments)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(y.jsxs)("div",{className:"form-group",children:[!V&&Object(y.jsxs)("button",{className:"btn btn-md text-success block dark",onClick:J,children:[L&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-spinner"})," Processing"]}),!V&&!L&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-save"})," Save Review"]})]}),V&&Object(y.jsxs)("button",{className:"btn btn-md text-success block dark",onClick:ne,children:[L&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-spinner"})," Processing"]}),V&&!L&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-cloud"})," Upload Review"]})]}),t&&t.review_id&&Object(y.jsxs)("button",{className:"btn btn-md pull-right dark text-success",onClick:function(t){return e.push(ue)},children:[" ",Object(y.jsx)("span",{className:"fa fa-times"})," Cancel "]})]})]})]}),Object(y.jsxs)("div",{className:"col-md-8 offset-1",children:[Object(y.jsxs)("h6",{children:[" ",Object(y.jsx)("span",{className:"fa fa-star"}),r&&r.data.length?r&&r.data.length:"All "," Reviews for - ISBN ",Object(y.jsx)("b",{children:t.isbn})]}),Object(y.jsx)("hr",{}),Object(y.jsx)("div",{style:{height:"420px",overflowY:"scroll",paddingRight:"15px"},id:"reviewDiv",children:r&&r.data.map((function(e){return Object(y.jsxs)("div",{className:"subject-card",style:{width:"100%"},children:[Object(y.jsxs)("div",{className:"subject-card-body",children:[Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-star fa-1x mr-2 pt-1"}),"\xa0 Ratings:"]}),Object(y.jsx)("div",{className:"name-main",children:Object(y.jsx)(he.a,{initialRating:e&&e.rating,emptySymbol:"fa fa-star-o text-danger",fullSymbol:"fa fa-star text-success",readonly:!0,className:"displayRating"})})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-calendar fa-1x mr-2 pt-1"}),"\xa0 Review Date:"]}),Object(y.jsx)("div",{className:"name-main",children:e&&e.created_at})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-user fa-1x mr-2 pt-1"}),"\xa0 UserName:"]}),Object(y.jsx)("div",{className:"name-main",children:e&&e.userName})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-comments fa-1x mr-2 pt-1"}),"\xa0 Reviews:"]}),Object(y.jsx)("div",{className:"name-main text-justify",children:e&&e.review.substr(0,60)+"..."})]})]}),Object(y.jsx)("hr",{className:"mt-1 mb-2"}),Object(y.jsx)(Oe,{review:e})]},e._id)}))})]})]})})})]})})})})}},{path:"/book-faq/:isbn/:book_id/:faq_id?",component:function(){var e,t,a,s=Object(o.g)(),n=Object(o.i)(),r=Object(ae.useToasts)().addToast,i=Object(c.useContext)(m.a).state,l=ue().data,b=function(){var e=Object(o.i)().book_id,t=Object(c.useContext)(m.a).state,a="";return a=k.a,Object(N.a)(["faqs",e],Object(u.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.get("".concat(a,"books/all-faqs/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data);case 4:case"end":return c.stop()}}),c)}))))}(),p=b.data,h=b.isLoading,O="";O=k.a;var v={headers:{"Content-Type":"application/json",Authorization:"Bearer "+i.access_token}},x=Object(c.useState)({}),f=Object(j.a)(x,2),g=f[0],w=f[1],S=Object(c.useState)(),T=Object(j.a)(S,2),E=T[0],A=T[1],B=Object(c.useState)(!1),R=Object(j.a)(B,2),q=R[0],L=R[1],P=Object(X.b)(),F=Object(c.useRef)(""),U=Object(c.useRef)(""),M=Object($.a)((function(e){return _.a.post("".concat(O,"books/add-faq"),e,v)}),{onSuccess:function(){P.invalidateQueries("faqs"),L(!1),F.current.value="",U.current.value="",s.push("/book-faq/".concat(n.isbn,"/").concat(n.book_id)),document.getElementById("faqDiv").scrollTop=0,r("FAQ`s added successfully",{appearance:"success",autoDismiss:!0})}}),G=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==F.current.value){e.next=5;break}return r("Please enter question",{appearance:"error",autoDismiss:!0}),F.current.focus(),e.abrupt("return");case 5:return g.book_id=n.book_id,g.isbn=n.isbn,g.faq_id=n.faq_id,g.question=""!==g.question?F.current.value:g.question,g.answer=""!==g.answer?U.current.value:g.answer,g.stats=!0,L(!0),e.next=14,M.mutate(g);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=setTimeout((function(){return A("")}),1500);return function(){clearTimeout(e)}}),[E]);var z=Object(c.useState)({question:"",answer:""}),Q=Object(j.a)(z,2),V=Q[0],K=Q[1];function H(){return(H=Object(u.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null===p||void 0===p?void 0:p.data,a=null===t||void 0===t?void 0:t.filter((function(e){return(null===e||void 0===e?void 0:e._id)===(null===n||void 0===n?void 0:n.faq_id)})),K(a&&a[0]),e.abrupt("return",V);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){return H.apply(this,arguments)}),[p]);var Y=(null===n||void 0===n?void 0:n.faq_id)?"/book-faq/".concat(null===l||void 0===l?void 0:l.subject_name,"/").concat(null===l||void 0===l?void 0:l.sub_subject_name,"/").concat(null===l||void 0===l?void 0:l.sub_subject_id):"/book-seo/".concat(null===n||void 0===n?void 0:n.isbn,"/").concat(null===n||void 0===n?void 0:n.book_id);return Object(y.jsx)(y.Fragment,{children:i.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsxs)("h2",{children:["Books Frquently Asked Question - ISBN13: ",null===n||void 0===n?void 0:n.isbn]})}),E&&Object(y.jsx)(I.a,{children:E.message}),h&&Object(y.jsx)(D,{}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsx)("div",{className:"col-md-12 row",children:Object(y.jsx)("div",{className:"p-0",children:Object(y.jsx)(Ne,{})})})}),!h&&Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsx)("div",{className:"subject-main-container pl-0 pt-0 pr-0 pb-0",children:Object(y.jsxs)("div",{className:"row col-md-12",children:[Object(y.jsxs)("div",{className:"col-md-4",children:[Object(y.jsxs)("h6",{children:[" ",Object(y.jsx)("span",{className:"fa fa-star"})," Manage Faq`s"]}),Object(y.jsx)("hr",{}),Object(y.jsxs)("form",{children:[Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Question"}),Object(y.jsx)("input",{ref:F,defaultValue:null===V||void 0===V?void 0:V.question,onChange:function(e){return w(Object(C.a)(Object(C.a)({},g),{},{question:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter question"})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Answers"}),Object(y.jsx)(xe.CKEditor,{editor:fe.a,config:{toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","mediaEmbed","insertTable","blockQuote","undo","redo"]}},data:(null===V||void 0===V?void 0:V.answer)?null===V||void 0===V?void 0:V.answer:"Enter Answer",onChange:function(e,t){var a=t.getData();w(Object(C.a)(Object(C.a)({},g),{},{answer:a}))}})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("button",{className:"btn btn-md text-success block dark",onClick:G,children:q?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-spinner"})," Processing"]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-save"})," Save FAQ"]})}),n&&n.faq_id&&Object(y.jsxs)("button",{className:"btn btn-md pull-right dark text-success",onClick:function(e){return s.push(Y)},children:[" ",Object(y.jsx)("span",{className:"fa fa-times"})," Cancel "]})]})]})]}),Object(y.jsxs)("div",{className:"col-md-7 offset-1",children:[Object(y.jsxs)("h6",{children:[" ",Object(y.jsx)("span",{className:"fa fa-star"}),(null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.length)?null===p||void 0===p||null===(t=p.data)||void 0===t?void 0:t.length:"All "," FAQ`s for - ISBN ",Object(y.jsx)("b",{children:null===n||void 0===n?void 0:n.isbn})]}),Object(y.jsx)("hr",{}),Object(y.jsx)("div",{style:{height:"420px",overflowY:"scroll",paddingRight:"15px"},id:"faqDiv",children:null===p||void 0===p||null===(a=p.data)||void 0===a?void 0:a.map((function(e){var t;return Object(y.jsxs)("div",{className:"subject-card",style:{width:"100%"},children:[Object(y.jsxs)("div",{className:"subject-card-body",children:[Object(y.jsxs)("div",{className:"",children:[Object(y.jsxs)("div",{className:"",children:[Object(y.jsx)("span",{className:"fa fa-user fa-1x mr-2 pt-1"}),"\xa0 Question:"]}),Object(y.jsx)("div",{className:"text-danger",children:null===e||void 0===e?void 0:e.question})]}),Object(y.jsx)("hr",{className:"mb-1 mt-1"}),Object(y.jsxs)("div",{className:"",children:[Object(y.jsxs)("div",{className:"",children:[Object(y.jsx)("span",{className:"fa fa-comments fa-1x mr-2 pt-1"}),"\xa0 Answer:"]}),Object(y.jsx)("div",{className:"clearfix"}),Object(y.jsx)("div",{className:"text-justify text-info",children:(null===e||void 0===e||null===(t=e.answer)||void 0===t?void 0:t.substr(0,80))+"..."})]})]}),Object(y.jsx)("hr",{className:"mt-1 mb-2"}),Object(y.jsx)(ve,{faq:e})]},e._id)}))})]})]})})})]})})})})}},{path:"/book-seo/:isbn/:book_id?/:seo_id?",component:function(){var e=Object(o.g)(),t=Object(o.i)(),a=Object(ae.useToasts)().addToast,s=Object(c.useContext)(m.a).state,n=ue().data,r=function(){var e=Object(o.i)().isbn,t=Object(c.useContext)(m.a).state,a="";return a=k.a,Object(N.a)(["booksQuestions",e],Object(u.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.get("".concat(a,"books/total-questions/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data);case 4:case"end":return c.stop()}}),c)}))))}().data,i=ge(),l=i.data,b=i.isLoading,p="";p=k.a;var O={headers:{"Content-Type":"application/json",Authorization:"Bearer "+s.access_token}},v=Object(c.useState)({}),x=Object(j.a)(v,2),f=x[0],g=x[1],w=Object(c.useState)(),S=Object(j.a)(w,2),T=S[0],E=S[1],A=Object(c.useState)(!1),B=Object(j.a)(A,2),R=B[0],q=B[1],L=Object(X.b)(),P=Object(c.useRef)(""),F=Object(c.useRef)(""),U=Object(c.useRef)(""),M=Object(c.useRef)(""),G=Object(c.useRef)(""),z=Object(c.useRef)(""),Q=Object(c.useRef)(""),V=Object(c.useRef)(""),K=Object(c.useRef)(""),H=Object(c.useRef)(""),Y=Object(c.useRef)(""),J=Object($.a)((function(e){return _.a.post("".concat(p,"books/add-seo"),e,O)}),{onSuccess:function(){L.invalidateQueries("faqs"),q(!1),e.push("/book-seo/".concat(t.isbn,"/").concat(t.book_id)),a("FAQ`s added successfully",{appearance:"success",autoDismiss:!0})}}),W=function(){var e=Object(u.a)(d.a.mark((function e(c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),""!==F.current.value){e.next=5;break}return a("Please enter question",{appearance:"error",autoDismiss:!0}),U.current.focus(),e.abrupt("return");case 5:return f.book_id=t.book_id,f.isbn=t.isbn,f.MetaTitle=""!==f.MetaTitle?F.current.value:f.MetaTitle,f.MetaDescription=""!==f.MetaDescription?U.current.value:f.MetaDescription,f.MetaKeywords=""!==f.MetaKeywords?M.current.value:f.MetaKeywords,f.urls=""!==f.urls?P.current.value:f.urls,f.NoIndex=""!==f.NoIndex?G.current.value:f.NoIndex,f.DisplayTitle=""!==f.DisplayTitle?z.current.value:f.DisplayTitle,f.Author2=""!==f.Author2?Q.current.value:f.Author2,f.AltImage=""!==f.AltImage?K.current.value:f.AltImage,f.similarHeading=H.current.value,f.faqHeading=Y.current.value,f.status=!0,q(!0),console.log(f),e.next=22,J.mutate(f);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=setTimeout((function(){return E("")}),1500);return function(){clearTimeout(e)}}),[T]),console.log(n);var Z=""===(null===l||void 0===l?void 0:l.urls)?null===l||void 0===l?void 0:l.urls:h(null===n||void 0===n?void 0:n.BookName),ee="isbn-".concat(t.isbn,"-").concat(Z,"-").concat(h(null===n||void 0===n?void 0:n.Edition)),te=(null===t||void 0===t||t.faq_id,"/books/".concat(null===n||void 0===n?void 0:n.subject_name,"/").concat(null===n||void 0===n?void 0:n.sub_subject_name,"/").concat(null===n||void 0===n?void 0:n.sub_subject_id));return Object(y.jsx)(y.Fragment,{children:s.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsxs)("h2",{children:["Book Landing Page SEO - ISBN13: ",null===t||void 0===t?void 0:t.isbn]})}),T&&Object(y.jsx)(I.a,{children:T.message}),b&&Object(y.jsx)(D,{}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsx)("div",{className:"col-md-12 row",children:Object(y.jsx)(Ne,{})})}),!b&&Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsx)("div",{className:"pl-0 pt-0 pr-0 pb-0",children:Object(y.jsxs)("form",{children:[Object(y.jsxs)("div",{className:"row col-md-12",children:[Object(y.jsxs)("div",{className:"col-md-6",children:[Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"urls"}),Object(y.jsx)("badge",{className:"badge badge-success pull-right",children:null===r||void 0===r?void 0:r.count}),Object(y.jsx)("input",{ref:P,readonly:!0,defaultValue:ee,onChange:function(e){return g(Object(C.a)(Object(C.a)({},f),{},{urls:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter urls"}),Object(y.jsx)("badge",{className:"badge btn-block text-left badge-success pull-right mt-1",style:{fontStyle:"normal"},children:null===l||void 0===l?void 0:l.urls})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Meta Title"}),Object(y.jsx)("input",{ref:F,defaultValue:null===l||void 0===l?void 0:l.MetaTitle,onChange:function(e){return g(Object(C.a)(Object(C.a)({},f),{},{MetaTitle:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter MetaTitle"})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Meta Keywords"}),Object(y.jsx)("input",{ref:M,defaultValue:null===l||void 0===l?void 0:l.MetaKeywords,onChange:function(e){return g(Object(C.a)(Object(C.a)({},f),{},{MetaKeywords:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter MetaKeywords"})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Meta Description"}),Object(y.jsx)("input",{ref:U,defaultValue:null===l||void 0===l?void 0:l.MetaDescription,onChange:function(e){return g(Object(C.a)(Object(C.a)({},f),{},{MetaDescription:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter MetaDescription"})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"No Index"}),Object(y.jsxs)("select",{className:"form-control",ref:G,onChange:function(e){return g(Object(C.a)(Object(C.a)({},f),{},{NoIndex:e.target.value}))},children:[Object(y.jsx)("option",{value:"noindex",selected:0===(null===r||void 0===r?void 0:r.count)?"selected":"",children:"No Index"}),Object(y.jsx)("option",{value:"index",selected:(null===r||void 0===r?void 0:r.count)>0?"selected":"",children:"Index"})]})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Author 2"}),Object(y.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",ref:Q,defaultValue:null===l||void 0===l?void 0:l.Author2,placeholder:"Enter Author Name",onChange:function(e){return g(Object(C.a)(Object(C.a)({},f),{},{Author2:e.target.value}))}})]})]}),Object(y.jsxs)("div",{className:"col-md-6",children:[Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Similar Books Heading"}),Object(y.jsx)("input",{ref:H,defaultValue:null===l||void 0===l?void 0:l.similarHeading,onChange:function(e){return g(Object(C.a)(Object(C.a)({},f),{},{similarHeading:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter Similar Books Heading"})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"FAQ Books Heading"}),Object(y.jsx)("input",{ref:Y,defaultValue:null===l||void 0===l?void 0:l.faqHeading,onChange:function(e){return g(Object(C.a)(Object(C.a)({},f),{},{faqHeading:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter Similar Books Heading"})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Display Title"}),Object(y.jsx)("input",{ref:z,defaultValue:null===l||void 0===l?void 0:l.DisplayTitle,onChange:function(e){return g(Object(C.a)(Object(C.a)({},f),{},{DisplayTitle:e.target.value}))},className:"form-control",autoComplete:"off",placeholder:"Enter DisplayTitle"})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Alt Image"}),Object(y.jsx)("input",{type:"text",autoComplete:"off",className:"form-control",ref:K,defaultValue:null===l||void 0===l?void 0:l.AltImage,placeholder:"Enter Alt Image Name",onChange:function(e){return g(Object(C.a)(Object(C.a)({},f),{},{AltImage:e.target.value}))}})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Description"}),Object(y.jsx)(xe.CKEditor,{editor:fe.a,config:{toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","insertTable","blockQuote","undo","redo"]}},ref:V,data:(null===l||void 0===l?void 0:l.Description)?null===l||void 0===l?void 0:l.Description:"Enter Answer",onChange:function(e,t){var a=t.getData();g(Object(C.a)(Object(C.a)({},f),{},{Description:a}))}})]})]})]}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{className:"form-group col-md-6",children:[Object(y.jsx)("button",{className:"btn btn-md text-success block dark",onClick:W,children:R?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-spinner"})," Processing"]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-save"})," Save SEO"]})}),t&&t.book_id&&Object(y.jsxs)("button",{className:"btn btn-md pull-right dark text-success",onClick:function(t){return e.push(te)},children:[" ",Object(y.jsx)("span",{className:"fa fa-times"})," Cancel "]})]})]})})})]})})})})}},{path:"/books-bartleby/:isbn?/:section_id?/:question_id?",component:function(){var e,t=Object(o.g)(),a=Object(o.i)(),s=(Object(o.h)(),Object(ae.useToasts)().addToast),n=Object(c.useContext)(m.a).state,r=function(){var e=Object(o.i)().isbn,t=Object(c.useContext)(m.a).state,a="";return a=k.a,Object(N.a)(["books",e],Object(u.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.get("".concat(a,"books/search/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data.data);case 4:case"end":return c.stop()}}),c)}))))}().data,l=function(){var e=Object(o.i)().isbn,t=Object(c.useContext)(m.a).state,a="";return a=k.a,Object(N.a)("chapters-bartelby",Object(u.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.get("".concat(a,"chapter/bartelby-chapters/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data);case 4:case"end":return c.stop()}}),c)}))))}().data,b=Object(c.useState)(""),p=Object(j.a)(b,2),h=(p[0],p[1]),O=Object(c.useState)([]),v=Object(j.a)(O,2),x=v[0],f=v[1],g="";g=k.a;var w={headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.access_token}},C=Object(X.b)();function S(){return(S=Object(u.a)(d.a.mark((function e(){var t,c,s,n,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||!1!==(null===(t=r[0])||void 0===t?void 0:t.bartlyby_imported)){e.next=9;break}return e.next=3,_.a.get("https://www.crazyforstudy.com/api/chapters.php?isbn=".concat(null===a||void 0===a?void 0:a.isbn));case 3:return n=e.sent,i=null===n||void 0===n||null===(c=n.data)||void 0===c||null===(s=c.data)||void 0===s?void 0:s.bookSections,o=[],null===i||void 0===i||i.map((function(e){o.push({book_isbn:null===a||void 0===a?void 0:a.isbn,section_id:null===e||void 0===e?void 0:e.bookSectionId,chapter_no:null===e||void 0===e?void 0:e.sequenceText,chapter_name:null===e||void 0===e?void 0:e.title})})),e.next=9,T.mutate({bartley:o,book_isbn:null===a||void 0===a?void 0:a.isbn});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){return S.apply(this,arguments)}),[a,r]);var T=Object($.a)((function(e){return _.a.post("".concat(g,"chapter/bartley-chapters"),e,w)}),{onSuccess:function(){C.invalidateQueries("chapters-bartelby")}}),E=Object(c.useState)(!1),A=Object(j.a)(E,2),B=A[0],R=A[1],q=Object($.a)((function(e){return _.a.post("".concat(g,"chapter/bartelby-update-chapters"),e,w)}),{onSuccess:function(){var e;C.invalidateQueries("chapters-bartelby"),t.push("/books-bartleby/".concat(a.isbn,"/").concat(null===l||void 0===l||null===(e=l.data[1])||void 0===e?void 0:e.section_id)),s("Question Imported",{appearance:"success",autoDismiss:!0})}}),L=Object(c.useState)({}),I=Object(j.a)(L,1)[0];function D(){return(D=Object(u.a)(d.a.mark((function e(){var t,c,n,r,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===a||void 0===a?void 0:a.section_id)){e.next=13;break}return R(!0),e.next=4,_.a.get("https://nk6xemh85d.execute-api.us-east-1.amazonaws.com/prod/solution/".concat(null===a||void 0===a?void 0:a.isbn,"/section-questions/").concat(null===a||void 0===a?void 0:a.section_id));case 4:return r=e.sent,null===(i=null===r||void 0===r||null===(t=r.data)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.questions)||void 0===i||i.map(function(){var e=Object(u.a)(d.a.mark((function e(t){var c,s,n,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("https://nk6xemh85d.execute-api.us-east-1.amazonaws.com/prod/solution/".concat(null===t||void 0===t?void 0:t.solutionId,"/").concat(null===a||void 0===a?void 0:a.isbn));case 2:r=e.sent,i=null===r||void 0===r||null===(c=r.data)||void 0===c||null===(s=c.data)||void 0===s||null===(n=s.solutionJson)||void 0===n?void 0:n.solutionSections,f((function(e){return[].concat(Object(ie.a)(e),[{uuid:Object(_e.a)(),problem_no:null===t||void 0===t?void 0:t.questionTitle,question:null===t||void 0===t?void 0:t.questionText,answer:i}])}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.filter((function(e){return(null===e||void 0===e?void 0:e.section_id)===(null===a||void 0===a?void 0:a.section_id)}));case 9:o=e.sent,M(o&&o[0]),e.next=14;break;case 13:s("Please select chapters",{appearance:"error",autoDismiss:!0});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=Object(c.useState)({}),F=Object(j.a)(P,2),U=F[0],M=F[1],G=Object(c.useState)(!1),z=Object(j.a)(G,2),Q=z[0],V=z[1],K=Object($.a)((function(e){return _.a.post("".concat(g,"chapter/import-data"),e,w)}),{onSuccess:function(){C.invalidateQueries("chapters-bartelby"),f([]),R(!1),V(!1),s("Question Uploaded",{appearance:"success",autoDismiss:!0})}});function H(){return(H=Object(u.a)(d.a.mark((function e(){var t,c,s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),s=r&&(null===(t=r[0])||void 0===t?void 0:t._id),n=r&&(null===(c=r[0])||void 0===c?void 0:c.BookName),x.map((function(e){e.old_qid=null===e||void 0===e?void 0:e.uuid,e.book_id=s,e.book_name=n,e.book_isbn=null===a||void 0===a?void 0:a.isbn,e.chapter_no=null===U||void 0===U?void 0:U.chapter_no,e.chapter_name=null===U||void 0===U?void 0:U.chapter_name,e.answer=JSON.stringify(null===e||void 0===e?void 0:e.answer)})),e.next=6,K.mutate(x);case 6:return I.book_isbn=null===a||void 0===a?void 0:a.isbn,I.section_id=null===a||void 0===a?void 0:a.section_id,e.next=10,q.mutate(I);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsx)(y.Fragment,{children:n.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsxs)("h2",{children:["Bartleby  Text Books Solution Manuals - ISBN: ",null===a||void 0===a?void 0:a.isbn]})}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"col-md-12 row",children:[Object(y.jsx)("div",{className:"p-0 ",children:Object(y.jsx)(i.b,{to:"/books",className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(y.jsx)("div",{className:"col-md-8",children:Object(y.jsxs)("select",{className:"form-control",value:null===a||void 0===a?void 0:a.section_id,id:null===a||void 0===a?void 0:a.section_id,onChange:function(e){var c=e.target.value;R(!1),f([]),"_"===c?t.push("/books-bartleby/".concat(null===a||void 0===a?void 0:a.isbn)):(h(c),t.push("/books-bartleby/".concat(null===a||void 0===a?void 0:a.isbn,"/").concat(c)))},children:[Object(y.jsx)("option",{value:"_",children:"Select Chapters"}),null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.map((function(e){return Object(y.jsxs)("option",{value:null===e||void 0===e?void 0:e.section_id,children:["Chapter ",null===e||void 0===e?void 0:e.chapter_no," - ",null===e||void 0===e?void 0:e.chapter_name]},null===e||void 0===e?void 0:e.section_id)}))]})}),Object(y.jsxs)("div",{className:"col-md-3",children:[Object(y.jsx)("button",{className:"btn btn-md dark",onClick:function(){return D.apply(this,arguments)},disabled:B,title:"Import Question",children:B?Object(y.jsx)("div",{class:"spinner-border",style:{width:"16px",height:"16px"},role:"status",children:Object(y.jsx)("span",{class:"sr-only",children:"Loading..."})}):Object(y.jsx)("span",{className:"fa fa-download"})}),(null===x||void 0===x?void 0:x.length)>0&&Object(y.jsx)("button",{className:"btn btn-md dark ml-2",onClick:function(){return H.apply(this,arguments)},children:Q?Object(y.jsx)("div",{class:"spinner-border",style:{width:"16px",height:"16px"},role:"status",children:Object(y.jsx)("span",{class:"sr-only",children:"Loading..."})}):Object(y.jsx)("span",{className:"fa fa-upload"})})]})]})}),Object(y.jsx)("div",{className:"dash-cont-start",style:{height:"90vh"},children:Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-2",children:[Object(y.jsxs)("div",{className:"col-md-12 bb-1 p-2",style:{display:"flex",flexContent:"space-between",background:"#ededed"},children:[Object(y.jsx)("div",{style:{width:"10%"},children:" Problem No"}),Object(y.jsx)("div",{style:{width:"70%"},children:" Question"}),Object(y.jsx)("div",{style:{width:"20%"},children:" Available Answer"})]}),Object(y.jsx)("div",{className:"col-md-12 pl-0 bb-1 pr-0 mb-2",style:{height:"450px",overflow:"scroll"},children:null===x||void 0===x?void 0:x.map((function(e){var t;return Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-0 mt-2 mb-2 pb-2 bb-1",style:{display:"flex",flexContent:"space-between"},children:[Object(y.jsx)("div",{style:{width:"10%"},children:null===e||void 0===e?void 0:e.problem_no}),Object(y.jsx)("div",{style:{width:"70%"},children:null===e||void 0===e?void 0:e.question}),Object(y.jsx)("div",{style:{width:"20%"},children:(null===e||void 0===e||null===(t=e.answer)||void 0===t?void 0:t.length)>0?Object(y.jsx)("span",{className:"badge-success p-1",children:" Available "}):Object(y.jsx)("span",{className:"badge-danger p-1",children:" Not Available "})})]},null===e||void 0===e?void 0:e.uuid)}))})]})})]})})})})}},{path:"/book-similar-books/:isbn/:book_id?",component:function(){var e=this,t=Object(o.g)(),a=Object(o.i)(),s=Object(ae.useToasts)().addToast,n=Object(c.useContext)(m.a).state,r=ue().data,i=function(e){Object(o.i)();var t=Object(c.useContext)(m.a).state,a="";return a=k.a,Object(N.a)(["allbooks",e],Object(u.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.get("".concat(a,"books/all-books/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data.data);case 4:case"end":return c.stop()}}),c)}))))}(null===r||void 0===r?void 0:r.sub_subject_name).data,l=function(){var e=Object(o.i)(),t=null===e||void 0===e?void 0:e.book_id,a=Object(c.useContext)(m.a).state,s="";return s=k.a,Object(N.a)(["similarbooks",t],Object(u.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(s,"books/similar-books/").concat(t),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+a.access_token}});case 2:return c=e.sent,e.abrupt("return",c.data.data.similarBooks);case 4:case"end":return e.stop()}}),e)}))))}().data,b=ge(),p=(b.data,b.isLoading),h="";h=k.a;var v={headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.access_token}},x=Object(c.useState)(),f=Object(j.a)(x,2),g=f[0],w=(f[1],Object(c.useState)(!1)),C=Object(j.a)(w,2),S=(C[0],C[1]),T=Object(X.b)(),E=Object($.a)((function(e){return _.a.post("".concat(h,"books/add-similar-books"),e,v)}),{onSuccess:function(){T.invalidateQueries("similarbooks"),S(!1),t.push("/book-similar-books/".concat(a.isbn,"/").concat(a.book_id)),R([]),F([]),Y([]),Q(!1),s("Similar Book`s added successfully",{appearance:"success",autoDismiss:!0})}}),A=Object(c.useState)([]),B=Object(j.a)(A,2),R=(B[0],B[1]),q=Object(c.useState)([]),L=Object(j.a)(q,2),P=L[0],F=L[1],U=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!1),e.next=3,i.filter((function(e){return e._id===t}));case 3:a=e.sent,F([a[0]]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=Object(c.useState)(!1),G=Object(j.a)(M,2),z=G[0],Q=G[1],V=Object(c.useState)([]),K=Object(j.a)(V,2),H=K[0],Y=K[1],J=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),e.next=3,l.filter((function(e){return e._id===t}));case 3:a=e.sent,Y(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(u.a)(d.a.mark((function e(t,c,s){var n,r,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t,""!==(r=document.getElementById("display-title-".concat(n)).value)&&(document.getElementById("DisplayTitle-".concat(n)).innerHTML=r,document.getElementById("display-title-".concat(n)).value="",(i=[]).push({ISBN13:c,BookId:t,Edition:s,DisplayTitle:r,AltImage:r}),o={similarBooks:i,book_id:null===a||void 0===a?void 0:a.book_id,book_isbn:null===a||void 0===a?void 0:a.isbn},setTimeout(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.mutate(o);case 2:document.getElementById(n).style.display="none";case 3:case"end":return e.stop()}}),e)}))),1e3));case 3:case"end":return e.stop()}}),e)})));return function(t,a,c){return e.apply(this,arguments)}}(),ee=function(){var e=Object(u.a)(d.a.mark((function e(t,c,s,n){var r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==(r=document.getElementById("display-title-".concat(t)).value)&&(document.getElementById("DisplayTitle-".concat(t)).innerHTML=r,document.getElementById("Title-".concat(t)).innerHTML=r,document.getElementById("display-title-".concat(t)).value="",i={similarBooks:{DisplayTitle:r,AltImage:r},id:t,book_id:null===a||void 0===a?void 0:a.book_id,book_isbn:null===a||void 0===a?void 0:a.isbn},setTimeout(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.mutate(i);case 2:case"end":return e.stop()}}),e)}))),1e3));case 2:case"end":return e.stop()}}),e)})));return function(t,a,c,s){return e.apply(this,arguments)}}();return(null===a||void 0===a?void 0:a.book_id)?"/book-similar-books/".concat(null===a||void 0===a?void 0:a.isbn,"/").concat(null===a||void 0===a?void 0:a.book_id):"/books/".concat(null===r||void 0===r?void 0:r.subject_name,"/").concat(null===r||void 0===r?void 0:r.sub_subject_name,"/").concat(null===r||void 0===r?void 0:r.sub_subject_id),Object(y.jsx)(y.Fragment,{children:n.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsxs)("h2",{children:["Similar Books - ISBN13: ",null===a||void 0===a?void 0:a.isbn]})}),g&&Object(y.jsx)(I.a,{children:g.message}),p&&Object(y.jsx)(D,{}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsx)("div",{className:"col-md-12 row",children:Object(y.jsx)(Ne,{})})}),!p&&Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsx)("div",{className:"pl-0 pt-0 pr-0 pb-0",children:Object(y.jsx)("form",{children:Object(y.jsxs)("div",{className:"row col-md-12 pl-0 pr-0",children:[Object(y.jsxs)("div",{className:"col-md-4 pr-0",children:[Object(y.jsx)("p",{children:Object(y.jsx)("b",{children:" All Books"})}),Object(y.jsx)("hr",{className:"mt-1 mb-2"}),Object(y.jsx)("div",{className:"col-md-12 pl-0",style:{height:"450px",overflowY:"scroll"},children:null===i||void 0===i?void 0:i.map((function(t){return Object(y.jsx)("div",{className:"card mb-1",style:{cursor:"pointer"},id:null===t||void 0===t?void 0:t._id,onClick:U.bind(e,null===t||void 0===t?void 0:t._id),children:Object(y.jsxs)("div",{className:"row col-md-12",children:[Object(y.jsx)("div",{className:"col-md-3 p-1",children:Object(y.jsx)(Z,{isbn:null===t||void 0===t?void 0:t.ISBN13,width:"100%"})}),Object(y.jsxs)("div",{className:"col-md-9 pl-1",children:[Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(y.jsx)("b",{children:"Title:  "}),O(null===t||void 0===t?void 0:t.BookName,50)]}),Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(y.jsx)("b",{children:"ISBN13:  "}),null===t||void 0===t?void 0:t.ISBN13]}),Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(y.jsx)("b",{children:"Edition:  "}),null===t||void 0===t?void 0:t.Edition]})]})]})},null===t||void 0===t?void 0:t._id)}))})]}),!z&&P.length>0&&Object(y.jsxs)("div",{className:"col-md-4 pl-1 pr-0",children:[Object(y.jsx)("p",{children:"Selected Books: "}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsx)("div",{className:"col-md-12 pr-0 pl-0",style:{height:"450px",overflowY:"scroll"},children:null===P||void 0===P?void 0:P.map((function(t){return Object(y.jsxs)("div",{className:"card mb-1",style:{cursor:"pointer"},children:[Object(y.jsxs)("div",{className:"row col-md-12",children:[Object(y.jsx)("div",{className:"col-md-3 p-1",children:Object(y.jsx)(Z,{isbn:null===t||void 0===t?void 0:t.ISBN13,width:"100%"})}),Object(y.jsxs)("div",{className:"col-md-9 pl-1 pr-0",children:[Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(y.jsx)("b",{children:"Title:  "}),Object(y.jsx)("span",{id:"Title-".concat(null===t||void 0===t?void 0:t._id),children:null===t||void 0===t?void 0:t.BookName})]}),Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(y.jsx)("b",{children:"ISBN13:  "}),null===t||void 0===t?void 0:t.ISBN13]}),Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(y.jsx)("b",{children:"Edition:  "}),null===t||void 0===t?void 0:t.Edition]}),Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(y.jsx)("b",{children:"Display Title:  "}),Object(y.jsx)("span",{id:"DisplayTitle-".concat(null===t||void 0===t?void 0:t._id),children:null===t||void 0===t?void 0:t.DisplayTitle})]})]})]}),Object(y.jsx)("hr",{className:"mt-2 mb-2"}),Object(y.jsxs)("div",{className:"row col-md-12 pr-0",style:{display:"flex",flexDirection:"space-between"},children:[Object(y.jsx)("div",{className:"col-md-10 pl-0 pr-0",children:Object(y.jsx)("input",{type:"text",id:"display-title-".concat(null===t||void 0===t?void 0:t._id),autoComplete:"off",className:"form-control",placeholder:"enter display title"})}),Object(y.jsxs)("div",{className:"col-md-2 pr-0",style:{display:"flex",flexDirection:"space-between"},children:[Object(y.jsx)("button",{type:"button",onClick:W.bind(e,null===t||void 0===t?void 0:t._id,null===t||void 0===t?void 0:t.ISBN13,null===t||void 0===t?void 0:t.Edition),className:"fa fa-save dark btn btn-sm"}),Object(y.jsx)("button",{type:"button",onClick:function(e){R([]),F([]),Q(!1)},className:"fa fa-times dark btn btn-sm ml-1"})]})]})]},null===t||void 0===t?void 0:t._id)}))})]}),z&&Object(y.jsxs)("div",{className:"col-md-4 pl-1 pr-0",children:[Object(y.jsx)("p",{children:"Update Books: "}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsx)("div",{className:"col-md-12 pr-0 pl-0",style:{height:"450px",overflowY:"scroll"},children:null===H||void 0===H?void 0:H.map((function(t){return Object(y.jsxs)("div",{className:"card mb-1",style:{cursor:"pointer"},children:[Object(y.jsxs)("div",{className:"row col-md-12",children:[Object(y.jsx)("div",{className:"col-md-3 p-1",children:Object(y.jsx)(Z,{isbn:null===t||void 0===t?void 0:t.ISBN13,width:"100%"})}),Object(y.jsxs)("div",{className:"col-md-9 pl-1 pr-0",children:[Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(y.jsx)("b",{children:"Title:  "}),Object(y.jsx)("span",{id:"Title-".concat(null===t||void 0===t?void 0:t._id),children:null===t||void 0===t?void 0:t.DisplayTitle})]}),Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(y.jsx)("b",{children:"ISBN13:  "}),null===t||void 0===t?void 0:t.ISBN13]}),Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(y.jsx)("b",{children:"Edition:  "}),null===t||void 0===t?void 0:t.Edition]}),Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(y.jsx)("b",{children:"Display Title:  "}),Object(y.jsx)("span",{id:"DisplayTitle-".concat(null===t||void 0===t?void 0:t._id),children:null===t||void 0===t?void 0:t.DisplayTitle})]})]})]}),Object(y.jsx)("hr",{className:"mt-2 mb-2"}),Object(y.jsxs)("div",{className:"row col-md-12 pr-0",style:{display:"flex",flexDirection:"space-between"},children:[Object(y.jsx)("div",{className:"col-md-10 pl-0 pr-0",children:Object(y.jsx)("input",{type:"text",id:"display-title-".concat(null===t||void 0===t?void 0:t._id),autoComplete:"off",className:"form-control",placeholder:"enter display title"})}),Object(y.jsxs)("div",{className:"col-md-2 pr-0",style:{display:"flex",flexDirection:"space-between"},children:[Object(y.jsx)("button",{type:"button",onClick:ee.bind(e,null===t||void 0===t?void 0:t._id,null===t||void 0===t?void 0:t.BookId,null===t||void 0===t?void 0:t.ISBN13,null===t||void 0===t?void 0:t.Edition),className:"fa fa-save dark btn btn-sm"}),Object(y.jsx)("button",{type:"button",onClick:function(e){R([]),F([]),Y([]),Q(!1)},className:"fa fa-times dark btn btn-sm ml-1"})]})]})]},null===t||void 0===t?void 0:t._id)}))})]}),Object(y.jsxs)("div",{className:"col-md-4 pl-1 pr-0",children:[Object(y.jsx)("p",{children:Object(y.jsx)("b",{children:" Similar Books"})}),Object(y.jsx)("hr",{className:"mt-1 mb-2"}),Object(y.jsx)("div",{className:"col-md-12 pl-0 pr-0",style:{height:"450px",overflowY:"scroll",overflowX:"hidden"},children:null===l||void 0===l?void 0:l.map((function(t){return Object(y.jsx)("div",{className:"card mr-0 mb-1",style:{cursor:"pointer"},id:null===t||void 0===t?void 0:t._id,onClick:J.bind(e,null===t||void 0===t?void 0:t._id),children:Object(y.jsxs)("div",{className:"row col-md-12",children:[Object(y.jsx)("div",{className:"col-md-3 p-1",children:Object(y.jsx)(Z,{isbn:null===t||void 0===t?void 0:t.ISBN13,width:"100%"})}),Object(y.jsxs)("div",{className:"col-md-9 pl-1",children:[Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(y.jsx)("b",{children:"ISBN13:  "}),null===t||void 0===t?void 0:t.ISBN13]}),Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(y.jsx)("b",{children:"Edition:  "}),null===t||void 0===t?void 0:t.Edition]}),Object(y.jsxs)("div",{className:"col-md-12 pl-0 pr-0",children:[Object(y.jsx)("b",{children:"Display Title:  "}),null===t||void 0===t?void 0:t.DisplayTitle]})]})]})},null===t||void 0===t?void 0:t._id)}))})]})]})})})})]})})})})}},{path:"/book-check-quality/:isbn/:book_id/:chapter?/:chapter_no?/:status?/:remark?/:question_id?",component:function(){var e,t,a,s,n=Object(o.g)(),r=Object(o.i)(),l=(Object(o.h)(),Object(ae.useToasts)().addToast),b=Object(c.useContext)(m.a).state,p=ue(),h=p.data,O=p.isLoading,v=function(){var e=Object(o.i)().isbn,t=Object(c.useContext)(m.a).state,a="";return a=k.a,Object(N.a)(["chapters",e],Object(u.a)(d.a.mark((function c(){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.get("".concat(a,"chapter/qc-data/").concat(e),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return s=c.sent,c.abrupt("return",s.data.data);case 4:case"end":return c.stop()}}),c)}))))}(),x=v.data,f=v.isLoading,g=function(){var e=Object(o.i)(),t=e.isbn,a=e.chapter_no,s=e.status,n=Object(c.useContext)(m.a).state,r="";return r=k.a,Object(N.a)(["question-".concat(a),t],Object(u.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(r,"chapter/qc-chapter-questions/").concat(t,"/").concat(a,"/").concat(s),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+n.access_token}});case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)}))))}(),w=g.data,S=g.isLoading,T="";T=k.a;var E={headers:{"Content-Type":"application/json",Authorization:"Bearer "+b.access_token}},A=Object(c.useState)({}),B=Object(j.a)(A,2),R=B[0],q=B[1],L=Object(c.useState)(),P=Object(j.a)(L,2),F=P[0],U=(P[1],Object(c.useState)(!1)),M=Object(j.a)(U,2),G=M[0],z=M[1],Q=Object(c.useState)({}),V=Object(j.a)(Q,2),K=V[0],H=V[1],Y=Object(c.useRef)();function J(){return W.apply(this,arguments)}function W(){return(W=Object(u.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=null===w||void 0===w||null===(t=w.data)||void 0===t?void 0:t.filter((function(e){return e._id===r.question_id})))&&(H(a[0]),r.question_id?z(!0):z(!1));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=Object(X.b)(),ee=Object(c.useState)(!1),te=Object(j.a)(ee,2),ce=te[0],se=te[1],ne=Object(c.useState)(!1),re=Object(j.a)(ne,2),ie=re[0],oe=re[1],le=Object($.a)((function(e){return _.a.post("".concat(T,"chapter/qc-answers"),e,E)}),{onSuccess:function(){Z.invalidateQueries(["chapters",r.isbn]),se(!1),oe(!1),z(!1),n.push("/book-check-quality/".concat(r.isbn,"/").concat(r.book_id)),document.getElementById("reviewDiv").scrollTop=0,l("Review added successfully",{appearance:"success",autoDismiss:!0})}}),de=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===R.temp_answer?Y.current.props.data:R.temp_answer,R.temp_answer=a,R.answer=a,R.question_id=r.question_id,R.remark=r.remark,"submit_answer"===(null===r||void 0===r?void 0:r.remark)?R.flag="submitAnswer":R.flag="approved",R.approved=!0,R.answered=!1,pe(!1),se(!0),e.next=12,le.mutate(R);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){return J(),function(){J()}}),[w,G,r.question_id]);var je=Object(c.useState)(!1),be=Object(j.a)(je,2),me=be[0],pe=be[1],he=Object(c.useState)(""),Oe=Object(j.a)(he,2),ve=Oe[0],Ne=Oe[1],ge=Object(c.useState)(""),_e=Object(j.a)(ge,2),we=_e[0],Ce=_e[1];console.log(we,ve);var Se=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"rejected"===ve?(R.flag=ve,R.option=we):"reworked"===ve&&(R.flag=ve,R.option=we,R.reworked=!0),R.question_id=r.question_id,console.log(R),oe(!0),e.next=6,le.mutate(R);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=r&&r.review_id?"/book-rating-review/".concat(r.isbn,"/").concat(r.book_id):"/books/".concat(null===h||void 0===h?void 0:h.subject_name,"/").concat(null===h||void 0===h?void 0:h.sub_subject_name,"/").concat(null===h||void 0===h?void 0:h.sub_subject_id);return Object(y.jsx)(y.Fragment,{children:b.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Books Quality Check"})}),F&&Object(y.jsx)(I.a,{children:F.message}),O&&Object(y.jsx)(D,{}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"col-md-12 row",children:[Object(y.jsx)("div",{className:"p-0 ",children:Object(y.jsx)(i.b,{to:Te,className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(y.jsx)("div",{className:"col-md-11 pl-0 ml-2",children:Object(y.jsxs)("p",{style:{fontSize:"1.2em",marginBottom:"0px"},children:[null===h||void 0===h?void 0:h.ISBN13," - ",null===h||void 0===h?void 0:h.BookName]})})]})}),!O&&Object(y.jsx)("div",{className:"dash-cont-start",style:{height:"100vh"},children:Object(y.jsx)("div",{className:"subject-main-container pl-0 pt-0 pr-0 pb-0",children:Object(y.jsxs)("div",{className:"row col-md-12 pl-0",children:[Object(y.jsx)("div",{className:"col-md-5 pr-0",children:Object(y.jsx)(ke,{data:h,qc_data:x})}),Object(y.jsxs)("div",{className:"col-md-7 pl-0",children:[void 0===(null===r||void 0===r?void 0:r.chapter_no)&&Object(y.jsxs)("div",{className:"subject-card",style:{height:"74vh",width:"100%",overflowY:"hidden",paddingRight:"10px",paddingBottom:"0px"},children:[Object(y.jsx)("div",{style:{display:"flex",flexContent:"space-between"},children:Object(y.jsx)("b",{children:"All Chapters:"})}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsxs)("div",{style:{height:"65vh",overflowY:"scroll",paddingRight:"10px",paddingBottom:"0px"},children:[f&&Object(y.jsx)("span",{className:"fa fa-spinner"}),!f&&(null===x||void 0===x||null===(e=x.details)||void 0===e?void 0:e.map((function(e){return Object(y.jsx)(ye,{data:e},e._id.chapter_no)})))]})]}),(null===r||void 0===r?void 0:r.chapter_no)&&!G&&Object(y.jsxs)("div",{className:"subject-card",style:{height:"74vh",overflow:"hidden",width:"100%"},children:[Object(y.jsxs)("div",{style:{display:"flex",flexContent:"space-between"},children:[Object(y.jsx)("button",{className:"btn btn-sm text-success pt-0 pb-0 pl-0",onClick:function(e){return n.push("/book-check-quality/".concat(r.isbn,"/").concat(r.book_id))},children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})}),Object(y.jsxs)("b",{children:["Chapter No: ",null===r||void 0===r?void 0:r.chapter_no,".\xa0 ",null===w||void 0===w||null===(t=w.data[0])||void 0===t?void 0:t.chapter_name," "]})]}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsxs)("div",{style:{height:"60vh",overflowY:"scroll",paddingRight:"10px",paddingBottom:"0px"},children:[S&&Object(y.jsx)("span",{className:"fa fa-spinner"}),!S&&(null===w||void 0===w||null===(a=w.data)||void 0===a?void 0:a.map((function(e){return Object(y.jsxs)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(y.jsxs)("div",{className:"name-label pt-1",children:[Object(y.jsxs)("strong",{children:["Q.No: ",e.problem_no,". \xa0",Object(y.jsx)("span",{className:"badge badge-success pull-right",style:{textTransform:"capitalize"},children:null===e||void 0===e?void 0:e.flag})]}),Object(y.jsx)("hr",{className:"mt-1 mb-2"}),Object(y.jsx)("p",{className:"mb-1",children:null===e||void 0===e?void 0:e.question})]}),Object(y.jsx)("hr",{className:"mt-0 mb-2"}),Object(y.jsxs)("div",{className:"name-main",children:[("answered"===e.flag||"approved"===e.flag)&&Object(y.jsxs)("button",{className:"btn btn-sm counter btn-danger",style:{borderRadius:"50%"},onClick:function(t){z(!0),n.push("/book-check-quality/".concat(r.isbn,"/").concat(r.book_id,"/chapter/").concat(r.chapter_no,"/").concat(r.status,"/").concat("answered"==r.status?"check_answer":"submit_answer","/").concat(e._id))},children:[Object(y.jsx)("span",{className:"fa fa-question-circle-o"}),"\xa0",Object(y.jsx)("b",{children:"QC the Answer"})]}),("reworked"===e.flag||"rejected"===e.flag||"notassigned"===e.flag)&&Object(y.jsxs)("button",{className:"btn btn-sm counter btn-success",style:{borderRadius:"50%"},onClick:function(t){z(!0),n.push("/book-check-quality/".concat(r.isbn,"/").concat(r.book_id,"/chapter/").concat(r.chapter_no,"/").concat(r.status,"/").concat("answered"==r.status?"check_answer":"submit_answer","/").concat(e._id))},children:[Object(y.jsx)("span",{className:"fa fa-question-circle-o"}),"\xa0",Object(y.jsx)("b",{children:"Answer The Question"})]})]})]},e._id)})))]})]}),G&&Object(y.jsxs)("div",{className:"subject-card",style:{height:"auto !important",overflowY:"scroll",overflowX:"hidden",width:"100%"},children:[Object(y.jsxs)("div",{style:{display:"flex",flexContent:"space-between"},children:[Object(y.jsx)("button",{className:"btn btn-sm text-success pt-0 pb-0 pl-0",onClick:function(e){z(!1),n.push("/book-check-quality/".concat(r.isbn,"/").concat(r.book_id,"/").concat(r.chapter,"/").concat(r.chapter_no,"/").concat(r.status))},children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})}),Object(y.jsxs)("b",{children:["Chapter No: ",null===r||void 0===r?void 0:r.chapter_no,".\xa0 ",null===w||void 0===w||null===(s=w.data[0])||void 0===s?void 0:s.chapter_name," "]})]}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsx)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:Object(y.jsxs)("div",{className:"name-label pt-1",children:[Object(y.jsxs)("strong",{children:["Q.No: ",null===K||void 0===K?void 0:K.problem_no,". \xa0",Object(y.jsx)("span",{className:"badge badge-success pull-right",style:{textTransform:"capitalize"},children:null===K||void 0===K?void 0:K.flag})]}),Object(y.jsx)("hr",{className:"mt-1 mb-2"}),null===K||void 0===K?void 0:K.question]})}),Object(y.jsx)("div",{className:"mt-1 p-2",style:{border:"1px solid #ddd"},children:Object(y.jsxs)("div",{className:"name-label pt-1",children:[Object(y.jsx)("strong",{children:"Answer: \xa0 "}),Object(y.jsx)(xe.CKEditor,{editor:fe.a,config:{toolbar:{items:["MathType","ChemType","heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","mediaEmbed","insertTable","blockQuote","undo","redo"]}},ref:Y,data:null===K||void 0===K?void 0:K.temp_answer,defaultValue:null===K||void 0===K?void 0:K.temp_answer,onChange:function(e,t){var a=t.getData();q(Object(C.a)(Object(C.a)({},R),{},{temp_answer:a}))}})]})}),"check_answer"===(null===r||void 0===r?void 0:r.remark)&&Object(y.jsx)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:Object(y.jsxs)("div",{className:"name-label pt-1",children:[Object(y.jsx)("button",{className:"btn btn-sm counter btn-success",onClick:de,children:ce?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-spinner"}),"\xa0 processing...."]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-check-circle-o"}),"\xa0 Approve Answer"]})}),Object(y.jsxs)("button",{className:"btn btn-sm counter btn-danger ml-2 ".concat("reworked"==ve?"active":""),onClick:function(e){Ce(""),Ne("reworked"),pe(!0)},children:[Object(y.jsx)("span",{className:"fa fa-check-circle-o"}),"\xa0 Send Back To Tutor"]}),Object(y.jsxs)("button",{className:"btn btn-sm counter btn-primary ml-2 ".concat("rejected"==ve?"active":""),onClick:function(e){Ce(""),Ne("rejected"),pe(!0)},children:[Object(y.jsx)("span",{className:"fa fa-backward"}),"\xa0 Send Back To Pool"]}),Object(y.jsxs)("button",{className:"btn btn-sm btn-danger counter ml-2",onClick:function(e){z(!1),n.push("/book-check-quality/".concat(r.isbn,"/").concat(r.book_id,"/").concat(r.chapter,"/").concat(r.chapter_no,"/").concat(r.status))},children:[Object(y.jsx)("span",{className:"fa fa-times"}),"\xa0 Cancel"]})]})}),"submit_answer"===(null===r||void 0===r?void 0:r.remark)&&Object(y.jsx)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:Object(y.jsxs)("div",{className:"name-label pt-1",children:[("answered"===r.status||"notassigned"===r.status||"rejected"===r.status||"approved"===r.status||"reworked"===r.status)&&Object(y.jsx)("button",{className:"btn btn-sm counter btn-success",onClick:de,children:ce?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-spinner"}),"\xa0 processing...."]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-check-circle-o"}),"\xa0 Submit Answer"]})}),Object(y.jsxs)("button",{className:"btn btn-sm btn-danger counter ml-2",onClick:function(e){z(!1),n.push("/book-check-quality/".concat(r.isbn,"/").concat(r.book_id,"/").concat(r.chapter,"/").concat(r.chapter_no,"/").concat(r.status))},children:[Object(y.jsx)("span",{className:"fa fa-times"}),"\xa0 Cancel"]})]})}),me&&"check_answer"===(null===r||void 0===r?void 0:r.remark)&&Object(y.jsxs)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:[Object(y.jsxs)("h5",{children:["Options reason for: ",r.status," ",Object(y.jsx)("span",{className:"fa fa-enter"})," "]}),Object(y.jsx)("hr",{className:"mt-1 mb-3"}),Object(y.jsxs)("div",{className:"name-label row pl-3",children:[Object(y.jsx)("button",{className:"counter btn-success pl-3 pr-3 mr-2 ".concat("incomplete"==we?"active":""),onClick:function(e){Ce("incomplete"),q({})},children:"\xa0 Incomplete"}),Object(y.jsx)("button",{className:"counter btn-success pl-3 pr-3 mr-2 ".concat("moredetails"==we?"active":""),onClick:function(e){Ce("moredetails"),q({})},children:"\xa0 Answer Required more details"}),Object(y.jsx)("button",{className:"counter btn-success pl-3 pr-3 mr-2 ".concat("other"==we?"active":""),onClick:function(e){Ce("other"),q({})},children:"\xa0 Other Reason"}),"other"==we&&Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"text",name:"other_data",className:"counter text-danger",style:{outline:"none"},onChange:function(e){return q(Object(C.a)(Object(C.a)({},R),{},{other_data:e.target.value}))}})})]}),Object(y.jsx)("hr",{className:"mt-3 mb-3"}),Object(y.jsx)("button",{className:"btn-success counter pl-3 pr-3",onClick:Se,children:ie?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-spinner mr-2"})," Processing..."]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-save mr-2"})," Submit Answer"]})}),Object(y.jsxs)("button",{className:"btn-danger counter pl-3 pr-3 ml-2",onClick:function(e){Ne(""),pe(!1)},children:[Object(y.jsx)("span",{className:"fa fa-times"})," Cancel"]})]})]})]})]})})})]})})})})}},{path:"/all-students",component:function(){var e,t,a,s=Object(c.useContext)(m.a).state,n=function(){Object(o.i)();var e=Object(c.useContext)(m.a).state,t=Object(c.useContext)(q.a).state,a="";a=k.a;var s=null===t.CurrentPage?1:t.CurrentPage;return Object(N.a)(["students",s],Object(u.a)(d.a.mark((function t(){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.get("".concat(a,"student/all/").concat(s,"/").concat(30),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+e.access_token}});case 2:return c=t.sent,t.abrupt("return",{data:c.data.data,pagination:{currentPage:c.data.currentPage,hasNextPage:c.data.hasNextPage,hasPrevPage:c.data.hasPrevPage,next:c.data.next,pageCount:c.data.pageCount,itemCount:c.data.itemCount,prev:c.data.prev}});case 4:case"end":return t.stop()}}),t)}))))}(),r=n.data,i=n.isLoading,l=n.error;return Object(y.jsx)(y.Fragment,{children:s.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{style:{textTransform:"capitalize"},children:"All Students "})}),l&&Object(y.jsx)(I.a,{children:l.message}),i&&Object(y.jsx)(D,{}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsx)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:Object(y.jsx)(oe,{pagination:null===r||void 0===r?void 0:r.pagination})})}),!i&&Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"subject-main-container",children:[null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.map((function(e){return Object(y.jsx)(Se,{student:e},e._id)})),0===(null===r||void 0===r||null===(t=r.data)||void 0===t||null===(a=t.pagination)||void 0===a?void 0:a.itemCount)&&Object(y.jsx)("div",{className:"col-md-6 offset-3 p-5",children:Object(y.jsxs)("h2",{style:{fontSize:"1.2em"},children:["No Students Registered yet ",Object(y.jsx)("br",{})]})})]})})]})})})})}},{path:"/manage-faq",component:function(){var e,t=Object(c.useContext)(m.a).state,a=Ae(),s=a.data,n=a.isLoading,r=a.error;return console.log("data back",s),Object(y.jsx)(y.Fragment,{children:t.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{style:{textTransform:"capitalize"},children:"All Faq Category "})}),r&&Object(y.jsx)(I.a,{children:r.message}),n&&Object(y.jsx)(D,{}),Object(y.jsx)(qe,{data:s}),!n&&Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"subject-main-container",children:[s&&s.data.map((function(e){return Object(y.jsx)(Re,{faq:e},e._id)})),0===(null===s||void 0===s||null===(e=s.pagination)||void 0===e?void 0:e.itemCount)&&Object(y.jsx)("div",{className:"col-md-6 pt-1",children:Object(y.jsx)("h2",{style:{fontSize:"1.2em",color:"#f00"},children:"No Faq Category Registered yet"})})]})})]})})})})}},{path:"/manage-faq-category",component:function(){var e=Object(c.useContext)(m.a).state,t=Ae(),a=t.data,s=t.isLoading,n=t.error;return Object(y.jsx)(y.Fragment,{children:e.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{style:{textTransform:"capitalize"},children:" Create Faq Category "})}),n&&Object(y.jsx)(I.a,{children:n.message}),s&&Object(y.jsx)(D,{}),Object(y.jsx)(qe,{data:a}),!s&&Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsx)("div",{className:"subject-main-container",children:Object(y.jsx)("div",{className:"col-md-4",children:Object(y.jsx)(Le,{})})})})]})})})})}},{path:"/add-faq-question/:faq_category?/:faq_id/:question_id?",component:function(){var e=Object(c.useContext)(m.a).state,t=function(){var e=Object(o.i)(),t=Object(c.useContext)(m.a).state,a=Object(c.useContext)(q.a).state,s="";s=k.a;var n=null===a.CurrentPage?1:a.CurrentPage;return Object(N.a)(["singlefaq",n],Object(u.a)(d.a.mark((function a(){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.a.get("".concat(s,"faq/single/").concat(e.faq_id),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return c=a.sent,a.abrupt("return",{data:c.data.data});case 4:case"end":return a.stop()}}),a)}))))}(),a=t.data,s=t.isLoading,n=t.error;return Object(y.jsx)(y.Fragment,{children:e.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{style:{textTransform:"capitalize"},children:" Create Faq Category "})}),n&&Object(y.jsx)(I.a,{children:n.message}),s&&Object(y.jsx)(D,{}),Object(y.jsx)(qe,{data:a}),!s&&Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"subject-main-container",children:[Object(y.jsx)("div",{className:"col-md-4",children:Object(y.jsx)(Ie,{data:a.data.faq_content})}),Object(y.jsx)("div",{className:"col-md-8",children:Object(y.jsx)(Pe,{faqLists:a.data.faq_content})})]})})]})})})})}},{path:"/all-tutors/:status?/:master_subject?/:type?",component:function(){var e,t,a,s,n=Object(ae.useToasts)().addToast,r=Object(o.g)(),i=Object(o.i)(),l=Object(c.useRef)(),b=Object(c.useRef)(),p=Object(c.useRef)(),h=Object(c.useContext)(m.a).state,O=function(){var e=Object(o.i)(),t=Object(c.useContext)(m.a).state,a=Object(c.useContext)(q.a).state,s="";s=k.a;var n=null===a.CurrentPage?1:a.CurrentPage,r="";return r=e.status&&e.master_subject?"".concat(s,"tutor/all/").concat(null===e||void 0===e?void 0:e.status,"/").concat(null===e||void 0===e?void 0:e.master_subject,"/").concat(null===e||void 0===e?void 0:e.type,"/").concat(n,"/").concat(12):"".concat(s,"tutor/all/all/all/all/").concat(n,"/").concat(12),Object(N.a)(["tutors/".concat(null===e||void 0===e?void 0:e.status,"/").concat(null===e||void 0===e?void 0:e.master_subject,"/").concat(null===e||void 0===e?void 0:e.type),n],Object(u.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(r),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return a=e.sent,e.abrupt("return",{data:a.data.data,newTutor:{count:a.data.newTutorCount,tutor:a.data.newTutor},pagination:{currentPage:a.data.currentPage,hasNextPage:a.data.hasNextPage,hasPrevPage:a.data.hasPrevPage,next:a.data.next,pageCount:a.data.pageCount,itemCount:a.data.itemCount,prev:a.data.prev}});case 4:case"end":return e.stop()}}),e)}))))}(),v=O.data,x=O.isLoading,f=O.error,g=Y().data,w=Object(c.useState)(!1),C=Object(j.a)(w,2),S=C[0],T=C[1],E=Object(c.useState)(!0),A=Object(j.a)(E,2),B=A[0],R=A[1],L=Object(c.useState)(!1),P=Object(j.a)(L,2),F=P[0],U=P[1],M=Object(c.useState)(null),G=Object(j.a)(M,2),z=G[0],Q=G[1],V=new FormData,K=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0].name,"csv"===a.split(".")[1]?(R(!1),Q(t.target.files[0]),V.append("file",t.target.files[0])):(R(!0),n("Only .csv files are allowed",{appearance:"error",autoDismiss:!0}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H="";H=k.a;var J={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+h.access_token}},W=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=null,V.append("file",z),U(!0),R(!0),e.next=7,_.a.post("".concat(H,"tutor/upload"),V,J);case 7:a=e.sent,R(!1),U(!1),T(!1),n(a.message,{appearance:"success",autoDismiss:!0}),r.push("/all-tutors");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=Object(c.useState)([]),X=Object(j.a)(Z,2),$=X[0],ee=X[1],te=Object(c.useState)(!1),ce=Object(j.a)(te,2),se=ce[0],ne=ce[1],re=null===v||void 0===v?void 0:v.data,ie=null===v||void 0===v||null===(e=v.newTutor)||void 0===e?void 0:e.tutor;function le(){return(le=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===(null===v||void 0===v||null===(t=v.newTutor)||void 0===t?void 0:t.count)&&ne(!1),ee(!1===se?re:ie);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return le.apply(this,arguments)}),[v,se]),Object(y.jsx)(y.Fragment,{children:h.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{style:{textTransform:"capitalize"},children:"All Tutors "})}),f&&Object(y.jsx)(I.a,{children:f.message}),x&&Object(y.jsx)(D,{}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"row pl-3",style:{display:"flex",flexContent:"space-between"},children:[Object(y.jsxs)("button",{className:"btn btn-sm dark mr-2",onClick:function(e){return T(!S)},children:[Object(y.jsx)("span",{className:"fa fa-upload"}),"\xa0 Upload Tutor"]}),(null===v||void 0===v||null===(t=v.newTutor)||void 0===t?void 0:t.count)>0&&Object(y.jsxs)("button",{className:"btn btn-sm dark mr-2",style:{position:"relative"},onClick:function(e){return ne(!se)},children:[Object(y.jsx)("span",{className:"fa fa-user"}),"\xa0 New Tutor",Object(y.jsx)("span",{className:"badge badge-danger ml-2 text-white",children:null===v||void 0===v||null===(a=v.newTutor)||void 0===a?void 0:a.count})]}),Object(y.jsxs)("select",{className:"col-md-2 mr-2",ref:p,onChange:function(e){r.push("/all-tutors/".concat(l.current.value,"/").concat(b.current.value,"/").concat(e.target.value))},children:[Object(y.jsx)("option",{value:"all",selected:"all"===(null===i||void 0===i?void 0:i.type)?"selected":"",children:"All - Portal"}),Object(y.jsx)("option",{value:"freelance",selected:"freelance"===(null===i||void 0===i?void 0:i.type)?"selected":"",children:"Freelance"}),Object(y.jsx)("option",{value:"cfs",selected:"cfs"===(null===i||void 0===i?void 0:i.type)?"selected":"",children:"CFS"})]}),Object(y.jsxs)("select",{ref:b,className:"mr-2",name:"category",onChange:function(e){r.push("/all-tutors/".concat(l.current.value,"/").concat(e.target.value,"/").concat(p.current.value))},children:[Object(y.jsx)("option",{value:"all",children:"All - Subject"}),null===g||void 0===g?void 0:g.map((function(e){return Object(y.jsx)("option",{value:"".concat(e.sub_subject),selected:i.master_subject==e.sub_subject?"selected":"",children:e.sub_subject},e._id)}))]}),Object(y.jsxs)("select",{className:"col-md-2 mr-1",ref:l,onChange:function(e){return r.push("/all-tutors/".concat(e.target.value,"/").concat(b.current.value,"/").concat(p.current.value))},children:[Object(y.jsx)("option",{value:"all",children:"All - Status"}),Object(y.jsx)("option",{value:"1",selected:"1"===i.status?"selected":"",children:"Active"}),Object(y.jsx)("option",{value:"0",selected:"0"===i.status?"selected":"",children:"Blocked"})]}),Object(y.jsx)(oe,{pagination:null===v||void 0===v?void 0:v.pagination})]})}),!x&&Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsxs)("div",{className:"subject-main-container",children:[S&&Object(y.jsx)("div",{className:"col-md-3 p-2 card",children:Object(y.jsxs)("form",{encType:"multipart/form-data",children:[Object(y.jsxs)("div",{className:"form-data",children:[Object(y.jsx)("label",{children:"Upload Tutor"}),Object(y.jsx)("input",{type:"file",className:"form-control",onChange:K,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})]}),Object(y.jsxs)("div",{className:"form-data mt-2",children:[Object(y.jsx)("button",{className:"btn btn-sm dark btn-full",onClick:W,disabled:F&&B,children:F?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-spinner"})," uploading.... "]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-upload"})," upload data"]})}),Object(y.jsx)("button",{className:"btn btn-sm my-btn btn-danger ml-1",onClick:function(e){U(!1),T(!1)},children:Object(y.jsx)("span",{className:"fa fa-times"})})]})]})}),Object(y.jsxs)("div",{className:S?"row col-md-9":"row col-md-12",children:[null===$||void 0===$?void 0:$.map((function(e){return Object(y.jsx)(Ee,{tutor:e},e._id)})),0===(null===v||void 0===v||null===(s=v.pagination)||void 0===s?void 0:s.itemCount)&&Object(y.jsx)("div",{className:"col-md-6 text-center offset-3",children:Object(y.jsxs)("h1",{style:{fontSize:"2.5em",color:"#000",marginTop:"30vh",padding:"25px",background:"yellow"},children:["No Tutor Registered ",Object(y.jsx)("br",{}),"With ",null===i||void 0===i?void 0:i.master_subject," In ",null===i||void 0===i?void 0:i.type," ",Object(y.jsx)("br",{})]})})]})]})})]})})})})}},{path:"/tutor-details/:tutor_id?",component:function(){var e,t,a,s,n,r,i,l,b,p,h,O,v,x,f,g,w,C,S=Object(o.g)(),T=Object(c.useContext)(m.a).state,E=function(){var e=Object(o.i)(),t=Object(c.useContext)(m.a).state,a=(Object(c.useContext)(q.a).state,"");a=k.a;var s="";return e.tutor_id&&(s="".concat(a,"tutor/details/").concat(null===e||void 0===e?void 0:e.tutor_id)),Object(N.a)(["tutor/".concat(null===e||void 0===e?void 0:e.tutor_id)],Object(u.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(s),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+t.access_token}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))))}(),A=E.data,B=E.isLoading,R=null===A||void 0===A||null===(e=A.data)||void 0===e?void 0:e.bank_details,L=null===A||void 0===A||null===(t=A.data)||void 0===t?void 0:t.education,I=null===A||void 0===A?void 0:A.statics,D=Object(c.useState)([]),P=Object(j.a)(D,2),F=P[0],U=P[1],M=Object(c.useState)("pending"),G=Object(j.a)(M,2),z=G[0],Q=G[1];function V(){return(V=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(null===I||void 0===I?void 0:I.total_pending_qc);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return V.apply(this,arguments)}),[A]),Object(y.jsx)(y.Fragment,{children:T.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Tutor Details"})}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsx)("div",{className:"col-md-12 row",children:Object(y.jsx)("button",{className:"btn btn-sm dark",onClick:function(e){return S.push("/all-tutors/all/all/all")},children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})})})}),B&&Object(y.jsx)("span",{className:"fa fa-spinner"}),!B&&Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsx)("div",{className:"subject-main-container pl-0 pt-0 pr-0 pb-0",children:Object(y.jsxs)("div",{className:"row col-md-12 pr-0",children:[Object(y.jsx)("div",{className:"col-md-5",children:Object(y.jsxs)("div",{className:"module-card",style:{width:"100%"},children:[Object(y.jsx)("h4",{children:"Personal Details"}),Object(y.jsx)("hr",{className:"mt-1 mb-2"}),Object(y.jsxs)("div",{className:"admin-name mb-1",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-user fa-1x mr-2 pt-1"}),"\xa0 Name:"]}),Object(y.jsxs)("div",{className:"name-main",children:[null===A||void 0===A||null===(a=A.data)||void 0===a?void 0:a.fname,"\xa0 ",null===A||void 0===A||null===(s=A.data)||void 0===s?void 0:s.lname]})]}),Object(y.jsxs)("div",{className:"admin-name mb-1",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-envelope fa-1x mr-2 pt-1"}),"\xa0 Email:"]}),Object(y.jsx)("div",{className:"name-main",children:null===A||void 0===A||null===(n=A.data)||void 0===n?void 0:n.email})]}),Object(y.jsxs)("div",{className:"admin-name mb-1",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Address:"]}),Object(y.jsxs)("div",{className:"name-main",children:[null===A||void 0===A||null===(r=A.data)||void 0===r?void 0:r.house_name,",\xa0",null===A||void 0===A||null===(i=A.data)||void 0===i?void 0:i.street_name,",\xa0",null===A||void 0===A||null===(l=A.data)||void 0===l?void 0:l.city,",\xa0",null===A||void 0===A||null===(b=A.data)||void 0===b?void 0:b.zipcode,",\xa0",null===A||void 0===A||null===(p=A.data)||void 0===p?void 0:p.country,",\xa0 ",null===A||void 0===A||null===(h=A.data)||void 0===h?void 0:h.country_full]})]}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsx)("h4",{className:"mt-1 mb-1",children:"Education Details"}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),null===L||void 0===L?void 0:L.map((function(e){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"admin-name mb-1",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-book fa-1x mr-2 pt-1"}),"\xa0 Class:"]}),Object(y.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.class})]}),Object(y.jsxs)("div",{className:"admin-name mb-1",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-book fa-1x mr-2 pt-1"}),"\xa0 Subject:"]}),Object(y.jsxs)("div",{className:"name-main",children:["(",null===e||void 0===e?void 0:e.subject,")"]})]}),Object(y.jsxs)("div",{className:"admin-name mb-1",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-book fa-1x mr-2 pt-1"}),"\xa0 Grade:"]}),Object(y.jsxs)("div",{className:"name-main",children:[null===e||void 0===e?void 0:e.grade,"%"]})]}),Object(y.jsxs)("div",{className:"admin-name mb-1",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-book fa-1x mr-2 pt-1"}),"\xa0 Passing Year:"]}),Object(y.jsx)("div",{className:"name-main",children:null===e||void 0===e?void 0:e.year})]})]})})),Object(y.jsxs)("div",{className:"admin-name mb-1",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-book fa-1x mr-2 pt-1"}),"\xa0 Master Subject:"]}),Object(y.jsx)("div",{className:"name-main",children:null===A||void 0===A||null===(O=A.data)||void 0===O?void 0:O.master_subject})]}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsx)("h4",{className:"mt-1 mb-1",children:"Bank Details"}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),"NULL"!==(null===A||void 0===A||null===(v=A.data)||void 0===v?void 0:v.paypal)?Object(y.jsxs)("div",{className:"admin-name mb-1",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-dollar fa-1x mr-2 pt-1"}),"\xa0 Paypal:"]}),Object(y.jsx)("div",{className:"name-main",children:null===A||void 0===A||null===(x=A.data)||void 0===x?void 0:x.paypal})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"admin-name mb-1",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Bank Name:"]}),Object(y.jsx)("div",{className:"name-main",children:null===R||void 0===R?void 0:R.Bank_Name})]}),Object(y.jsxs)("div",{className:"admin-name mb-1",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Account Name:"]}),Object(y.jsx)("div",{className:"name-main",children:null===R||void 0===R?void 0:R.Account_Name})]}),Object(y.jsxs)("div",{className:"admin-name mb-1",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Bank Country:"]}),Object(y.jsx)("div",{className:"name-main",children:null===R||void 0===R?void 0:R.Bank_Country})]}),Object(y.jsxs)("div",{className:"admin-name mb-1",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Account Type:"]}),Object(y.jsx)("div",{className:"name-main",children:null===R||void 0===R?void 0:R.Account_Type})]}),Object(y.jsxs)("div",{className:"admin-name mb-1",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Account_Number:"]}),Object(y.jsx)("div",{className:"name-main",children:null===R||void 0===R?void 0:R.Account_Number})]}),Object(y.jsxs)("div",{className:"admin-name mb-1",children:[Object(y.jsxs)("div",{className:"name-label",children:[Object(y.jsx)("span",{className:"fa fa-home fa-1x mr-2 pt-1"}),"\xa0 Bank Address:"]}),Object(y.jsx)("div",{className:"name-main",children:null===R||void 0===R?void 0:R.Bank_Address})]})]})]})}),Object(y.jsx)("div",{className:"col-md-7 pl-0 pr-0",children:Object(y.jsxs)("div",{className:"module-card",style:{width:"100%"},children:[Object(y.jsx)("h4",{children:"Freelance Question Answer"}),Object(y.jsx)("hr",{className:"mt-1 mb-2"}),Object(y.jsxs)("div",{className:"row col-md-12 mb-3",children:[Object(y.jsx)("div",{className:"col-md-3 pl-0",children:Object(y.jsxs)("button",{className:"counter btn-success p-2 ".concat("pending"===z?"active":""),onClick:function(e){U(null===I||void 0===I?void 0:I.total_pending_qc),Q("pending")},children:["Total Answered: \xa0",null===I||void 0===I||null===(f=I.total_pending_qc)||void 0===f?void 0:f.length]})}),Object(y.jsx)("div",{className:"col-md-3 pl-0",children:Object(y.jsxs)("button",{className:"counter btn-success p-2 ".concat("solved"===z?"active":""),onClick:function(e){U(null===I||void 0===I?void 0:I.total_solved),Q("solved")},children:["Total Solved: \xa0",null===I||void 0===I||null===(g=I.total_solved)||void 0===g?void 0:g.length]})}),Object(y.jsx)("div",{className:"col-md-3 pl-0",children:Object(y.jsxs)("button",{className:"counter btn-success p-2 ".concat("reworked"===z?"active":""),onClick:function(e){U(null===I||void 0===I?void 0:I.total_reworked),Q("reworked")},children:["Total Reworked: \xa0",null===I||void 0===I||null===(w=I.total_reworked)||void 0===w?void 0:w.length]})})]}),Object(y.jsx)("hr",{className:"mt-1 mb-2"}),(null===F||void 0===F?void 0:F.length)>0&&Object(y.jsx)("div",{className:"row col-md-12 mr-0 pl-0 pr-3",style:{height:"300px",overflowY:"scroll"},children:null===F||void 0===F?void 0:F.map((function(e){return Object(y.jsxs)("div",{className:"ml-3 mr-0 pr-0 mb-2",children:[Object(y.jsxs)("div",{className:"pl-0",children:[Object(y.jsxs)("p",{className:"mb-1",children:["Book Name: ",null===e||void 0===e?void 0:e.book_name]}),Object(y.jsxs)("p",{className:"mb-1",children:["Chapter No: ",null===e||void 0===e?void 0:e.chapter_no,".\xa0 ",null===e||void 0===e?void 0:e.chapter_name," "]})]}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsx)("div",{className:"mt-2 p-2",style:{border:"1px solid #ddd"},children:Object(y.jsxs)("div",{className:"name-label pt-1",children:[Object(y.jsxs)("strong",{children:["Q.No: ",null===e||void 0===e?void 0:e.problem_no,". \xa0",Object(y.jsx)("span",{className:"badge badge-success pull-right",style:{textTransform:"capitalize"},children:null===e||void 0===e?void 0:e.flag})]}),Object(y.jsx)("hr",{className:"mt-1 mb-2"}),null===e||void 0===e?void 0:e.question,Object(y.jsx)("div",{className:"mt-1 p-2",style:{border:"1px solid #ddd"},children:Object(y.jsxs)("div",{className:"name-label pt-1",children:[Object(y.jsx)("strong",{children:"Answer: \xa0 "}),null===e||void 0===e?void 0:e.temp_answer]})})]})})]})}))}),"0"==(null===F||void 0===F?void 0:F.length)&&Object(y.jsx)("div",{className:"mr-0 pr-0 mb-2",children:Object(y.jsxs)("h3",{className:"p-3 text-center",style:{fontSize:"1.5rem",margin:"0 auto",background:"yellow"},children:[" Not any single Question Solved By ",null===A||void 0===A||null===(C=A.data)||void 0===C?void 0:C.fname]})})]})})]})})})]})})})})}},{path:"/qa-data/:subject?/:subject_id?/:sub_subject?/:sub_subject_id?/:status?/:chield_subject_id?/:chield_subject?/:page?",component:function(){var e,t=[{key:"true",value:"Mongo Database"},{key:"false",value:"MySql Database"}],a=Object(o.i)(),s=Object(o.g)(),n=Object(c.useContext)(m.a).state,r=Object(ae.useToasts)().addToast,i=P(),l=i.data,b=i.isLoading,p=de(),O=p.data,v=p.isLoading,x=function(){var e=Object(o.i)(),t=e.subject_id,a=e.sub_subject_id,s=null===e||void 0===e?void 0:e.status,n=Object(c.useContext)(m.a).state,r="";return r=k.a,Object(N.a)(["chield_subjects-".concat(t,"-").concat(a,"-").concat(s)],Object(u.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===s){e.next=5;break}return e.next=3,_.a.get("".concat(r,"chield-subject/all/").concat(t,"/").concat(a,"/").concat(s),{headers:{"Content-Type":"Application/json",Authorization:"Bearer "+n.access_token}});case 3:return c=e.sent,e.abrupt("return",c.data.data);case 5:case"end":return e.stop()}}),e)}))))}(),f=x.data,g=x.isLoading,w=Object(c.useState)([]),C=Object(j.a)(w,2),S=C[0],T=C[1],E=Object(c.useState)({}),A=Object(j.a)(E,2),B=A[0],R=A[1],q=Object(c.useState)(0),L=Object(j.a)(q,2),I=L[0],D=L[1],F=Object(c.useState)(!1),U=Object(j.a)(F,2),M=U[0],G=U[1],z="";z=k.a;var Q={headers:{"Content-Type":"Application/json",Authorization:"Bearer "+n.access_token}},V=Object(c.useState)(!1),K=Object(j.a)(V,2),H=K[0],Y=K[1],J=Object(c.useState)(!1),W=Object(j.a)(J,2),Z=W[0],X=W[1],$=Object(c.useState)(!1),ee=Object(j.a)($,2),te=ee[0],ce=ee[1];Object(c.useEffect)((function(){!0===Z&&Y(!1)}),[null===a||void 0===a?void 0:a.page]);var se=function(){var e=Object(u.a)(d.a.mark((function e(t){var c,n,r,i,o,l,u,j,b,m,p,h,O,v,x,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),G(!0),Y(!0),n="","false"!=(null===a||void 0===a?void 0:a.status)){e.next=16;break}return h="",h=void 0===(null===a||void 0===a?void 0:a.page)?0:null===a||void 0===a?void 0:a.page,e.next=9,_.a.get("https://www.crazyforstudy.com/api/get-question-and-answer.php?accessKey=crazyforstudy&id=".concat(null===a||void 0===a?void 0:a.chield_subject_id,"&page=").concat(h));case 9:c=e.sent,n=null===(r=c)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.data,R(null===(o=c)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.pagination),D(null===(u=c)||void 0===u||null===(j=u.data)||void 0===j||null===(b=j.pagination)||void 0===b?void 0:b.itemCount),(null===(m=c)||void 0===m||null===(p=m.data)||void 0===p?void 0:p.pagination)&&(O="",O=void 0===(null===a||void 0===a?void 0:a.page)?1:null===a||void 0===a?void 0:a.page,s.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(null===a||void 0===a?void 0:a.status,"/").concat(null===a||void 0===a?void 0:a.chield_subject_id,"/").concat(null===a||void 0===a?void 0:a.chield_subject,"/").concat(O))),e.next=21;break;case 16:return e.next=18,_.a.get("".concat(z,"question/chield-question/").concat(null===a||void 0===a?void 0:a.chield_subject_id),Q);case 18:c=e.sent,n=null===(v=c)||void 0===v||null===(x=v.data)||void 0===x?void 0:x.data,R({});case 21:c?(null===(f=n)||void 0===f||f.forEach((function(e){e.uuid=Object(_e.a)()})),T(n)):T([]),G(!1);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(u.a)(d.a.mark((function e(t){var c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Y(!0),ce(!0),X(!0),S.forEach((function(e){e.subject=null===a||void 0===a?void 0:a.subject,e.subject_id=null===a||void 0===a?void 0:a.subject_id,e.sub_subject=null===a||void 0===a?void 0:a.sub_subject,e.sub_subject_id=null===a||void 0===a?void 0:a.sub_subject_id,e.chield_subject_id=null===a||void 0===a?void 0:a.chield_subject_id})),c={questions:S,chield_subject_id:null===a||void 0===a?void 0:a.chield_subject_id,totalQuestion:I,pageCount:null===B||void 0===B?void 0:B.pageCount,perPage:null===B||void 0===B?void 0:B.perPage,page:+(null===a||void 0===a?void 0:a.page)},e.next=8,_.a.post("".concat(z,"question/import-data"),c,Q);case 8:201===(n=e.sent).status&&(ce(!1),r("Questions Uploaded successfully",{appearance:"success",autoDismiss:!0}),T([]),setTimeout((function(){if("1"==(null===B||void 0===B?void 0:B.pageCount))document.getElementById("chield_subject").selectedIndex="0",s.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(null===a||void 0===a?void 0:a.status)),X(!1),Y(!1),G(!1);else if((null===B||void 0===B?void 0:B.pageCount)>"1"){null===n||void 0===n||n.totalQuestion,null===n||void 0===n||n.uploadedQuestion;X(!1),Y(!1),G(!1),s.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(null===a||void 0===a?void 0:a.status,"/").concat(null===a||void 0===a?void 0:a.chield_subject_id,"/").concat(null===a||void 0===a?void 0:a.chield_subject,"/").concat(null===a||void 0===a?void 0:a.page))}}),1500));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Question and Answers"})}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)("div",{className:"col-md-12 row",children:[Object(y.jsx)("button",{className:"btn btn-sm dark",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})}),Object(y.jsxs)("select",{className:"col-md-2 ml-2 form-control",onChange:function(e){var t=e.target.value.split("_"),a=t[1],c=t[0];document.getElementById("sub_subject").selectedIndex="0",document.getElementById("status").selectedIndex="0",document.getElementById("chield_subject").selectedIndex="0",void 0===a?s.push("/qa-data"):s.push("/qa-data/".concat(a,"/").concat(c))},children:[Object(y.jsx)("option",{children:b?"loading...":"Select Subjects"}),null===l||void 0===l?void 0:l.map((function(e){return Object(y.jsx)("option",{value:"".concat(null===e||void 0===e?void 0:e._id,"_").concat(h(null===e||void 0===e?void 0:e.subject)),selected:(null===e||void 0===e?void 0:e._id)===(null===a||void 0===a?void 0:a.subject_id)?"selected":"",children:null===e||void 0===e?void 0:e.subject},null===e||void 0===e?void 0:e._id)}))]}),Object(y.jsxs)("select",{className:"col-md-2 ml-2 form-control",id:"sub_subject",onChange:function(e){var t=e.target.value.split("_"),c=t[1],n=t[0];document.getElementById("status").selectedIndex="0",document.getElementById("chield_subject").selectedIndex="0",T([]),void 0===c||void 0===(null===a||void 0===a?void 0:a.subject)?s.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id)):s.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(c,"/").concat(n))},children:[Object(y.jsx)("option",{children:v?"loading...":"Select Sub Subjects"}),null===O||void 0===O?void 0:O.map((function(e){return Object(y.jsx)("option",{value:"".concat(null===e||void 0===e?void 0:e._id,"_").concat(h(null===e||void 0===e?void 0:e.sub_subject)),selected:(null===e||void 0===e?void 0:e._id)===(null===a||void 0===a?void 0:a.sub_subject_id)?"selected":"",children:null===e||void 0===e?void 0:e.sub_subject},null===e||void 0===e?void 0:e._id)}))]}),Object(y.jsxs)("select",{className:"col-md-2 ml-2 form-control",id:"status",onChange:function(e){var t=e.target.value;document.getElementById("chield_subject").selectedIndex="0",T([]),R({}),"0"==t?s.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id)):s.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(t))},children:[Object(y.jsx)("option",{value:"0",children:"Status"}),(null===O||void 0===O?void 0:O.length)>0&&(null===a||void 0===a?void 0:a.sub_subject_id)&&(null===t||void 0===t?void 0:t.map((function(e){return Object(y.jsx)("option",{value:e.key,selected:(null===a||void 0===a?void 0:a.status)===e.key,children:e.value})})))]}),Object(y.jsxs)("select",{className:"col-md-2 ml-2 form-control",id:"chield_subject",onChange:function(e){var t=e.target.value.split("_"),c=t[1],n=t[0];T([]),R({}),Y(!1),void 0===c?s.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(null===a||void 0===a?void 0:a.status)):s.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(null===a||void 0===a?void 0:a.status,"/").concat(n,"/").concat(c))},children:[Object(y.jsx)("option",{children:g?"loading...":"Select Chield Subjects"}),null===f||void 0===f?void 0:f.map((function(e){return Object(y.jsx)("option",{value:"".concat(null===e||void 0===e?void 0:e.chield_subject_id,"_").concat(h(null===e||void 0===e?void 0:e.chield_subject)),selected:(null===e||void 0===e?void 0:e.chield_subject_id)==(null===a||void 0===a?void 0:a.chield_subject_id)?"selected":"",children:null===e||void 0===e?void 0:e.chield_subject},null===e||void 0===e?void 0:e.uuid)}))]}),(null===a||void 0===a?void 0:a.chield_subject_id)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("button",{className:"btn btn-sm dark ml-2",onClick:se,disabled:!0===H,children:M?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-spinner mr-2"}),"importing data..."]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-upload mr-2"}),"Import Data"]})}),Object(y.jsxs)("button",{className:"btn btn-sm dark ml-2",onClick:function(e){e.preventDefault(),document.getElementById("chield_subject").selectedIndex="0",T([]),R({}),s.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(null===a||void 0===a?void 0:a.status))},children:[Object(y.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel"]})]})]})}),Object(y.jsxs)("div",{className:"dash-cont-start",children:[Object(y.jsxs)("div",{className:"col-md-12 row",children:[Object(y.jsx)("div",{className:"col-md-4",children:Object(y.jsxs)("h2",{children:["All Questions - ",null===S||void 0===S?void 0:S.length," outof ",null!==(e=null===B||void 0===B?void 0:B.itemCount)&&void 0!==e?e:0]})}),B&&(null===S||void 0===S?void 0:S.length)>0&&Object(y.jsx)("div",{className:"col-md-2",children:Object(y.jsx)(we,{pagination:B})}),(null===S||void 0===S?void 0:S.length)>0&&"false"==(null===a||void 0===a?void 0:a.status)&&Object(y.jsxs)("div",{className:"col-md-6 pr-0 pull-right text-right",style:{position:"absolute",right:"10px",top:"0px"},children:[Object(y.jsx)("button",{className:"btn btn-sm dark p-2",onClick:ne,disabled:!0===Z,children:te?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-spinner mr-2"})," Uploading data.... "]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"fa fa-download mr-2"})," Upload ",null===S||void 0===S?void 0:S.length," Questions"]})}),Object(y.jsxs)("button",{className:"btn btn-sm red p-2 ml-2",onClick:function(e){e.preventDefault(),document.getElementById("chield_subject").selectedIndex="0",T([]),R({}),s.push("/qa-data/".concat(null===a||void 0===a?void 0:a.subject,"/").concat(null===a||void 0===a?void 0:a.subject_id,"/").concat(null===a||void 0===a?void 0:a.sub_subject,"/").concat(null===a||void 0===a?void 0:a.sub_subject_id,"/").concat(null===a||void 0===a?void 0:a.status))},children:[Object(y.jsx)("span",{className:"fa fa-times mr-2"}),"Cancel Upload"]})]})]}),Object(y.jsx)("div",{className:"col-md-12 p-0 ",children:Object(y.jsx)("hr",{className:"mt-2 mb-2"})}),(null===S||void 0===S?void 0:S.length)>0&&"true"===(null===a||void 0===a?void 0:a.status)&&Object(y.jsxs)("div",{className:"col-md-12 row bg-info ml-1 text-white pl-2",children:[Object(y.jsx)("div",{className:"col-md-1",children:"Old QID"}),Object(y.jsx)("div",{className:"col-md-6",children:"Question"})]}),Object(y.jsx)("div",{style:{height:"400px",overflowY:"scroll",overflowX:"hidden"},children:"true"===(null===a||void 0===a?void 0:a.status)&&(null===S||void 0===S?void 0:S.map((function(e){return Object(y.jsxs)("div",{className:"col-md-12 row table-bordered border-right mt-2 ml-1 pl-2",id:null===e||void 0===e?void 0:e.uuid,children:[Object(y.jsx)("div",{className:"col-md-1",children:null===e||void 0===e?void 0:e.old_qid}),Object(y.jsx)("div",{className:"col-md-11 pl-0",dangerouslySetInnerHTML:{__html:"".concat(me()(null===e||void 0===e?void 0:e.question))}})]},null===e||void 0===e?void 0:e.uuid)})))})]})]})})})}}],et=[{path:"/master-admin",component:function(){var e=this,t=Object(o.g)(),a=Object(c.useContext)(m.a).state,s=Object(c.useContext)(q.a),n=s.state,r=s.dispatch,i=Object(c.useContext)(U.a),l=i.state,j=i.dispatch,b=Object(L.a)({method:"get",url:"master-admin/view-all"}),p=b.response,h=b.isLoading,O=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("delete-data/master-admin/delete/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/master-admin/update/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){if(null!==p){var e=p.data;r({type:"GET_ALL_ADMIN",payload:e})}}),[p]),Object(c.useEffect)((function(){var e=setTimeout((function(){return j({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return j({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[l]),Object(y.jsx)(y.Fragment,{children:a.isLoggedIn&&n&&l&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Admin List"})}),l.success&&Object(y.jsx)(I.a,{children:l.success}),l.error&&Object(y.jsx)(I.a,{children:l.error}),h&&Object(y.jsx)(D,{}),Object(y.jsx)(Ue,{data:n.Admins}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsx)("div",{className:"org-main-area",children:!h&&Object(y.jsx)("div",{className:"subject-main-container",children:n.Admins.map((function(t){return Object(y.jsxs)("div",{className:"small-card",id:"card-".concat(t._id),children:[Object(y.jsxs)("div",{className:"subject-card-body mt-2",children:[Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Name:"}),Object(y.jsx)("div",{className:"name-main",children:t.fullname})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Email:"}),Object(y.jsx)("div",{className:"name-main",children:t.email})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Role:"}),Object(y.jsx)("div",{className:"name-main",children:"1"==(null===t||void 0===t?void 0:t.role)?Object(y.jsx)("b",{children:"Super Admin"}):Object(y.jsx)(y.Fragment,{children:"2"==(null===t||void 0===t?void 0:t.role)?Object(y.jsx)("b",{children:"Admin"}):Object(y.jsx)("b",{children:"Other Admin"})})})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Created On:"}),Object(y.jsx)("div",{className:"name-main",children:t.created_at.split("T")[0]})]})]}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsxs)("div",{className:"subject-card-heading",children:[Object(y.jsx)("div",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)(B.a,{className:"delBtn",onClick:v.bind(e,t._id),children:Object(y.jsx)("span",{className:"fa fa-pencil-square-o text-primary mr-2"})}),Object(y.jsx)(B.a,{className:"delBtn",onClick:O.bind(e,t._id),children:Object(y.jsx)("span",{className:"fa fa-trash text-danger ml-2"})})]})]})]},t._id)}))})})})]})})})})}},{path:"/master-admin/create",component:Ge},{path:"/master-admin/update/:id",component:Ge},{path:"/master-role",component:function(){var e=this,t=Object(o.g)(),a=Object(c.useContext)(m.a).state,s=Object(c.useContext)(q.a),n=s.state,r=(s.dispatch,Object(c.useContext)(U.a)),l=r.state,j=r.dispatch,b=Me(),p=b.data,h=b.isLoading;console.log("response ",p);var O=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("delete-data/master-role/delete/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/master-role/update/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=setTimeout((function(){return j({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return j({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[l.errror,l.success]),Object(y.jsx)(y.Fragment,{children:a.isLoggedIn&&n&&l&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Role List"})}),l.success&&Object(y.jsx)(I.a,{children:l.success}),l.error&&Object(y.jsx)(I.a,{children:l.error}),h&&Object(y.jsx)(D,{}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsxs)(i.b,{to:"/master-role/create",className:"btn btn-sm dark",children:[Object(y.jsx)("span",{className:"fa fa-plus-circle"}),"\xa0 Add New Role"]})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsx)("div",{className:"org-main-area",children:!h&&Object(y.jsx)("div",{className:"subject-main-container",children:null===p||void 0===p?void 0:p.map((function(t){return Object(y.jsxs)("div",{className:"subject-card",id:"card-".concat(t._id),children:[Object(y.jsxs)("div",{className:"subject-card-body mt-2",children:[Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Role:"}),Object(y.jsx)("div",{className:"name-main",children:t.name})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Role_id:"}),Object(y.jsx)("div",{className:"name-main",children:t.role})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Status:"}),Object(y.jsx)("div",{className:"name-main",children:1==t.status?"Active":"Inactive"})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Created On:"}),Object(y.jsx)("div",{className:"name-main",children:t.created_at.split("T")[0]})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Description:"}),Object(y.jsx)("div",{className:"name-main desc",children:t.description})]})]}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsxs)("div",{className:"subject-card-heading",children:[Object(y.jsx)("div",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)(i.b,{to:"view-permission/".concat(t.name.replace(" ","-").toLowerCase().trim(),"/").concat(t._id),children:Object(y.jsx)("span",{className:"fa fa-lock text-warning mr-2"})}),Object(y.jsx)(B.a,{className:"delBtn",onClick:v.bind(e,t._id),children:Object(y.jsx)("span",{className:"fa fa-pencil-square-o text-success mr-2"})}),Object(y.jsx)(B.a,{className:"delBtn",onClick:O.bind(e,t._id),children:Object(y.jsx)("span",{className:"fa fa-trash text-danger"})})]})]})]},t._id)}))})})})]})})})})}},{path:"/view-permission/:role_name/:role_id",component:function(){Object(o.g)();var e=Object(o.i)(),t=Object(c.useContext)(m.a).state,a=Object(c.useContext)(q.a),s=a.state,n=a.dispatch,r=Object(c.useContext)(U.a),l=r.state,d=r.dispatch,u=Ke(),b=(u.formData,u.handleChange,Object(L.a)({method:"get",url:"master-role-permission/view/".concat(e.role_id,"/").concat(e.role_name)})),p=b.response,h=b.isLoading,O=Object(c.useState)(),v=Object(j.a)(O,2),x=v[0],f=v[1];return Object(c.useEffect)((function(){if(null!==p){var e=p.data.permissions;n({type:"GET_ROLE_PERMISSIONS",payload:e}),e&&f(e)}}),[p,x]),Object(c.useEffect)((function(){var e=setTimeout((function(){return d({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return d({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[l.error,l.success]),Object(y.jsx)(y.Fragment,{children:t.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsxs)("h2",{children:["Permission List ",e.role_name]})}),l.success&&Object(y.jsx)(I.a,{children:l.success}),l.error&&Object(y.jsx)(I.a,{children:l.error}),h&&Object(y.jsx)(D,{}),!h&&Object(y.jsxs)("div",{className:"dash-con-heading",children:[Object(y.jsx)(i.b,{to:"/master-role",className:"btn btn-sm dark mr-2",children:Object(y.jsx)("span",{className:"fa fa-arrow-left"})}),Object(y.jsx)(i.b,{to:"/role-permission/update/".concat(e.role_name,"/").concat(e.role_id),className:"btn btn-sm dark",children:"Update Permission"})]}),!h&&Object(y.jsxs)("div",{className:"dash-cont-start",children:[Object(y.jsx)("h4",{className:"mt-2",children:"All Role Permissions"}),Object(y.jsx)("div",{className:"subject-main-container",children:null===s||void 0===s?void 0:s.AllRolePermissions.map((function(e){return Object(y.jsx)("div",{className:"small-card",children:Object(y.jsxs)("div",{className:"subject-card-body mt-2",children:[Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Module Name:"}),Object(y.jsx)("div",{className:"name-main",children:e.module_name.replaceAll("-"," ")})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Method Name:"}),Object(y.jsx)("div",{className:"name-main",children:e.method_name.replaceAll("-"," ")})]})]})},e._id)}))})]})]})})})})}},{path:"/master-module",component:function(){var e=this,t=Object(o.g)(),a=Object(c.useContext)(m.a).state,s=Object(c.useContext)(q.a),n=s.state,r=s.dispatch,l=Object(c.useContext)(U.a),b=l.state,p=l.dispatch,v=Object(L.a)({method:"get",url:"master-module/view-all"}),x=v.response,f=v.isLoading,N=(v.error,Object(c.useState)()),g=Object(j.a)(N,2),_=g[0],k=g[1],w=function(){var e=Object(u.a)(d.a.mark((function e(a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.id,t.push("delete-data/master-module/delete/".concat(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/master-module/update/".concat(a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/".concat(h(a)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(d.a.mark((function e(a){var c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.id,s=a.module_name.toLowerCase().replace(" ","-"),t.push("/view-data/master-module/".concat(s,"/view/").concat(c));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){if(null!==x){var e=x.data;r({type:"GET_ALL_MODLISTS",payload:e}),e&&k(e)}}),[x,_]),Object(c.useEffect)((function(){var e=setTimeout((function(){return p({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return p({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[b]),Object(y.jsx)(y.Fragment,{children:a.isLoggedIn&&b&&n.ModLists&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"Module List"})}),b.success&&Object(y.jsx)(I.a,{children:b.success}),f&&Object(y.jsx)(D,{}),Object(y.jsx)("div",{className:"dash-con-heading",children:Object(y.jsx)("div",{className:"col-md-3 pl-0",children:Object(y.jsxs)(i.b,{to:"/master-module/create",className:"btn btn-sm dark",children:[Object(y.jsx)("span",{className:"fa fa-plus-circle"}),"\xa0 Add New Module"]})})}),Object(y.jsx)("div",{className:"dash-cont-start",children:Object(y.jsx)("div",{className:"org-main-area",children:!f&&Object(y.jsx)("div",{className:"subject-main-container",children:n.ModLists.map((function(t){return Object(y.jsxs)("div",{className:"subject-card",id:"card-".concat(t._id),children:[Object(y.jsxs)("div",{className:"subject-card-body mt-2",children:[Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Module Name:"}),Object(y.jsx)("div",{className:"name-main",children:t.module_name})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Status:"}),Object(y.jsx)("div",{className:"name-main",children:1==t.status?"Active":"Inactive"})]}),Object(y.jsxs)("div",{className:"admin-name",children:[Object(y.jsx)("div",{className:"name-label",children:"Description:"}),Object(y.jsx)("div",{className:"name-main desc",children:O(t.description,30)})]})]}),Object(y.jsx)("hr",{className:"mt-1 mb-1"}),Object(y.jsxs)("div",{className:"subject-card-heading",children:[Object(y.jsx)("div",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1 ",onClick:S.bind(e,t.module_name),children:Object(y.jsx)("span",{className:"fa fa-eye mr-2 text-success"})}),Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1",onClick:C.bind(e,t._id),children:Object(y.jsx)("span",{className:"fa fa-edit mr-2 text-danger"})}),Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1",onClick:T.bind(e,{id:t._id,module_name:t.module_name}),children:Object(y.jsx)("span",{className:"fa fa-lock mr-2 text-success"})}),Object(y.jsx)(B.a,{className:"delBtn pl-1 pr-1",onClick:w.bind(e,{id:t._id,module_name:t.module_name}),children:Object(y.jsx)("span",{className:"fa fa-trash mr-2 text-danger"})})]})]})]},t._id)}))})})})]})})})})}},{path:"/master-module/create",component:Qe},{path:"/master-module/update/:id",component:Qe},{path:"/master-module/password/:module_name/:module_id",component:Ve.a},{path:"/master-module/password/:module_name/:module_id/:module_method/:id",component:Ve.a},{path:"/master-role/create",component:ze},{path:"/master-role/update/:id",component:ze},{path:"/master-permission-group",component:We},{path:"/master-permission-group/:module_name/update/:id",component:We},{path:"/role-permission",component:Ze},{path:"/role-permission/update/:role_name/:role_id",component:Ze},{path:"/user-permission",component:function(){Object(o.g)();var e=Object(c.useContext)(m.a).state,t=Object(c.useContext)(q.a),a=t.state,s=t.dispatch,n=Object(c.useContext)(U.a),r=n.state,i=n.dispatch,l=Ke(),b=l.formData,p=l.handleChange,h=Object(L.a)({method:"get",url:"master-permission-group/view-all"}),O=h.response,v=h.isLoading,x=Object(L.a)({method:"get",url:"master-admin/view-all"}).response,f=Object(c.useState)(),N=Object(j.a)(f,2),g=N[0],_=N[1],k=Object(c.useState)(),w=Object(j.a)(k,2),C=(w[0],w[1]);Object(c.useEffect)((function(){if(null!==O){var e=O.data;s({type:"GET_ALL_PERMISSION_GROUPS",payload:e}),e&&_(e)}if(null!==x){var t=x.data;s({type:"GET_ALL_ADMIN",payload:t}),t&&C(t)}}),[O,g,x,C]),Object(c.useEffect)((function(){var e=setTimeout((function(){return i({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return i({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[r.error,r.success]);var S=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(b);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:e.isLoggedIn&&Object(y.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(y.jsx)("div",{className:"main-area-all",children:Object(y.jsxs)("div",{className:"dashboard_main-container",children:[Object(y.jsx)("div",{className:"dash-main-head",children:Object(y.jsx)("h2",{children:"User Permissions"})}),r.success&&Object(y.jsx)(I.a,{children:r.success}),r.error&&Object(y.jsx)(I.a,{children:r.error}),v&&Object(y.jsx)(D,{}),Object(y.jsxs)("div",{className:"dash-con-heading",children:[Object(y.jsx)("h4",{children:"Select Admins"}),Object(y.jsxs)("div",{className:"col-md-12 row",children:[Object(y.jsxs)("select",{name:"admin",className:"roles col-md-6 form-control",onChange:p,children:[Object(y.jsx)("option",{value:"",children:"Select Admins"}),a.Admins.map((function(e){return Object(y.jsx)("option",{value:"".concat(e.fullname.toLowerCase().trim().replaceAll(" ","-"),"_").concat(e._id),children:e.fullname},e._id)}))]}),Object(y.jsx)(B.a,{onClick:S,className:"btn btn-sm dark",children:"Save Permission"})]})]}),!v&&Object(y.jsxs)("div",{className:"dash-cont-start",children:[Object(y.jsx)("h4",{className:"mt-2",children:"All Permission Groups"}),Object(y.jsx)("hr",{}),a.permissionGroups.map((function(e){return Object(y.jsxs)("div",{className:"mb-2",children:[Object(y.jsx)("h5",{className:"module_name cursor",children:Object(y.jsx)("span",{style:{marginLeft:"5px"},htmlFor:e.module_name,children:e.module_name.replaceAll("-"," ")})}),Object(y.jsx)("hr",{}),Object(y.jsx)("div",{className:"col-md-12 row",children:e.module_method.map((function(t){return Object(y.jsx)("div",{className:"col-md-2 subject-card",children:Object(y.jsxs)("label",{htmlFor:t._id,style:{marginBottom:"0px"},children:[Object(y.jsx)("input",{type:"checkbox",name:"module_method",id:t._id,onChange:p,value:"".concat(t.name,"_").concat(e.module_name)}),Object(y.jsx)("span",{style:{marginLeft:"5px"},children:t.name})]})},t._id)}))})]},e._id)}))]})]})})})})}}],tt=new(a(227).a)({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});var at=function(){return Object(y.jsx)(i.a,{children:Object(y.jsx)("div",{className:"wrapper",children:Object(y.jsx)("div",{className:"row no-gutters",children:Object(y.jsx)(X.a,{client:tt,children:Object(y.jsx)(m.b,{children:Object(y.jsx)(q.b,{children:Object(y.jsx)(z,{children:Object(y.jsx)(U.b,{children:Object(y.jsxs)(ae.ToastProvider,{children:[Object(y.jsx)(w,{}),Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsxs)(o.d,{children:[Xe&&Xe.map((function(e){return Object(y.jsx)(o.b,{exact:!0,path:e.path,component:e.component},e.path)})),$e&&$e.map((function(e){return Object(y.jsx)(T,{exact:!0,path:e.path,component:e.component},e.path)})),et&&et.map((function(e){return Object(y.jsx)(E,{exact:!0,path:e.path,component:e.component},e.path)}))]})})]})})})})})})})})})};r.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(at,{})}),document.getElementById("root"))},26:function(e,t,a){"use strict";a.d(t,"b",(function(){return j})),a.d(t,"d",(function(){return m})),a.d(t,"c",(function(){return h})),a.d(t,"a",(function(){return v}));var c=a(2),s=a.n(c),n=a(3),r=(a(1),a(8)),i=a.n(r),o=a(10),l=localStorage.getItem("access_token"),d="";d=o.a;var u=i.a.create({baseURL:d,headers:{"Content-Type":"Application/json",Authorization:"Bearer "+l}});function j(e){return b.apply(this,arguments)}function b(){return(b=Object(n.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return p.apply(this,arguments)}function p(){return(p=Object(n.a)(s.a.mark((function e(t,a){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.post(t,a);case 3:return c=e.sent,e.abrupt("return",c);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function h(e,t){return O.apply(this,arguments)}function O(){return(O=Object(n.a)(s.a.mark((function e(t,a){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.patch(t,a);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return x.apply(this,arguments)}function x(){return(x=Object(n.a)(s.a.mark((function e(t,a){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.delete(t,a);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},5:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var c=a(4),s=a(6),n=a(1),r=a.n(n),i=a(0),o=localStorage.getItem("fullname"),l=localStorage.getItem("email"),d=localStorage.getItem("role"),u=localStorage.getItem("created_at"),j=localStorage.getItem("isLoggedIn"),b=localStorage.getItem("access_token"),m=localStorage.getItem("refresh_token"),p={isLoggedIn:j||!1,fullname:o||null,email:l||null,role:d||null,created_at:u||null,access_token:b||null,refresh_token:m||null},h=r.a.createContext(p),O=function(e,t){switch(t.type){case"LOGIN":return Object(s.a)(Object(s.a)({},e),{},{isLoggedIn:t.payload.isLoggedIn,fullname:t.payload.fullname,email:t.payload.email,role:t.payload.role,created_at:t.payload.created_at,access_token:t.payload.access_token,refresh_token:t.payload.refresh_token});case"LOGOUT":return localStorage.clear(),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("fullname"),localStorage.removeItem("email"),Object(s.a)(Object(s.a)({},e),{},{isLoggedIn:!1,fullname:null,email:null,access_token:null,refresh_token:null});default:return e}};t.b=function(e){var t=e.children,a=Object(n.useReducer)(O,p),s=Object(c.a)(a,2),r=s[0],o=s[1];return Object(i.jsx)(h.Provider,{value:{state:r,dispatch:o},children:t})}},58:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var c=a(2),s=a.n(c),n=a(3),r=a(4),i=a(1);function o(){var e=Object(i.useState)(null),t=Object(r.a)(e,2),a=t[0],c=t[1],o=function(){var e=Object(n.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$&*",n=1;n<=12;n++)r=Math.floor(Math.random()*a.length+1),t+=a.charAt(r);c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return o()}),[]),{randomPassword:a,generateRandomPassword:o}}},94:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return g}));var c=a(25),s=a(2),n=a.n(s),r=a(6),i=a(3),o=a(4),l=a(1),d=(a(19),a(27)),u=a(7),j=a(43),b=a(72),m=a(26),p=a(22),h=a(58),O=a(5),v=a(11),x=a(18),f=a(17),N=a(0);function g(){var t=this,a=Object(d.g)(),s=Object(d.i)(),g=Object(l.useContext)(O.a).state,_=Object(l.useContext)(x.a),k=_.state,y=_.dispatch,w=Object(l.useContext)(f.a),C=w.state,S=w.dispatch,T=Object(h.a)(),E=T.randomPassword,A=T.generateRandomPassword,B=Object(l.useState)(""),R=Object(o.a)(B,2),q=R[0],L=R[1],I=Object(l.useState)(!1),D=Object(o.a)(I,2),P=D[0],F=D[1];function U(){return(U=Object(i.a)(n.a.mark((function e(t){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c=null,q.module_method="delete",q.module_password=E,q.module_plain_password=E,!s.id){e.next=11;break}return e.next=8,m.c("master-delete/update/".concat(s.id),q);case 8:c=e.sent,e.next=14;break;case 11:return e.next=13,m.d("master-delete/create",q);case 13:c=e.sent;case 14:F(!0),y({type:"SET_SUCCESS",payload:c.message}),S({type:"GET_REMOVE_ALL_DATA",payload:c.data.data}),a.push("/master-module/password/".concat(s.module_name,"/").concat(s.module_id));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return G.apply(this,arguments)}function G(){return(G=Object(i.a)(n.a.mark((function e(t){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,s=a.replace(/[^a-zA-Z0-9-, ]/g,""),L(Object(r.a)(Object(r.a)({},q),{},Object(c.a)({},t.target.name,s)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=Object(p.a)({method:"get",url:"master-delete/view/".concat(s.module_name)}).response,Q=Object(l.useState)(""),V=Object(o.a)(Q,2),K=V[0],H=V[1];Object(l.useEffect)((function(){if(null!==z){var e=z.data;S({type:"GET_REMOVE_ALL_DATA",payload:e}),H(e)}}),[z,P]),Object(l.useEffect)((function(){var e=setTimeout((function(){return y({type:"SET_ERROR",payload:""})}),1500),t=setTimeout((function(){return y({type:"SET_SUCCESS",payload:""})}),1500);return function(){clearTimeout(e),clearTimeout(t)}}),[k.error,k.success]),Object(l.useEffect)((function(){L(Object(r.a)(Object(r.a)({},q),{},{module_name:s.module_name,module_id:s.module_id,module_method:""}))}),[s]);var Y=function(){var e=Object(i.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/delete-data/master-module/delete/".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(i.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/master-module/password/".concat(s.module_name,"/").concat(s.module_id,"/").concat(t.module_method,"/").concat(t.id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=Object(l.useState)(!0),Z=Object(o.a)(W,2),X=Z[0],$=Z[1],ee=Object(l.useState)(!1),te=Object(o.a)(ee,2),ae=te[0],ce=te[1],se=Object(l.useState)(!1),ne=Object(o.a)(se,2),re=ne[0],ie=ne[1],oe=Object(l.useState)(""),le=Object(o.a)(oe,2),de=le[0],ue=le[1],je=function(){"wrongpassword"==de?(ie(!0),ce(!1)):(alert("you have entered a wrong password"),ie(!1),ce(!0),ue(""))};return Object(N.jsx)(N.Fragment,{children:g.isLoggedIn&&k&&C.RemoveAllDatas&&Object(N.jsx)("div",{className:"col-lg-10 col-md-10 main_dash_area",children:Object(N.jsx)("div",{className:"main-area-all",children:Object(N.jsxs)("div",{className:"dashboard_main-container",children:[Object(N.jsx)("div",{className:"dash-main-head",children:Object(N.jsx)("h2",{children:"Create New Module"})}),Object(N.jsx)("div",{className:"dash-cont-start",children:Object(N.jsxs)("div",{className:"org-main-area",children:[Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-md-4",children:Object(N.jsx)(u.b,{to:"/master-module",className:"btn btn-sm dark",children:Object(N.jsx)("span",{className:"fa fa-arrow-left"})})}),Object(N.jsx)("div",{className:"col-md-8 pl-0",children:Object(N.jsx)("h5",{children:Object(N.jsx)("em",{children:Object(N.jsx)("b",{children:"All Methods Password"})})})})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-md-4 no-gutter mt-2",children:[k.error&&Object(N.jsx)(v.a,{children:k.error}),k.success&&Object(N.jsx)(v.a,{children:k.success}),Object(N.jsxs)(j.a,{autoComplete:"off",className:"col-md-12 p-0",children:[Object(N.jsxs)(j.a.Group,{method:"POST",children:[Object(N.jsx)(j.a.Label,{children:"Module Name"}),Object(N.jsx)(j.a.Control,{name:"module_name",autoComplete:"off",defaultValue:s.module_name,onChange:M,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Enter Module Name"})]}),Object(N.jsxs)(j.a.Group,{method:"POST",children:[Object(N.jsx)(j.a.Label,{children:Object(N.jsxs)("p",{className:"pl-0 mb-0",style:{cursor:"pointer",fontWeight:"bold"},onClick:A,children:[Object(N.jsx)("span",{className:"fa fa-lock mr-2 text-success"}),"Generate Random password"]})}),Object(N.jsx)(j.a.Control,{name:"module_password",autoComplete:"off",defaultValue:e.module_password?A:E,onChange:M,readOnly:!0,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Module Password"})]}),Object(N.jsxs)(j.a.Group,{className:"mt-3",children:[Object(N.jsx)(b.a,{onClick:function(e){return U.apply(this,arguments)},className:"btn dark btn-md",children:s.id?"Update Password":"Save Password"}),s.id&&Object(N.jsx)(b.a,{onClick:function(){a.push("/master-module/password/".concat(s.module_name,"/").concat(s.module_id))},className:"btn dark btn-md ml-2",children:"Cancel"})]})]})]}),Object(N.jsx)("div",{className:"col-md-4 pl-0 subject-main-container",children:K&&K.map((function(e){return Object(N.jsxs)("div",{className:"col-md-12 module-card",id:"card-".concat(e._id),children:[Object(N.jsxs)("div",{className:"subject-card-body mt-2",children:[Object(N.jsxs)("div",{className:"admin-name",children:[Object(N.jsx)("div",{className:"name-label",children:"Module Name:"}),Object(N.jsx)("div",{className:"name-main",children:e.module_name})]}),Object(N.jsxs)("div",{className:"admin-name",children:[Object(N.jsx)("div",{className:"name-label",children:"Module Method:"}),Object(N.jsx)("div",{className:"name-main",children:e.module_method})]}),Object(N.jsxs)("div",{className:"admin-name",children:[Object(N.jsx)("div",{className:"name-label",children:"Module Password:"}),X&&Object(N.jsxs)("div",{className:"name-main",children:[Object(N.jsx)("span",{children:"*************"}),Object(N.jsx)("span",{className:"fa fa-eye ml-2",style:{cursor:"pointer"},onClick:function(e){ce(!0),$(!1),ue("")}})]}),re&&Object(N.jsxs)("div",{className:"name-main",children:[Object(N.jsx)("span",{children:e.module_plain_password}),Object(N.jsx)("div",{className:"update-icons col-md-3 pr-2",children:Object(N.jsx)("span",{className:" fa fatimes ml-2",style:{cursor:"pointer"},onClick:function(e){ce(!1),ie(!1),$(!0)}})})]}),ae&&Object(N.jsxs)("div",{className:"name-main",children:[Object(N.jsx)("input",{type:"password",name:"password",autoComplete:"off",value:de,onChange:function(e){return ue(e.target.value)},className:"col-md-9 form-control",style:{height:"25px"}}),Object(N.jsxs)("div",{className:"update-icons col-md-3 pr-2",children:[Object(N.jsx)("span",{className:"ml-2 fa fa-eye-slash",style:{cursor:"pointer"},onClick:je}),Object(N.jsx)("span",{className:"ml-2 fa fa-times",style:{cursor:"pointer"},onClick:function(e){ce(!1),$(!0)}})]})]})]}),Object(N.jsxs)("div",{className:"admin-name",children:[Object(N.jsx)("div",{className:"name-label",children:"Status:"}),Object(N.jsx)("div",{className:"name-main",children:1==e.status?"Active":"Inactive"})]})]}),Object(N.jsx)("hr",{className:"mt-2 mb-2"}),Object(N.jsxs)("div",{className:"subject-card-heading",children:[Object(N.jsx)("div",{}),Object(N.jsxs)("div",{children:[Object(N.jsx)(b.a,{className:"delBtn",onClick:J.bind(t,{id:e._id,module_method:e.module_method}),children:Object(N.jsx)("span",{className:"fa fa-edit text-muted mr-2"})}),Object(N.jsx)(b.a,{className:"delBtn",onClick:Y.bind(t,e._id),children:Object(N.jsx)("span",{className:"fa fa-trash text-danger mr-2"})})]})]})]},e._id)}))})]})]})})]})})})})}}).call(this,a(222)(e))}},[[223,1,2]]]);
//# sourceMappingURL=main.2693f5b0.chunk.js.map